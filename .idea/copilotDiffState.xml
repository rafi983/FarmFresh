<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/add-reviews-to-all.js">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/add-reviews-to-all.js" />
              <option name="updatedContent" value="// Add reviews to ALL products that don't have any reviews&#10;const { MongoClient, ObjectId } = require('mongodb');&#10;&#10;async function addReviewsToAllProducts() {&#10;  const client = new MongoClient('mongodb://localhost:27017');&#10;  await client.connect();&#10;  const db = client.db('farmfresh');&#10;  &#10;  // Get ALL products&#10;  const allProducts = await db.collection('products').find({}).toArray();&#10;  console.log(`Found ${allProducts.length} total products`);&#10;  &#10;  // Get all existing reviews&#10;  const existingReviews = await db.collection('reviews').find({}).toArray();&#10;  const reviewedProductIds = [...new Set(existingReviews.map(r =&gt; r.productId))];&#10;  console.log(`Found ${existingReviews.length} existing reviews for ${reviewedProductIds.length} products`);&#10;  &#10;  // Find products that have NO reviews&#10;  const productsWithoutReviews = allProducts.filter(product =&gt; &#10;    !reviewedProductIds.includes(product._id.toString())&#10;  );&#10;  &#10;  console.log(`Found ${productsWithoutReviews.length} products WITHOUT reviews`);&#10;  console.log('Products without reviews:');&#10;  productsWithoutReviews.forEach(p =&gt; console.log(`- ${p.name} (ID: ${p._id})`));&#10;  &#10;  // Add sample reviews to products without reviews&#10;  for (const product of productsWithoutReviews) {&#10;    const ratings = [4, 4.5, 5, 3.5, 4.5]; // Random good ratings&#10;    const numReviews = Math.floor(Math.random() * 3) + 2; // 2-4 reviews per product&#10;    &#10;    const sampleReviews = [];&#10;    for (let i = 0; i &lt; numReviews; i++) {&#10;      const rating = ratings[Math.floor(Math.random() * ratings.length)];&#10;      sampleReviews.push({&#10;        productId: product._id.toString(),&#10;        userId: `sample-user-${i + 1}`,&#10;        reviewer: ['John Doe', 'Jane Smith', 'Mike Johnson', 'Sarah Wilson', 'David Brown'][i] || 'Anonymous',&#10;        rating: rating,&#10;        comment: [&#10;          `Great quality ${product.name}! Fresh and delicious.`,&#10;          `Excellent ${product.name}. Highly recommended!`,&#10;          `Good quality ${product.name}. Will buy again.`,&#10;          `Amazing ${product.name}! Worth every penny.`,&#10;          `Perfect ${product.name}. Fast delivery too!`&#10;        ][i] || `Nice ${product.name}!`,&#10;        createdAt: new Date(Date.now() - Math.random() * 30 * 24 * 60 * 60 * 1000), // Random date within last 30 days&#10;        updatedAt: new Date()&#10;      });&#10;    }&#10;    &#10;    await db.collection('reviews').insertMany(sampleReviews);&#10;    console.log(`✅ Added ${numReviews} reviews for ${product.name}`);&#10;  }&#10;  &#10;  console.log(`✅ Successfully added reviews to ${productsWithoutReviews.length} products!`);&#10;  await client.close();&#10;}&#10;&#10;addReviewsToAllProducts().catch(console.error);" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/add-reviews-to-old.js">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/add-reviews-to-old.js" />
              <option name="updatedContent" value="// Add sample reviews to some old products that currently have no reviews&#10;const { MongoClient, ObjectId } = require('mongodb');&#10;&#10;async function addReviewsToOldProducts() {&#10;  const client = new MongoClient('mongodb://localhost:27017');&#10;  await client.connect();&#10;  const db = client.db('farmfresh');&#10;  &#10;  // Get old products that have no reviews (excluding mango and top grain)&#10;  const oldProducts = await db.collection('products').find({&#10;    _id: { &#10;      $nin: [&#10;        new ObjectId('6889cb7ab6d22dd651140bee'), // mango&#10;        new ObjectId('688affa63c35c3c0ff9c4925')  // top grain&#10;      ]&#10;    }&#10;  }).limit(5).toArray(); // Just add reviews to first 5 old products&#10;  &#10;  console.log(`Adding sample reviews to ${oldProducts.length} old products...\n`);&#10;  &#10;  const sampleReviewers = [&#10;    'Alice Johnson', 'Bob Smith', 'Carol Davis', 'David Wilson', 'Emma Brown',&#10;    'Frank Miller', 'Grace Lee', 'Henry Taylor', 'Ivy Chen', 'Jack Anderson'&#10;  ];&#10;  &#10;  const sampleComments = [&#10;    'Excellent quality! Fresh and delicious.',&#10;    'Great product, will buy again.',&#10;    'Very satisfied with the freshness.',&#10;    'Good value for money.',&#10;    'Highly recommended!',&#10;    'Perfect quality, as expected.',&#10;    'Fresh and tasty!',&#10;    'Amazing product quality.',&#10;    'Will definitely order again.',&#10;    'Best quality I\'ve found!'&#10;  ];&#10;  &#10;  for (const product of oldProducts) {&#10;    const numReviews = Math.floor(Math.random() * 4) + 2; // 2-5 reviews per product&#10;    const reviews = [];&#10;    &#10;    for (let i = 0; i &lt; numReviews; i++) {&#10;      const rating = [4, 4.5, 5, 3.5, 4.5][Math.floor(Math.random() * 5)]; // Good ratings&#10;      const reviewer = sampleReviewers[Math.floor(Math.random() * sampleReviewers.length)];&#10;      const comment = sampleComments[Math.floor(Math.random() * sampleComments.length)];&#10;      &#10;      reviews.push({&#10;        productId: product._id.toString(),&#10;        userId: `sample-user-${i + 1}`,&#10;        reviewer: reviewer,&#10;        rating: rating,&#10;        comment: `${comment} ${product.name} exceeded my expectations!`,&#10;        createdAt: new Date(Date.now() - Math.random() * 30 * 24 * 60 * 60 * 1000), // Random date within last 30 days&#10;        updatedAt: new Date()&#10;      });&#10;    }&#10;    &#10;    await db.collection('reviews').insertMany(reviews);&#10;    console.log(`✅ Added ${numReviews} reviews to ${product.name}`);&#10;  }&#10;  &#10;  console.log(`\n Successfully added reviews to ${oldProducts.length} old products!`);&#10;  console.log('Now refresh your products page - these products should show star ratings!');&#10;  &#10;  await client.close();&#10;}&#10;&#10;addReviewsToOldProducts().catch(console.error);" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/add-sample-reviews.js">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/add-sample-reviews.js" />
              <option name="updatedContent" value="// Add sample reviews to existing products&#10;const { MongoClient, ObjectId } = require('mongodb');&#10;&#10;async function addSampleReviews() {&#10;  const client = new MongoClient('mongodb://localhost:27017');&#10;  await client.connect();&#10;  const db = client.db('farmfresh');&#10;  &#10;  // Get the first 3 existing products&#10;  const products = await db.collection('products').find({}).limit(3).toArray();&#10;  &#10;  console.log('Adding sample reviews to existing products...');&#10;  &#10;  for (const product of products) {&#10;    // Add 2-3 sample reviews for each product&#10;    const sampleReviews = [&#10;      {&#10;        productId: product._id.toString(),&#10;        userId: 'sample-user-1',&#10;        reviewer: 'John Doe',&#10;        rating: 4.5,&#10;        comment: `Great quality ${product.name}! Fresh and delicious.`,&#10;        createdAt: new Date(),&#10;        updatedAt: new Date()&#10;      },&#10;      {&#10;        productId: product._id.toString(),&#10;        userId: 'sample-user-2', &#10;        reviewer: 'Jane Smith',&#10;        rating: 5,&#10;        comment: `Excellent ${product.name}. Highly recommended!`,&#10;        createdAt: new Date(),&#10;        updatedAt: new Date()&#10;      },&#10;      {&#10;        productId: product._id.toString(),&#10;        userId: 'sample-user-3',&#10;        reviewer: 'Mike Johnson', &#10;        rating: 4,&#10;        comment: `Good quality ${product.name}. Will buy again.`,&#10;        createdAt: new Date(),&#10;        updatedAt: new Date()&#10;      }&#10;    ];&#10;    &#10;    await db.collection('reviews').insertMany(sampleReviews);&#10;    console.log(`✅ Added 3 reviews for ${product.name}`);&#10;  }&#10;  &#10;  console.log('✅ Sample reviews added successfully!');&#10;  await client.close();&#10;}&#10;&#10;addSampleReviews().catch(console.error);" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/api/farmers/migrate/route.js">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/api/farmers/migrate/route.js" />
              <option name="updatedContent" value="import { NextResponse } from &quot;next/server&quot;;&#10;import clientPromise from &quot;@/lib/mongodb&quot;;&#10;&#10;export async function POST(request) {&#10;  try {&#10;    const client = await clientPromise;&#10;    const db = client.db(&quot;farmfresh&quot;);&#10;    const usersCollection = db.collection(&quot;users&quot;);&#10;    const farmersCollection = db.collection(&quot;farmers&quot;);&#10;&#10;    // Find all users with userType &quot;farmer&quot;&#10;    const farmerUsers = await usersCollection.find({ userType: &quot;farmer&quot; }).toArray();&#10;    &#10;    console.log(`Found ${farmerUsers.length} farmer users to migrate`);&#10;&#10;    let migratedCount = 0;&#10;    let skippedCount = 0;&#10;&#10;    for (const user of farmerUsers) {&#10;      // Check if farmer already exists in farmers collection&#10;      const existingFarmer = await farmersCollection.findOne({ _id: user._id });&#10;      &#10;      if (!existingFarmer) {&#10;        // Create farmer document&#10;        const farmerData = {&#10;          _id: user._id,&#10;          name: user.name || `${user.firstName} ${user.lastName}`,&#10;          email: user.email,&#10;          phone: user.phone || &quot;&quot;,&#10;          location: user.address || &quot;&quot;,&#10;          farmName: user.farmDetails?.farmName || `${user.name}'s Farm`,&#10;          specializations: user.farmDetails?.specialization ? &#10;            Array.isArray(user.farmDetails.specialization) ? &#10;              user.farmDetails.specialization : &#10;              [user.farmDetails.specialization] : &#10;            [&quot;General Farming&quot;],&#10;          farmSize: user.farmDetails?.farmSize || null,&#10;          farmSizeUnit: user.farmDetails?.farmSizeUnit || &quot;acres&quot;,&#10;          bio: user.bio || &quot;&quot;,&#10;          profilePicture: user.profilePicture || null,&#10;          rating: 0,&#10;          totalReviews: 0,&#10;          verified: false,&#10;          joinedDate: user.createdAt || new Date(),&#10;          products: [],&#10;          orders: [],&#10;          availability: {&#10;            status: &quot;available&quot;,&#10;            schedule: {&#10;              monday: { start: &quot;09:00&quot;, end: &quot;17:00&quot;, available: true },&#10;              tuesday: { start: &quot;09:00&quot;, end: &quot;17:00&quot;, available: true },&#10;              wednesday: { start: &quot;09:00&quot;, end: &quot;17:00&quot;, available: true },&#10;              thursday: { start: &quot;09:00&quot;, end: &quot;17:00&quot;, available: true },&#10;              friday: { start: &quot;09:00&quot;, end: &quot;17:00&quot;, available: true },&#10;              saturday: { start: &quot;09:00&quot;, end: &quot;15:00&quot;, available: true },&#10;              sunday: { start: &quot;10:00&quot;, end: &quot;14:00&quot;, available: false }&#10;            }&#10;          },&#10;          socialMedia: {&#10;            facebook: &quot;&quot;,&#10;            instagram: &quot;&quot;,&#10;            twitter: &quot;&quot;,&#10;            website: &quot;&quot;&#10;          },&#10;          certifications: [],&#10;          deliveryOptions: {&#10;            farmPickup: true,&#10;            localDelivery: false,&#10;            shipping: false,&#10;            deliveryRadius: 0&#10;          },&#10;          createdAt: user.createdAt || new Date(),&#10;          updatedAt: new Date()&#10;        };&#10;&#10;        // Insert farmer&#10;        await farmersCollection.insertOne(farmerData);&#10;        console.log(`✅ Migrated farmer: ${farmerData.name}`);&#10;        migratedCount++;&#10;      } else {&#10;        console.log(`⚠️  Farmer ${user.name} already exists in farmers collection`);&#10;        skippedCount++;&#10;      }&#10;    }&#10;&#10;    // Get final count&#10;    const totalFarmers = await farmersCollection.countDocuments();&#10;    &#10;    return NextResponse.json({&#10;      success: true,&#10;      message: &quot;Farmer migration completed&quot;,&#10;      results: {&#10;        farmersFound: farmerUsers.length,&#10;        migrated: migratedCount,&#10;        skipped: skippedCount,&#10;        totalFarmersInCollection: totalFarmers&#10;      }&#10;    });&#10;    &#10;  } catch (error) {&#10;    console.error(&quot;Migration error:&quot;, error);&#10;    return NextResponse.json(&#10;      { &#10;        success: false, &#10;        error: &quot;Failed to migrate farmers&quot;,&#10;        message: error.message &#10;      },&#10;      { status: 500 }&#10;    );&#10;  }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/farmer-dashboard/page.js">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/farmer-dashboard/page.js" />
              <option name="updatedContent" value="&quot;use client&quot;;&#10;                    &lt;/div&gt;&#10;&#10;                    &lt;div&gt;&#10;                      &lt;label className=&quot;block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2&quot;&gt;&#10;                        City&#10;                      &lt;/label&gt;&#10;                      &lt;input&#10;                        type=&quot;text&quot;&#10;                        value={farmerData.contactInfo.address.city}&#10;                        onChange={(e) =&gt;&#10;                          handleNestedChange(&quot;contactInfo&quot;, &quot;address&quot;, &quot;city&quot;, e.target.value)&#10;                        }&#10;                        className=&quot;w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white&quot;&#10;                      /&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    &lt;div&gt;&#10;                      &lt;label className=&quot;block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2&quot;&gt;&#10;                        State/Province&#10;                      &lt;/label&gt;&#10;                      &lt;input&#10;                        type=&quot;text&quot;&#10;                        value={farmerData.contactInfo.address.state}&#10;                        onChange={(e) =&gt;&#10;                          handleNestedChange(&quot;contactInfo&quot;, &quot;address&quot;, &quot;state&quot;, e.target.value)&#10;                        }&#10;                        className=&quot;w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white&quot;&#10;                      /&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    &lt;div&gt;&#10;                      &lt;label className=&quot;block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2&quot;&gt;&#10;                        ZIP/Postal Code&#10;                      &lt;/label&gt;&#10;                      &lt;input&#10;                        type=&quot;text&quot;&#10;                        value={farmerData.contactInfo.address.zipCode}&#10;                        onChange={(e) =&gt;&#10;                          handleNestedChange(&quot;contactInfo&quot;, &quot;address&quot;, &quot;zipCode&quot;, e.target.value)&#10;                        }&#10;                        className=&quot;w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white&quot;&#10;                      /&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    &lt;div&gt;&#10;                      &lt;label className=&quot;block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2&quot;&gt;&#10;                        Country&#10;                      &lt;/label&gt;&#10;                      &lt;select&#10;                        value={farmerData.contactInfo.address.country}&#10;                        onChange={(e) =&gt;&#10;                          handleNestedChange(&quot;contactInfo&quot;, &quot;address&quot;, &quot;country&quot;, e.target.value)&#10;                        }&#10;                        className=&quot;w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white&quot;&#10;                      &gt;&#10;                        &lt;option value=&quot;&quot;&gt;Select Country&lt;/option&gt;&#10;                        &lt;option value=&quot;US&quot;&gt;United States&lt;/option&gt;&#10;                        &lt;option value=&quot;CA&quot;&gt;Canada&lt;/option&gt;&#10;                        &lt;option value=&quot;UK&quot;&gt;United Kingdom&lt;/option&gt;&#10;                        &lt;option value=&quot;AU&quot;&gt;Australia&lt;/option&gt;&#10;                      &lt;/select&gt;&#10;                    &lt;/div&gt;&#10;                  &lt;/div&gt;&#10;                &lt;/div&gt;&#10;&#10;                &lt;button&#10;                  onClick={() =&gt; handleSaveChanges(&quot;contactInfo&quot;)}&#10;                  disabled={loading}&#10;                  className=&quot;bg-primary-600 text-white px-6 py-2 rounded-md hover:bg-primary-700 focus:ring-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed&quot;&#10;                &gt;&#10;                  {loading ? &quot;Saving...&quot; : &quot;Save Contact Information&quot;}&#10;                &lt;/button&gt;&#10;              &lt;/div&gt;&#10;            )}&#10;&#10;            {/* Settings Tab */}&#10;            {activeTab === &quot;settings&quot; &amp;&amp; (&#10;              &lt;div className=&quot;space-y-6&quot;&gt;&#10;                &lt;h3 className=&quot;text-lg font-medium text-gray-900 dark:text-white&quot;&gt;&#10;                  Settings&#10;                &lt;/h3&gt;&#10;&#10;                {/* Notification Settings */}&#10;                &lt;div&gt;&#10;                  &lt;h4 className=&quot;text-md font-medium text-gray-900 dark:text-white mb-4&quot;&gt;&#10;                    Notification Preferences&#10;                  &lt;/h4&gt;&#10;                  &lt;div className=&quot;space-y-3&quot;&gt;&#10;                    &lt;label className=&quot;flex items-center&quot;&gt;&#10;                      &lt;input&#10;                        type=&quot;checkbox&quot;&#10;                        checked={farmerData.settings.notifications.orderAlerts}&#10;                        onChange={(e) =&gt;&#10;                          handleNestedChange(&quot;settings&quot;, &quot;notifications&quot;, &quot;orderAlerts&quot;, e.target.checked)&#10;                        }&#10;                        className=&quot;rounded border-gray-300 text-primary-600 shadow-sm focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50&quot;&#10;                      /&gt;&#10;                      &lt;span className=&quot;ml-2 text-sm text-gray-700 dark:text-gray-300&quot;&gt;&#10;                        New order alerts&#10;                      &lt;/span&gt;&#10;                    &lt;/label&gt;&#10;&#10;                    &lt;label className=&quot;flex items-center&quot;&gt;&#10;                      &lt;input&#10;                        type=&quot;checkbox&quot;&#10;                        checked={farmerData.settings.notifications.lowStockAlerts}&#10;                        onChange={(e) =&gt;&#10;                          handleNestedChange(&quot;settings&quot;, &quot;notifications&quot;, &quot;lowStockAlerts&quot;, e.target.checked)&#10;                        }&#10;                        className=&quot;rounded border-gray-300 text-primary-600 shadow-sm focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50&quot;&#10;                      /&gt;&#10;                      &lt;span className=&quot;ml-2 text-sm text-gray-700 dark:text-gray-300&quot;&gt;&#10;                        Low stock alerts&#10;                      &lt;/span&gt;&#10;                    &lt;/label&gt;&#10;&#10;                    &lt;label className=&quot;flex items-center&quot;&gt;&#10;                      &lt;input&#10;                        type=&quot;checkbox&quot;&#10;                        checked={farmerData.settings.notifications.customerMessages}&#10;                        onChange={(e) =&gt;&#10;                          handleNestedChange(&quot;settings&quot;, &quot;notifications&quot;, &quot;customerMessages&quot;, e.target.checked)&#10;                        }&#10;                        className=&quot;rounded border-gray-300 text-primary-600 shadow-sm focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50&quot;&#10;                      /&gt;&#10;                      &lt;span className=&quot;ml-2 text-sm text-gray-700 dark:text-gray-300&quot;&gt;&#10;                        Customer messages&#10;                      &lt;/span&gt;&#10;                    &lt;/label&gt;&#10;&#10;                    &lt;label className=&quot;flex items-center&quot;&gt;&#10;                      &lt;input&#10;                        type=&quot;checkbox&quot;&#10;                        checked={farmerData.settings.notifications.marketingUpdates}&#10;                        onChange={(e) =&gt;&#10;                          handleNestedChange(&quot;settings&quot;, &quot;notifications&quot;, &quot;marketingUpdates&quot;, e.target.checked)&#10;                        }&#10;                        className=&quot;rounded border-gray-300 text-primary-600 shadow-sm focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50&quot;&#10;                      /&gt;&#10;                      &lt;span className=&quot;ml-2 text-sm text-gray-700 dark:text-gray-300&quot;&gt;&#10;                        Marketing updates&#10;                      &lt;/span&gt;&#10;                    &lt;/label&gt;&#10;                  &lt;/div&gt;&#10;                &lt;/div&gt;&#10;&#10;                {/* Business Settings */}&#10;                &lt;div&gt;&#10;                  &lt;h4 className=&quot;text-md font-medium text-gray-900 dark:text-white mb-4&quot;&gt;&#10;                    Business Settings&#10;                  &lt;/h4&gt;&#10;                  &lt;div className=&quot;space-y-3&quot;&gt;&#10;                    &lt;label className=&quot;flex items-center&quot;&gt;&#10;                      &lt;input&#10;                        type=&quot;checkbox&quot;&#10;                        checked={farmerData.settings.autoAcceptOrders}&#10;                        onChange={(e) =&gt;&#10;                          handleNestedChange(&quot;settings&quot;, &quot;&quot;, &quot;autoAcceptOrders&quot;, e.target.checked)&#10;                        }&#10;                        className=&quot;rounded border-gray-300 text-primary-600 shadow-sm focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50&quot;&#10;                      /&gt;&#10;                      &lt;span className=&quot;ml-2 text-sm text-gray-700 dark:text-gray-300&quot;&gt;&#10;                        Auto-accept orders&#10;                      &lt;/span&gt;&#10;                    &lt;/label&gt;&#10;&#10;                    &lt;label className=&quot;flex items-center&quot;&gt;&#10;                      &lt;input&#10;                        type=&quot;checkbox&quot;&#10;                        checked={farmerData.settings.showFarmLocation}&#10;                        onChange={(e) =&gt;&#10;                          handleNestedChange(&quot;settings&quot;, &quot;&quot;, &quot;showFarmLocation&quot;, e.target.checked)&#10;                        }&#10;                        className=&quot;rounded border-gray-300 text-primary-600 shadow-sm focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50&quot;&#10;                      /&gt;&#10;                      &lt;span className=&quot;ml-2 text-sm text-gray-700 dark:text-gray-300&quot;&gt;&#10;                        Show farm location to customers&#10;                      &lt;/span&gt;&#10;                    &lt;/label&gt;&#10;                  &lt;/div&gt;&#10;                &lt;/div&gt;&#10;&#10;                &lt;button&#10;                  onClick={() =&gt; handleSaveChanges(&quot;settings&quot;)}&#10;                  disabled={loading}&#10;                  className=&quot;bg-primary-600 text-white px-6 py-2 rounded-md hover:bg-primary-700 focus:ring-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed&quot;&#10;                &gt;&#10;                  {loading ? &quot;Saving...&quot; : &quot;Save Settings&quot;}&#10;                &lt;/button&gt;&#10;              &lt;/div&gt;&#10;            )}&#10;          &lt;/div&gt;&#10;        &lt;/div&gt;&#10;      &lt;/div&gt;&#10;    &lt;/div&gt;&#10;  );&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/farmers/[id]/page.js">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/farmers/[id]/page.js" />
              <option name="originalContent" value="&quot;use client&quot;;&#10;&#10;import { useState, useEffect } from &quot;react&quot;;&#10;import { useRouter, useParams } from &quot;next/navigation&quot;;&#10;import Link from &quot;next/link&quot;;&#10;import Footer from &quot;@/components/Footer&quot;;&#10;&#10;export default function FarmerPage() {&#10;  const router = useRouter();&#10;  const params = useParams();&#10;  const farmerId = params.id;&#10;&#10;  const [farmer, setFarmer] = useState(null);&#10;  const [products, setProducts] = useState([]);&#10;  const [reviews, setReviews] = useState([]);&#10;  const [stats, setStats] = useState({});&#10;  const [loading, setLoading] = useState(true);&#10;  const [error, setError] = useState(null);&#10;  const [activeTab, setActiveTab] = useState(&quot;story&quot;);&#10;&#10;  // Helper function to calculate years of experience (used only once)&#10;  const calculateYearsOfExperience = (joinedDate, createdAt) =&gt; {&#10;    const joinDate = new Date(joinedDate || createdAt);&#10;    const currentDate = new Date();&#10;    return Math.max(1, currentDate.getFullYear() - joinDate.getFullYear());&#10;  };&#10;&#10;  // Configuration objects to reduce repetition&#10;  const specializationConfig = {&#10;    Grains: {&#10;      icon: &quot;fas fa-seedling&quot;,&#10;      color: &quot;bg-amber-500&quot;,&#10;      description: &quot;Premium grain production&quot;,&#10;    },&#10;    Fruits: {&#10;      icon: &quot;fas fa-apple-alt&quot;,&#10;      color: &quot;bg-red-500&quot;,&#10;      description: &quot;Fresh seasonal fruits&quot;,&#10;    },&#10;    Vegetables: {&#10;      icon: &quot;fas fa-carrot&quot;,&#10;      color: &quot;bg-orange-500&quot;,&#10;      description: &quot;Organic vegetables&quot;,&#10;    },&#10;    Herbs: {&#10;      icon: &quot;fas fa-leaf&quot;,&#10;      color: &quot;bg-green-500&quot;,&#10;      description: &quot;Natural herbs &amp; spices&quot;,&#10;    },&#10;    Honey: {&#10;      icon: &quot;fas fa-bug&quot;,&#10;      color: &quot;bg-yellow-500&quot;,&#10;      description: &quot;Pure natural honey&quot;,&#10;    },&#10;    Dairy: {&#10;      icon: &quot;fas fa-glass-whiskey&quot;,&#10;      color: &quot;bg-blue-500&quot;,&#10;      description: &quot;Fresh dairy products&quot;,&#10;    },&#10;  };&#10;&#10;  const methodConfig = {&#10;    Organic: {&#10;      icon: &quot;fas fa-leaf&quot;,&#10;      color: &quot;text-green-600 dark:text-green-400&quot;,&#10;      description: &quot;Chemical-free farming practices&quot;,&#10;    },&#10;    Traditional: {&#10;      icon: &quot;fas fa-seedling&quot;,&#10;      color: &quot;text-brown-600 dark:text-yellow-400&quot;,&#10;      description: &quot;Time-tested farming wisdom&quot;,&#10;    },&#10;    Sustainable: {&#10;      icon: &quot;fas fa-recycle&quot;,&#10;      color: &quot;text-blue-600 dark:text-blue-400&quot;,&#10;      description: &quot;Environmentally conscious methods&quot;,&#10;    },&#10;    &quot;Natural Ripening&quot;: {&#10;      icon: &quot;fas fa-sun&quot;,&#10;      color: &quot;text-orange-600 dark:text-orange-400&quot;,&#10;      description: &quot;Natural maturation process&quot;,&#10;    },&#10;    &quot;Fruit Cultivation&quot;: {&#10;      icon: &quot;fas fa-apple-alt&quot;,&#10;      color: &quot;text-red-600 dark:text-red-400&quot;,&#10;      description: &quot;Specialized fruit growing&quot;,&#10;    },&#10;    &quot;Sun-dried&quot;: {&#10;      icon: &quot;fas fa-sun&quot;,&#10;      color: &quot;text-yellow-600 dark:text-yellow-400&quot;,&#10;      description: &quot;Solar-powered processing&quot;,&#10;    },&#10;  };&#10;&#10;  const ORDER_STATUS = {&#10;    PENDING: &quot;pending&quot;,&#10;    CONFIRMED: &quot;confirmed&quot;,&#10;    DELIVERED: &quot;delivered&quot;,&#10;    CANCELLED: &quot;cancelled&quot;,&#10;    RETURNED: &quot;returned&quot;,&#10;  };&#10;&#10;  // Helper function to render specialization cards&#10;  const renderSpecializationCard = (specialization, index) =&gt; {&#10;    const config = specializationConfig[specialization] || {&#10;      icon: &quot;fas fa-tractor&quot;,&#10;      color: &quot;bg-purple-500&quot;,&#10;      description: &quot;Farm specialization&quot;,&#10;    };&#10;&#10;    return (&#10;      &lt;div key={index} className=&quot;text-center&quot;&gt;&#10;        &lt;div&#10;          className={`w-12 h-12 ${config.color} rounded-full flex items-center justify-center mx-auto mb-3`}&#10;        &gt;&#10;          &lt;i className={`${config.icon} text-white`}&gt;&lt;/i&gt;&#10;        &lt;/div&gt;&#10;        &lt;h3 className=&quot;text-white font-semibold mb-2&quot;&gt;{specialization}&lt;/h3&gt;&#10;        &lt;p className=&quot;text-white/70 text-sm&quot;&gt;{config.description}&lt;/p&gt;&#10;      &lt;/div&gt;&#10;    );&#10;  };&#10;&#10;  // Helper function to render farming method cards&#10;  const renderMethodCard = (method, index) =&gt; {&#10;    const config = methodConfig[method] || {&#10;      icon: &quot;fas fa-tractor&quot;,&#10;      color: &quot;text-gray-600 dark:text-gray-400&quot;,&#10;      description: &quot;Specialized farming technique&quot;,&#10;    };&#10;&#10;    return (&#10;      &lt;div&#10;        key={index}&#10;        className=&quot;bg-gray-50 dark:bg-gray-700 p-6 rounded-xl text-center&quot;&#10;      &gt;&#10;        &lt;i className={`${config.icon} text-4xl ${config.color} mb-4`}&gt;&lt;/i&gt;&#10;        &lt;h4 className=&quot;font-semibold text-gray-900 dark:text-white mb-2&quot;&gt;&#10;          {method}&#10;        &lt;/h4&gt;&#10;        &lt;p className=&quot;text-gray-600 dark:text-gray-400 text-sm&quot;&gt;&#10;          {config.description}&#10;        &lt;/p&gt;&#10;      &lt;/div&gt;&#10;    );&#10;  };&#10;&#10;  // Helper function to render generic fallback core values&#10;  const renderFallbackCoreValues = () =&gt; (&#10;    &lt;&gt;&#10;      &lt;div className=&quot;text-center&quot;&gt;&#10;        &lt;div className=&quot;w-12 h-12 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-3&quot;&gt;&#10;          &lt;i className=&quot;fas fa-leaf text-white&quot;&gt;&lt;/i&gt;&#10;        &lt;/div&gt;&#10;        &lt;h3 className=&quot;text-white font-semibold mb-2&quot;&gt;Sustainable&lt;/h3&gt;&#10;        &lt;p className=&quot;text-white/70 text-sm&quot;&gt;Eco-friendly farming practices&lt;/p&gt;&#10;      &lt;/div&gt;&#10;      &lt;div className=&quot;text-center&quot;&gt;&#10;        &lt;div className=&quot;w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center mx-auto mb-3&quot;&gt;&#10;          &lt;i className=&quot;fas fa-shield-alt text-white&quot;&gt;&lt;/i&gt;&#10;        &lt;/div&gt;&#10;        &lt;h3 className=&quot;text-white font-semibold mb-2&quot;&gt;Quality&lt;/h3&gt;&#10;        &lt;p className=&quot;text-white/70 text-sm&quot;&gt;Premium fresh produce&lt;/p&gt;&#10;      &lt;/div&gt;&#10;      &lt;div className=&quot;text-center&quot;&gt;&#10;        &lt;div className=&quot;w-12 h-12 bg-purple-500 rounded-full flex items-center justify-center mx-auto mb-3&quot;&gt;&#10;          &lt;i className=&quot;fas fa-users text-white&quot;&gt;&lt;/i&gt;&#10;        &lt;/div&gt;&#10;        &lt;h3 className=&quot;text-white font-semibold mb-2&quot;&gt;Community&lt;/h3&gt;&#10;        &lt;p className=&quot;text-white/70 text-sm&quot;&gt;Supporting local families&lt;/p&gt;&#10;      &lt;/div&gt;&#10;    &lt;/&gt;&#10;  );&#10;&#10;  useEffect(() =&gt; {&#10;    fetchFarmerData();&#10;  }, [farmerId]);&#10;&#10;  const fetchFarmerData = async () =&gt; {&#10;    try {&#10;      setLoading(true);&#10;      setError(null);&#10;&#10;      // First fetch farmer data with cache-busting timestamp&#10;      const timestamp = new Date().getTime();&#10;      const farmerResponse = await fetch(&#10;        `/api/farmers/${farmerId}?t=${timestamp}`,&#10;        {&#10;          headers: { &quot;Cache-Control&quot;: &quot;no-cache&quot; },&#10;        },&#10;      );&#10;&#10;      if (!farmerResponse.ok) {&#10;        throw new Error(&quot;Farmer not found&quot;);&#10;      }&#10;&#10;      const farmerData = await farmerResponse.json();&#10;&#10;      // Fetch all products to match with farmer&#10;      const productsResponse = await fetch(&#10;        `/api/products?limit=1000&amp;t=${timestamp}`,&#10;        {&#10;          headers: { &quot;Cache-Control&quot;: &quot;no-cache&quot; },&#10;        },&#10;      );&#10;&#10;      const productsData = await productsResponse.json();&#10;      const allProducts = productsData.products || [];&#10;&#10;      // Match products to farmer using multiple strategies&#10;      const farmerProducts = allProducts.filter((product) =&gt; {&#10;        const productFarmerId =&#10;          product.farmer?.id || product.farmer?._id || product.farmerId;&#10;        const productFarmerName = product.farmer?.name || product.farmerName;&#10;&#10;        // Try matching by ID first (handles both old format like 'farmer_001' and new MongoDB ObjectIds)&#10;        const matchesById = productFarmerId === farmerId;&#10;&#10;        // For new farmers, also try matching by MongoDB ObjectId string comparison&#10;        const matchesByObjectId =&#10;          product.farmer?._id === farmerId || product.farmerId === farmerId;&#10;&#10;        // For old farmers, also try matching by name&#10;        const farmerName = farmerData.farmer?.name;&#10;        const matchesByName = farmerName &amp;&amp; productFarmerName === farmerName;&#10;&#10;        // Also try matching by email for additional verification&#10;        const farmerEmail = farmerData.farmer?.email;&#10;        const productFarmerEmail = product.farmer?.email || product.farmerEmail;&#10;        const matchesByEmail =&#10;          farmerEmail &amp;&amp; productFarmerEmail === farmerEmail;&#10;&#10;        const isMatch =&#10;          matchesById || matchesByObjectId || matchesByName || matchesByEmail;&#10;&#10;        if (isMatch) {&#10;          console.log(&quot;✅ Found matching product:&quot;, {&#10;            productName: product.name,&#10;            productId: product._id,&#10;            productFarmerId,&#10;            productFarmerName,&#10;            productFarmerEmail,&#10;            farmerId,&#10;            farmerName,&#10;            farmerEmail,&#10;            matchType: matchesById&#10;              ? &quot;ID&quot;&#10;              : matchesByObjectId&#10;                ? &quot;ObjectId&quot;&#10;                : matchesByName&#10;                  ? &quot;Name&quot;&#10;                  : &quot;Email&quot;,&#10;          });&#10;        }&#10;&#10;        return isMatch;&#10;      });&#10;&#10;      console.log(&quot;Farmer ID:&quot;, farmerId);&#10;      console.log(&quot;Farmer Name:&quot;, farmerData.farmer?.name);&#10;      console.log(&quot;Found products for farmer:&quot;, farmerProducts.length);&#10;      console.log(&#10;        &quot;Products:&quot;,&#10;        farmerProducts.map((p) =&gt; ({&#10;          name: p.name,&#10;          farmerId: p.farmer?.id || p.farmerId,&#10;          farmerName: p.farmer?.name || p.farmerName,&#10;        })),&#10;      );&#10;&#10;      // Now fetch orders with farmer information&#10;      const ordersResponse = await fetch(&#10;        `/api/orders?farmerId=${farmerId}&amp;farmerEmail=${farmerData.farmer?.email || &quot;&quot;}`,&#10;        {&#10;          headers: { &quot;Cache-Control&quot;: &quot;no-cache&quot; },&#10;        },&#10;      );&#10;&#10;      const ordersData = await ordersResponse.json();&#10;&#10;      setFarmer(farmerData.farmer);&#10;      setProducts(farmerProducts); // Use matched products instead of farmer.products&#10;&#10;      // Calculate stats using matched products&#10;      const totalProducts = farmerProducts.length;&#10;      const activeProducts = farmerProducts.filter((p) =&gt; p.stock &gt; 0).length;&#10;      const totalStock = farmerProducts.reduce(&#10;        (sum, p) =&gt; sum + (p.stock || 0),&#10;        0,&#10;      );&#10;      const averagePrice =&#10;        farmerProducts.length &gt; 0&#10;          ? (&#10;              farmerProducts.reduce((sum, p) =&gt; sum + (p.price || 0), 0) /&#10;              farmerProducts.length&#10;            ).toFixed(2)&#10;          : 0;&#10;&#10;      // Enhanced average rating calculation&#10;      console.log(&quot;Calculating average rating for farmer:&quot;, farmerId);&#10;&#10;      let averageRating = 0;&#10;      if (farmerProducts.length &gt; 0) {&#10;        const ratingsData = farmerProducts.map((p) =&gt; ({&#10;          name: p.name,&#10;          rating: parseFloat(p.averageRating) || 0,&#10;          reviewsCount: p.reviews?.length || 0,&#10;        }));&#10;&#10;        console.log(&quot;Products with ratings:&quot;, ratingsData);&#10;&#10;        // Calculate simple average of product ratings (only products with ratings)&#10;        const productsWithRatings = farmerProducts.filter(&#10;          (p) =&gt; parseFloat(p.averageRating) &gt; 0,&#10;        );&#10;        if (productsWithRatings.length &gt; 0) {&#10;          const totalRating = productsWithRatings.reduce((sum, p) =&gt; {&#10;            return sum + parseFloat(p.averageRating);&#10;          }, 0);&#10;&#10;          averageRating = (totalRating / productsWithRatings.length).toFixed(1);&#10;        }&#10;&#10;        console.log(&quot;Products with ratings count:&quot;, productsWithRatings.length);&#10;        console.log(&quot;Calculated average rating:&quot;, averageRating);&#10;      } else {&#10;        console.log(&quot;No products found for farmer&quot;);&#10;      }&#10;&#10;      // Get categories from products&#10;      const categories = [&#10;        ...new Set(farmerProducts.map((p) =&gt; p.category).filter(Boolean)),&#10;      ];&#10;&#10;      // Get recent reviews from products (existing logic)&#10;      const productReviews = farmerProducts.flatMap((p) =&gt;&#10;        (p.reviews || []).map((review) =&gt; ({&#10;          ...review,&#10;          productName: p.name,&#10;          productId: p._id,&#10;          source: &quot;product&quot;,&#10;          // Ensure we have a valid date - use current date as fallback if createdAt is missing&#10;          createdAt:&#10;            review.createdAt || review.date || new Date().toISOString(),&#10;        })),&#10;      );&#10;&#10;      // Fetch reviews from the separate reviews collection&#10;      let separateReviews = [];&#10;      try {&#10;        const reviewsResponse = await fetch(&#10;          `/api/reviews?farmerId=${farmerId}`,&#10;          {&#10;            headers: { &quot;Cache-Control&quot;: &quot;no-cache&quot; },&#10;          },&#10;        );&#10;&#10;        if (reviewsResponse.ok) {&#10;          const reviewsData = await reviewsResponse.json();&#10;          separateReviews = (reviewsData.reviews || []).map((review) =&gt; {&#10;            // Find the product info from farmer's products&#10;            const relatedProduct = farmerProducts.find(&#10;              (product) =&gt;&#10;                product._id === review.productId ||&#10;                product._id === review.product?._id,&#10;            );&#10;&#10;            return {&#10;              ...review,&#10;              source: &quot;reviews_collection&quot;,&#10;              // Map product information from the farmer's products&#10;              productName:&#10;                review.productName || relatedProduct?.name || &quot;Unknown Product&quot;,&#10;              productId:&#10;                review.productId || review.product?._id || relatedProduct?._id,&#10;              // Ensure we have consistent field names&#10;              createdAt:&#10;                review.createdAt || review.date || new Date().toISOString(),&#10;            };&#10;          });&#10;          console.log(&#10;            `Found ${separateReviews.length} reviews from reviews collection`,&#10;          );&#10;        }&#10;      } catch (error) {&#10;        console.warn(&quot;Failed to fetch reviews from reviews collection:&quot;, error);&#10;      }&#10;&#10;      // Combine and deduplicate reviews&#10;      const allReviews = [...productReviews, ...separateReviews]&#10;        .sort((a, b) =&gt; new Date(b.createdAt) - new Date(a.createdAt))&#10;        .slice(0, 10); // Get top 10 most recent reviews&#10;&#10;      console.log(&#10;        `Total reviews found: ${allReviews.length} (${productReviews.length} from products, ${separateReviews.length} from reviews collection)`,&#10;      );&#10;&#10;      // Calculate revenue from orders&#10;      const farmerOrders = (ordersData.orders || []).filter((order) =&gt; {&#10;        return (&#10;          order.items &amp;&amp;&#10;          order.items.some(&#10;            (item) =&gt;&#10;              item.farmerId === farmerId ||&#10;              item.farmer?.id === farmerId ||&#10;              item.farmer?._id === farmerId ||&#10;              item.farmerEmail === farmerData.farmer?.email,&#10;          )&#10;        );&#10;      });&#10;&#10;      // Use exact same filtering logic as dashboard&#10;      const validOrders = farmerOrders.filter(&#10;        (order) =&gt;&#10;          order.status !== ORDER_STATUS.CANCELLED &amp;&amp;&#10;          order.status !== ORDER_STATUS.RETURNED,&#10;      );&#10;&#10;      // Calculate total revenue using the same method as dashboard analytics&#10;      const actualTotalRevenue = validOrders.reduce(&#10;        (sum, order) =&gt; sum + (order.farmerSubtotal || order.total || 0),&#10;        0,&#10;      );&#10;&#10;      // Calculate monthly revenue using the same method as dashboard&#10;      const thisMonthValidOrders = validOrders.filter((order) =&gt; {&#10;        const orderDate = new Date(order.createdAt);&#10;        const currentDate = new Date();&#10;        return (&#10;          orderDate.getMonth() === currentDate.getMonth() &amp;&amp;&#10;          orderDate.getFullYear() === currentDate.getFullYear()&#10;        );&#10;      });&#10;&#10;      const monthlyRevenue = thisMonthValidOrders.reduce(&#10;        (sum, order) =&gt; sum + (order.farmerSubtotal || order.total || 0),&#10;        0,&#10;      );&#10;&#10;      // Calculate real community reach based on actual orders&#10;      const uniqueCustomers = new Set();&#10;      validOrders.forEach((order) =&gt; {&#10;        if (order.userId) {&#10;          uniqueCustomers.add(order.userId);&#10;        }&#10;        if (order.email) {&#10;          uniqueCustomers.add(order.email);&#10;        }&#10;      });&#10;&#10;      const actualFamiliesServed = uniqueCustomers.size;&#10;&#10;      setReviews(allReviews);&#10;      setStats({&#10;        totalProducts,&#10;        activeProducts,&#10;        totalStock,&#10;        averagePrice,&#10;        averageRating,&#10;        categories,&#10;        totalReviews: allReviews.length,&#10;        familiesServed: actualFamiliesServed,&#10;        farmSize: farmerData.farmer.farmSize || 0,&#10;        farmSizeUnit: farmerData.farmer.farmSizeUnit || &quot;acres&quot;,&#10;        yearsOfExperience:&#10;          farmerData.farmer.yearsOfExperience ||&#10;          calculateYearsOfExperience(&#10;            farmerData.farmer.joinedDate,&#10;            farmerData.farmer.createdAt,&#10;          ),&#10;        certificationStatus: farmerData.farmer.isCertified&#10;          ? &quot;Certified&quot;&#10;          : &quot;In Progress&quot;,&#10;        farmingMethods: farmerData.farmer.farmingMethods || [&#10;          &quot;Organic&quot;,&#10;          &quot;Sustainable&quot;,&#10;        ],&#10;        monthlyRevenue: monthlyRevenue.toFixed(2),&#10;        totalRevenue: actualTotalRevenue.toFixed(2),&#10;        inventoryValue: (parseFloat(averagePrice) * totalStock).toFixed(2),&#10;      });&#10;    } catch (error) {&#10;      console.error(&quot;Error fetching farmer data:&quot;, error);&#10;      setError(error.message);&#10;    } finally {&#10;      setLoading(false);&#10;    }&#10;  };&#10;&#10;  if (loading) {&#10;    return (&#10;      &lt;div className=&quot;min-h-screen bg-gradient-to-br from-green-50 via-blue-50 to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900&quot;&gt;&#10;        &lt;div className=&quot;flex items-center justify-center min-h-screen&quot;&gt;&#10;          &lt;div className=&quot;text-center&quot;&gt;&#10;            &lt;div className=&quot;relative&quot;&gt;&#10;              &lt;div className=&quot;animate-spin rounded-full h-20 w-20 border-4 border-green-200 dark:border-gray-600 border-t-green-600 dark:border-t-green-400 mx-auto mb-6&quot;&gt;&lt;/div&gt;&#10;              &lt;div className=&quot;absolute inset-0 flex items-center justify-center&quot;&gt;&#10;                &lt;i className=&quot;fas fa-user-tie text-green-600 dark:text-green-400 text-2xl&quot;&gt;&lt;/i&gt;&#10;              &lt;/div&gt;&#10;            &lt;/div&gt;&#10;            &lt;h2 className=&quot;text-2xl font-bold text-gray-900 dark:text-white mb-2&quot;&gt;&#10;              Loading Farmer Profile&#10;            &lt;/h2&gt;&#10;            &lt;p className=&quot;text-gray-600 dark:text-gray-400&quot;&gt;&#10;              Discovering their story...&#10;            &lt;/p&gt;&#10;          &lt;/div&gt;&#10;        &lt;/div&gt;&#10;      &lt;/div&gt;&#10;    );&#10;  }&#10;&#10;  if (error || !farmer) {&#10;    return (&#10;      &lt;div className=&quot;min-h-screen bg-gradient-to-br from-red-50 via-orange-50 to-yellow-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900&quot;&gt;&#10;        &lt;div className=&quot;flex items-center justify-center min-h-screen&quot;&gt;&#10;          &lt;div className=&quot;text-center max-w-md mx-auto p-6&quot;&gt;&#10;            &lt;div className=&quot;text-red-500 text-6xl mb-6&quot;&gt;&#10;              &lt;i className=&quot;fas fa-exclamation-triangle&quot;&gt;&lt;/i&gt;&#10;            &lt;/div&gt;&#10;            &lt;h2 className=&quot;text-2xl font-bold text-gray-900 dark:text-white mb-4&quot;&gt;&#10;              Farmer Not Found&#10;            &lt;/h2&gt;&#10;            &lt;p className=&quot;text-gray-600 dark:text-gray-400 mb-8&quot;&gt;&#10;              {error ||&#10;                &quot;The farmer you're looking for doesn't exist or has been removed.&quot;}&#10;            &lt;/p&gt;&#10;            &lt;div className=&quot;flex flex-col sm:flex-row gap-4 justify-center&quot;&gt;&#10;              &lt;button&#10;                onClick={() =&gt; router.back()}&#10;                className=&quot;bg-gray-600 hover:bg-gray-700 text-white px-6 py-3 rounded-lg font-medium transition&quot;&#10;              &gt;&#10;                &lt;i className=&quot;fas fa-arrow-left mr-2&quot;&gt;&lt;/i&gt;&#10;                Go Back&#10;              &lt;/button&gt;&#10;              &lt;Link&#10;                href=&quot;/farmers&quot;&#10;                className=&quot;bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg font-medium transition&quot;&#10;              &gt;&#10;                &lt;i className=&quot;fas fa-users mr-2&quot;&gt;&lt;/i&gt;&#10;                Browse Farmers&#10;              &lt;/Link&gt;&#10;            &lt;/div&gt;&#10;          &lt;/div&gt;&#10;        &lt;/div&gt;&#10;      &lt;/div&gt;&#10;    );&#10;  }&#10;&#10;  return (&#10;    &lt;&gt;&#10;      &lt;div className=&quot;min-h-screen bg-gradient-to-br from-green-50 via-emerald-50 to-teal-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900&quot;&gt;&#10;        {/* Hero Section with Dynamic Farmer Story */}&#10;        &lt;div className=&quot;relative overflow-hidden&quot;&gt;&#10;          &lt;div className=&quot;absolute inset-0 bg-gradient-to-br from-green-600 via-emerald-600 to-teal-600&quot;&gt;&lt;/div&gt;&#10;          &lt;div className=&quot;absolute inset-0 bg-black/20&quot;&gt;&lt;/div&gt;&#10;&#10;          &lt;div className=&quot;relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20&quot;&gt;&#10;            {/* Breadcrumb */}&#10;            &lt;nav className=&quot;flex mb-8&quot; aria-label=&quot;Breadcrumb&quot;&gt;&#10;              &lt;ol className=&quot;flex items-center space-x-2 text-sm&quot;&gt;&#10;                &lt;li&gt;&#10;                  &lt;Link&#10;                    href=&quot;/&quot;&#10;                    className=&quot;text-white/80 hover:text-white transition-colors flex items-center&quot;&#10;                  &gt;&#10;                    &lt;i className=&quot;fas fa-home mr-1&quot;&gt;&lt;/i&gt;&#10;                    Home&#10;                  &lt;/Link&gt;&#10;                &lt;/li&gt;&#10;                &lt;li&gt;&#10;                  &lt;i className=&quot;fas fa-chevron-right text-white/60 text-xs&quot;&gt;&lt;/i&gt;&#10;                &lt;/li&gt;&#10;                &lt;li&gt;&#10;                  &lt;Link&#10;                    href=&quot;/farmers&quot;&#10;                    className=&quot;text-white/80 hover:text-white transition-colors&quot;&#10;                  &gt;&#10;                    Farmers&#10;                  &lt;/Link&gt;&#10;                &lt;/li&gt;&#10;                &lt;li&gt;&#10;                  &lt;i className=&quot;fas fa-chevron-right text-white/60 text-xs&quot;&gt;&lt;/i&gt;&#10;                &lt;/li&gt;&#10;                &lt;li className=&quot;text-white font-medium&quot;&gt;{farmer.name}&lt;/li&gt;&#10;              &lt;/ol&gt;&#10;            &lt;/nav&gt;&#10;&#10;            {/* Dynamic Farmer Profile Header */}&#10;            &lt;div className=&quot;grid grid-cols-1 lg:grid-cols-3 gap-12 items-start&quot;&gt;&#10;              {/* Profile Image and Basic Info */}&#10;              &lt;div className=&quot;text-center lg:text-left&quot;&gt;&#10;                &lt;div className=&quot;relative inline-block mb-6&quot;&gt;&#10;                  &lt;div className=&quot;w-48 h-48 mx-auto lg:mx-0 rounded-full bg-gradient-to-br from-white/20 to-white/10 backdrop-blur-sm border-4 border-white/30 overflow-hidden shadow-2xl&quot;&gt;&#10;                    {farmer.profilePicture ? (&#10;                      &lt;img&#10;                        src={farmer.profilePicture}&#10;                        alt={farmer.name}&#10;                        className=&quot;w-full h-full object-cover&quot;&#10;                      /&gt;&#10;                    ) : (&#10;                      &lt;div className=&quot;w-full h-full flex items-center justify-center&quot;&gt;&#10;                        &lt;i className=&quot;fas fa-user-tie text-6xl text-white/80&quot;&gt;&lt;/i&gt;&#10;                      &lt;/div&gt;&#10;                    )}&#10;                  &lt;/div&gt;&#10;                  {farmer.verified &amp;&amp; (&#10;                    &lt;div className=&quot;absolute -top-2 -right-2 bg-green-500 text-white rounded-full p-3 shadow-lg&quot;&gt;&#10;                      &lt;i className=&quot;fas fa-check text-lg&quot;&gt;&lt;/i&gt;&#10;                    &lt;/div&gt;&#10;                  )}&#10;                &lt;/div&gt;&#10;&#10;                &lt;h1 className=&quot;text-4xl lg:text-5xl font-bold text-white mb-2&quot;&gt;&#10;                  {farmer.name}&#10;                &lt;/h1&gt;&#10;                &lt;p className=&quot;text-xl text-white/90 mb-4&quot;&gt;&#10;                  {farmer.farmInfo?.farmName ||&#10;                    farmer.farmName ||&#10;                    `${farmer.name}'s Farm`}&#10;                &lt;/p&gt;&#10;                &lt;div className=&quot;flex items-center justify-center lg:justify-start text-white/80 mb-6&quot;&gt;&#10;                  &lt;i className=&quot;fas fa-map-marker-alt mr-2 text-yellow-400&quot;&gt;&lt;/i&gt;&#10;                  &lt;span className=&quot;text-lg&quot;&gt;&#10;                    {farmer.address?.city &amp;&amp; farmer.address?.state&#10;                      ? `${farmer.address.city}, ${farmer.address.state}${farmer.address.country ? `, ${farmer.address.country}` : &quot;&quot;}`&#10;                      : farmer.location || &quot;Location not specified&quot;}&#10;                  &lt;/span&gt;&#10;                &lt;/div&gt;&#10;&#10;                {/* Dynamic Quick Stats - Use stats.yearsOfExperience instead of recalculating */}&#10;                &lt;div className=&quot;grid grid-cols-2 gap-4 mb-8&quot;&gt;&#10;                  &lt;div className=&quot;bg-white/10 backdrop-blur-sm rounded-lg p-4 border border-white/20&quot;&gt;&#10;                    &lt;div className=&quot;text-2xl font-bold text-white&quot;&gt;&#10;                      {stats.yearsOfExperience}+&#10;                    &lt;/div&gt;&#10;                    &lt;div className=&quot;text-white/80 text-sm&quot;&gt;&#10;                      Years Experience&#10;                    &lt;/div&gt;&#10;                  &lt;/div&gt;&#10;                  &lt;div className=&quot;bg-white/10 backdrop-blur-sm rounded-lg p-4 border border-white/20&quot;&gt;&#10;                    &lt;div className=&quot;text-2xl font-bold text-white&quot;&gt;&#10;                      {stats.totalProducts}&#10;                    &lt;/div&gt;&#10;                    &lt;div className=&quot;text-white/80 text-sm&quot;&gt;Products&lt;/div&gt;&#10;                  &lt;/div&gt;&#10;                  &lt;div className=&quot;bg-white/10 backdrop-blur-sm rounded-lg p-4 border border-white/20&quot;&gt;&#10;                    &lt;div className=&quot;text-2xl font-bold text-white&quot;&gt;&#10;                      {stats.averageRating || &quot;N/A&quot;}&#10;                    &lt;/div&gt;&#10;                    &lt;div className=&quot;text-white/80 text-sm&quot;&gt;Avg Rating&lt;/div&gt;&#10;                  &lt;/div&gt;&#10;                  &lt;div className=&quot;bg-white/10 backdrop-blur-sm rounded-lg p-4 border border-white/20&quot;&gt;&#10;                    &lt;div className=&quot;text-2xl font-bold text-white&quot;&gt;&#10;                      {stats.categories?.length || 0}&#10;                    &lt;/div&gt;&#10;                    &lt;div className=&quot;text-white/80 text-sm&quot;&gt;Categories&lt;/div&gt;&#10;                  &lt;/div&gt;&#10;                &lt;/div&gt;&#10;              &lt;/div&gt;&#10;&#10;              {/* Dynamic Farmer's Mission &amp; Values */}&#10;              &lt;div className=&quot;lg:col-span-2&quot;&gt;&#10;                &lt;div className=&quot;bg-white/10 backdrop-blur-sm rounded-2xl p-8 border border-white/20&quot;&gt;&#10;                  &lt;h2 className=&quot;text-3xl font-bold text-white mb-6 flex items-center&quot;&gt;&#10;                    &lt;i className=&quot;fas fa-heart mr-3 text-red-400&quot;&gt;&lt;/i&gt;&#10;                    Our Mission&#10;                  &lt;/h2&gt;&#10;                  &lt;p className=&quot;text-white/90 text-lg leading-relaxed mb-6&quot;&gt;&#10;                    {farmer.bio ||&#10;                      `${farmer.name} is dedicated to providing the freshest, highest-quality produce through sustainable farming practices. Our farm has been serving the community with passion and commitment to environmental stewardship.`}&#10;                  &lt;/p&gt;&#10;                  {/* Dynamic Specializations - Only show once here */}&#10;                  {farmer.specializations &amp;&amp;&#10;                    farmer.specializations.length &gt; 0 &amp;&amp; (&#10;                      &lt;div className=&quot;mb-6&quot;&gt;&#10;                        &lt;h3 className=&quot;text-white font-semibold mb-3&quot;&gt;&#10;                          Our Specializations:&#10;                        &lt;/h3&gt;&#10;                        &lt;div className=&quot;flex flex-wrap gap-2&quot;&gt;&#10;                          {farmer.specializations.map((spec, index) =&gt; (&#10;                            &lt;span&#10;                              key={index}&#10;                              className=&quot;bg-white/20 backdrop-blur-sm text-white px-3 py-1 rounded-full text-sm font-medium border border-white/30&quot;&#10;                            &gt;&#10;                              {spec}&#10;                            &lt;/span&gt;&#10;                          ))}&#10;                        &lt;/div&gt;&#10;                      &lt;/div&gt;&#10;                    )}&#10;                  {/* Dynamic Core Values based on farmer's specializations and methods */}&#10;                  &lt;div className=&quot;grid grid-cols-1 md:grid-cols-3 gap-4&quot;&gt;&#10;                    {farmer.specializations &amp;&amp; farmer.specializations.length &gt; 0&#10;                      ? farmer.specializations&#10;                          .slice(0, 3)&#10;                          .map((specialization, index) =&gt;&#10;                            renderSpecializationCard(specialization, index),&#10;                          )&#10;                      : renderFallbackCoreValues()}&#10;                  &lt;/div&gt;&#10;                &lt;/div&gt;&#10;              &lt;/div&gt;&#10;            &lt;/div&gt;&#10;          &lt;/div&gt;&#10;        &lt;/div&gt;&#10;&#10;        {/* Dynamic Main Content Tabs */}&#10;        &lt;div className=&quot;max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16&quot;&gt;&#10;          {/* Tab Navigation */}&#10;          &lt;div className=&quot;flex flex-wrap justify-center gap-2 mb-12&quot;&gt;&#10;            {[&#10;              { id: &quot;story&quot;, label: &quot;Our Story&quot;, icon: &quot;fas fa-book-open&quot; },&#10;              {&#10;                id: &quot;products&quot;,&#10;                label: &quot;Product Overview&quot;,&#10;                icon: &quot;fas fa-seedling&quot;,&#10;              },&#10;              { id: &quot;reviews&quot;, label: &quot;Customer Reviews&quot;, icon: &quot;fas fa-star&quot; },&#10;              {&#10;                id: &quot;stats&quot;,&#10;                label: &quot;Farm Statistics&quot;,&#10;                icon: &quot;fas fa-chart-bar&quot;,&#10;              },&#10;            ].map((tab) =&gt; (&#10;              &lt;button&#10;                key={tab.id}&#10;                onClick={() =&gt; setActiveTab(tab.id)}&#10;                className={`px-6 py-3 rounded-full font-medium transition-all duration-300 flex items-center ${&#10;                  activeTab === tab.id&#10;                    ? &quot;bg-green-600 text-white shadow-lg&quot;&#10;                    : &quot;bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-300 hover:bg-green-50 dark:hover:bg-gray-700&quot;&#10;                }`}&#10;              &gt;&#10;                &lt;i className={`${tab.icon} mr-2`}&gt;&lt;/i&gt;&#10;                {tab.label}&#10;              &lt;/button&gt;&#10;            ))}&#10;          &lt;/div&gt;&#10;&#10;          {/* Dynamic Tab Content */}&#10;          &lt;div className=&quot;bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8&quot;&gt;&#10;            {activeTab === &quot;story&quot; &amp;&amp; (&#10;              &lt;div className=&quot;space-y-8&quot;&gt;&#10;                &lt;div className=&quot;text-center mb-8&quot;&gt;&#10;                  &lt;h2 className=&quot;text-4xl font-bold text-gray-900 dark:text-white mb-4&quot;&gt;&#10;                    Our Farming Journey&#10;                  &lt;/h2&gt;&#10;                  &lt;p className=&quot;text-gray-600 dark:text-gray-400 text-lg max-w-3xl mx-auto&quot;&gt;&#10;                    Every farm has a story. Here&amp;apos;s ours - a tale of&#10;                    passion, dedication, and love for the land.&#10;                  &lt;/p&gt;&#10;                &lt;/div&gt;&#10;&#10;                &lt;div className=&quot;grid grid-cols-1 lg:grid-cols-2 gap-12 items-center&quot;&gt;&#10;                  &lt;div&gt;&#10;                    &lt;h3 className=&quot;text-2xl font-semibold text-gray-900 dark:text-white mb-4&quot;&gt;&#10;                      {farmer.farmInfo?.farmName&#10;                        ? `About ${farmer.farmInfo.farmName}`&#10;                        : &quot;The Beginning&quot;}&#10;                    &lt;/h3&gt;&#10;&#10;                    {/* Dynamic Farm Description from Profile Settings */}&#10;                    &lt;p className=&quot;text-gray-600 dark:text-gray-400 leading-relaxed mb-6&quot;&gt;&#10;                      {farmer.farmInfo?.farmDescription ||&#10;                        farmer.bio ||&#10;                        `${farmer.name} started their farming journey in ${new Date(&#10;                          farmer.joinedDate || farmer.createdAt,&#10;                        ).getFullYear()} with a simple dream: to grow the best produce possible while caring for the environment. What began as a small family operation has grown into a trusted source of fresh, healthy food for our community.`}&#10;                    &lt;/p&gt;&#10;&#10;                    &lt;div className=&quot;space-y-4&quot;&gt;&#10;                      {/* Farm Established */}&#10;                      &lt;div className=&quot;flex items-center&quot;&gt;&#10;                        &lt;div className=&quot;w-10 h-10 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center mr-4&quot;&gt;&#10;                          &lt;i className=&quot;fas fa-calendar text-green-600 dark:text-green-400&quot;&gt;&lt;/i&gt;&#10;                        &lt;/div&gt;&#10;                        &lt;div&gt;&#10;                          &lt;h4 className=&quot;font-semibold text-gray-900 dark:text-white&quot;&gt;&#10;                            Farm Established&#10;                          &lt;/h4&gt;&#10;                          &lt;p className=&quot;text-gray-600 dark:text-gray-400&quot;&gt;&#10;                            {farmer.farmInfo?.establishedYear ||&#10;                              new Date(&#10;                                farmer.joinedDate || farmer.createdAt,&#10;                              ).getFullYear()}&#10;                          &lt;/p&gt;&#10;                        &lt;/div&gt;&#10;                      &lt;/div&gt;&#10;&#10;                      {/* Farm Type */}&#10;                      {farmer.farmInfo?.farmType &amp;&amp; (&#10;                        &lt;div className=&quot;flex items-center&quot;&gt;&#10;                          &lt;div className=&quot;w-10 h-10 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center mr-4&quot;&gt;&#10;                            &lt;i className=&quot;fas fa-tractor text-blue-600 dark:text-blue-400&quot;&gt;&lt;/i&gt;&#10;                          &lt;/div&gt;&#10;                          &lt;div&gt;&#10;                            &lt;h4 className=&quot;font-semibold text-gray-900 dark:text-white&quot;&gt;&#10;                              Farm Type&#10;                            &lt;/h4&gt;&#10;                            &lt;p className=&quot;text-gray-600 dark:text-gray-400&quot;&gt;&#10;                              {farmer.farmInfo.farmType}&#10;                            &lt;/p&gt;&#10;                          &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                      )}&#10;&#10;                      {/* Farm Size */}&#10;                      {farmer.farmInfo?.farmSize &amp;&amp; (&#10;                        &lt;div className=&quot;flex items-center&quot;&gt;&#10;                          &lt;div className=&quot;w-10 h-10 bg-yellow-100 dark:bg-yellow-900 rounded-full flex items-center justify-center mr-4&quot;&gt;&#10;                            &lt;i className=&quot;fas fa-expand-arrows-alt text-yellow-600 dark:text-yellow-400&quot;&gt;&lt;/i&gt;&#10;                          &lt;/div&gt;&#10;                          &lt;div&gt;&#10;                            &lt;h4 className=&quot;font-semibold text-gray-900 dark:text-white&quot;&gt;&#10;                              Farm Size&#10;                            &lt;/h4&gt;&#10;                            &lt;p className=&quot;text-gray-600 dark:text-gray-400&quot;&gt;&#10;                              {farmer.farmInfo.farmSize} acres&#10;                            &lt;/p&gt;&#10;                          &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                      )}&#10;&#10;                      {/* Our Mission */}&#10;                      &lt;div className=&quot;flex items-center&quot;&gt;&#10;                        &lt;div className=&quot;w-10 h-10 bg-purple-100 dark:bg-purple-900 rounded-full flex items-center justify-center mr-4&quot;&gt;&#10;                          &lt;i className=&quot;fas fa-heart text-purple-600 dark:text-purple-400&quot;&gt;&lt;/i&gt;&#10;                        &lt;/div&gt;&#10;                        &lt;div&gt;&#10;                          &lt;h4 className=&quot;font-semibold text-gray-900 dark:text-white&quot;&gt;&#10;                            Our Mission&#10;                          &lt;/h4&gt;&#10;                          &lt;p className=&quot;text-gray-600 dark:text-gray-400&quot;&gt;&#10;                            Providing fresh, sustainable produce to our&#10;                            community&#10;                          &lt;/p&gt;&#10;                        &lt;/div&gt;&#10;                      &lt;/div&gt;&#10;&#10;                      {/* Farming Philosophy */}&#10;                      &lt;div className=&quot;flex items-center&quot;&gt;&#10;                        &lt;div className=&quot;w-10 h-10 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center mr-4&quot;&gt;&#10;                          &lt;i className=&quot;fas fa-leaf text-green-600 dark:text-green-400&quot;&gt;&lt;/i&gt;&#10;                        &lt;/div&gt;&#10;                        &lt;div&gt;&#10;                          &lt;h4 className=&quot;font-semibold text-gray-900 dark:text-white&quot;&gt;&#10;                            Farming Philosophy&#10;                          &lt;/h4&gt;&#10;                          &lt;p className=&quot;text-gray-600 dark:text-gray-400&quot;&gt;&#10;                            {farmer.farmInfo?.farmingMethods &amp;&amp;&#10;                            farmer.farmInfo.farmingMethods.length &gt; 0&#10;                              ? `${farmer.farmInfo.farmingMethods.join(&quot;, &quot;)} practices`&#10;                              : stats.farmingMethods?.length &gt; 0&#10;                                ? `${stats.farmingMethods.join(&quot;, &quot;)} practices`&#10;                                : &quot;Sustainable and eco-friendly methods&quot;}&#10;                          &lt;/p&gt;&#10;                        &lt;/div&gt;&#10;                      &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    {/* Certifications Section */}&#10;                    {farmer.farmInfo?.certifications &amp;&amp;&#10;                      farmer.farmInfo.certifications.length &gt; 0 &amp;&amp; (&#10;                        &lt;div className=&quot;mt-8&quot;&gt;&#10;                          &lt;h4 className=&quot;text-lg font-semibold text-gray-900 dark:text-white mb-4&quot;&gt;&#10;                            Our Certifications&#10;                          &lt;/h4&gt;&#10;                          &lt;div className=&quot;flex flex-wrap gap-2&quot;&gt;&#10;                            {farmer.farmInfo.certifications.map(&#10;                              (cert, index) =&gt; (&#10;                                &lt;span&#10;                                  key={index}&#10;                                  className=&quot;bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 px-3 py-1 rounded-full text-sm font-medium border border-green-200 dark:border-green-800&quot;&#10;                                &gt;&#10;                                  &lt;i className=&quot;fas fa-certificate mr-1&quot;&gt;&lt;/i&gt;&#10;                                  {cert}&#10;                                &lt;/span&gt;&#10;                              ),&#10;                            )}&#10;                          &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                      )}&#10;&#10;                    {/* Farming Methods Section */}&#10;                    {farmer.farmInfo?.farmingMethods &amp;&amp;&#10;                      farmer.farmInfo.farmingMethods.length &gt; 0 &amp;&amp; (&#10;                        &lt;div className=&quot;mt-8&quot;&gt;&#10;                          &lt;h4 className=&quot;text-lg font-semibold text-gray-900 dark:text-white mb-4&quot;&gt;&#10;                            Our Farming Methods&#10;                          &lt;/h4&gt;&#10;                          &lt;div className=&quot;grid grid-cols-1 sm:grid-cols-2 gap-4&quot;&gt;&#10;                            {farmer.farmInfo.farmingMethods.map(&#10;                              (method, index) =&gt;&#10;                                renderMethodCard(method, index),&#10;                            )}&#10;                          &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                      )}&#10;                  &lt;/div&gt;&#10;&#10;                  &lt;div className=&quot;grid grid-cols-2 gap-4&quot;&gt;&#10;                    {/* Show farming achievements and highlights */}&#10;                    &lt;div className=&quot;bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900 dark:to-emerald-900 p-6 rounded-xl&quot;&gt;&#10;                      &lt;i className=&quot;fas fa-certificate text-3xl text-green-600 dark:text-green-400 mb-4&quot;&gt;&lt;/i&gt;&#10;                      &lt;h4 className=&quot;font-semibold text-gray-900 dark:text-white mb-2&quot;&gt;&#10;                        {farmer.isCertified&#10;                          ? &quot;Certified Organic&quot;&#10;                          : farmer.farmInfo?.farmType || &quot;Quality Farming&quot;}&#10;                      &lt;/h4&gt;&#10;                      &lt;p className=&quot;text-gray-600 dark:text-gray-400 text-sm&quot;&gt;&#10;                        {farmer.isCertified&#10;                          ? &quot;Officially certified organic farming&quot;&#10;                          : farmer.farmInfo?.farmType&#10;                            ? `Specialized in ${farmer.farmInfo.farmType.toLowerCase()} farming`&#10;                            : &quot;Committed to quality and safety standards&quot;}&#10;                      &lt;/p&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    &lt;div className=&quot;bg-gradient-to-br from-blue-50 to-cyan-50 dark:from-blue-900 dark:to-cyan-900 p-6 rounded-xl&quot;&gt;&#10;                      &lt;i className=&quot;fas fa-users text-3xl text-blue-600 dark:text-blue-400 mb-4&quot;&gt;&lt;/i&gt;&#10;                      &lt;h4 className=&quot;font-semibold text-gray-900 dark:text-white mb-2&quot;&gt;&#10;                        Community Impact&#10;                      &lt;/h4&gt;&#10;                      &lt;p className=&quot;text-gray-600 dark:text-gray-400 text-sm&quot;&gt;&#10;                        Serving{&quot; &quot;}&#10;                        {farmer.address?.city &amp;&amp; farmer.address?.state&#10;                          ? `${farmer.address.city}, ${farmer.address.state}`&#10;                          : farmer.location || &quot;the community&quot;}{&quot; &quot;}&#10;                        with {stats.totalProducts} quality products&#10;                      &lt;/p&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    &lt;div className=&quot;bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-900 dark:to-pink-900 p-6 rounded-xl&quot;&gt;&#10;                      &lt;i className=&quot;fas fa-star text-3xl text-purple-600 dark:text-purple-400 mb-4&quot;&gt;&lt;/i&gt;&#10;                      &lt;h4 className=&quot;font-semibold text-gray-900 dark:text-white mb-2&quot;&gt;&#10;                        Customer Satisfaction&#10;                      &lt;/h4&gt;&#10;                      &lt;p className=&quot;text-gray-600 dark:text-gray-400 text-sm&quot;&gt;&#10;                        {stats.averageRating &gt; 0&#10;                          ? `${stats.averageRating}/5 average rating`&#10;                          : &quot;Building trust with every harvest&quot;}&#10;                      &lt;/p&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    &lt;div className=&quot;bg-gradient-to-br from-yellow-50 to-orange-50 dark:from-yellow-900 dark:to-orange-900 p-6 rounded-xl&quot;&gt;&#10;                      &lt;i className=&quot;fas fa-seedling text-3xl text-yellow-600 dark:text-yellow-400 mb-4&quot;&gt;&lt;/i&gt;&#10;                      &lt;h4 className=&quot;font-semibold text-gray-900 dark:text-white mb-2&quot;&gt;&#10;                        {farmer.farmInfo?.farmSize&#10;                          ? &quot;Farm Size&quot;&#10;                          : &quot;Product Variety&quot;}&#10;                      &lt;/h4&gt;&#10;                      &lt;p className=&quot;text-gray-600 dark:text-gray-400 text-sm&quot;&gt;&#10;                        {farmer.farmInfo?.farmSize&#10;                          ? `${farmer.farmInfo.farmSize} acres of sustainable farming`&#10;                          : `${stats.totalProducts} products across ${stats.categories?.length || 0} categories`}&#10;                      &lt;/p&gt;&#10;                    &lt;/div&gt;&#10;                  &lt;/div&gt;&#10;                &lt;/div&gt;&#10;              &lt;/div&gt;&#10;            )}&#10;&#10;            {activeTab === &quot;products&quot; &amp;&amp; (&#10;              &lt;div className=&quot;space-y-8&quot;&gt;&#10;                &lt;div className=&quot;text-center mb-8&quot;&gt;&#10;                  &lt;h2 className=&quot;text-4xl font-bold text-gray-900 dark:text-white mb-4&quot;&gt;&#10;                    Our Product Categories&#10;                  &lt;/h2&gt;&#10;                  &lt;p className=&quot;text-gray-600 dark:text-gray-400 text-lg max-w-3xl mx-auto&quot;&gt;&#10;                    We grow a diverse range of fresh produce across{&quot; &quot;}&#10;                    {stats.categories?.length || 0} categories.&#10;                  &lt;/p&gt;&#10;                &lt;/div&gt;&#10;&#10;                {stats.categories &amp;&amp; stats.categories.length &gt; 0 ? (&#10;                  &lt;div className=&quot;grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12&quot;&gt;&#10;                    {stats.categories.map((category, index) =&gt; {&#10;                      const categoryProducts = products.filter(&#10;                        (p) =&gt; p.category === category,&#10;                      );&#10;                      const avgPrice =&#10;                        categoryProducts.length &gt; 0&#10;                          ? (&#10;                              categoryProducts.reduce(&#10;                                (sum, p) =&gt; sum + (p.price || 0),&#10;                                0,&#10;                              ) / categoryProducts.length&#10;                            ).toFixed(2)&#10;                          : 0;&#10;&#10;                      return (&#10;                        &lt;div&#10;                          key={index}&#10;                          className=&quot;bg-gradient-to-br from-green-50 to-emerald-50 dark:from-gray-700 dark:to-gray-600 p-8 rounded-xl shadow-lg&quot;&#10;                        &gt;&#10;                          &lt;div className=&quot;w-16 h-16 bg-green-600 rounded-full flex items-center justify-center mx-auto mb-6&quot;&gt;&#10;                            &lt;i className=&quot;fas fa-leaf text-white text-2xl&quot;&gt;&lt;/i&gt;&#10;                          &lt;/div&gt;&#10;                          &lt;h3 className=&quot;text-xl font-semibold text-gray-900 dark:text-white text-center mb-4&quot;&gt;&#10;                            {category}&#10;                          &lt;/h3&gt;&#10;                          &lt;div className=&quot;text-center space-y-2&quot;&gt;&#10;                            &lt;p className=&quot;text-gray-600 dark:text-gray-400&quot;&gt;&#10;                              {categoryProducts.length} products&#10;                            &lt;/p&gt;&#10;                            &lt;p className=&quot;text-lg font-bold text-green-600 dark:text-green-400&quot;&gt;&#10;                              Avg: ${avgPrice}&#10;                            &lt;/p&gt;&#10;                          &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                      );&#10;                    })}&#10;                  &lt;/div&gt;&#10;                ) : (&#10;                  &lt;div className=&quot;text-center py-12&quot;&gt;&#10;                    &lt;i className=&quot;fas fa-seedling text-6xl text-gray-300 dark:text-gray-600 mb-4&quot;&gt;&lt;/i&gt;&#10;                    &lt;p className=&quot;text-gray-500 dark:text-gray-400 text-lg&quot;&gt;&#10;                      No products available yet. Check back soon!&#10;                    &lt;/p&gt;&#10;                  &lt;/div&gt;&#10;                )}&#10;&#10;                {/* Featured Products Preview */}&#10;                {products.length &gt; 0 &amp;&amp; (&#10;                  &lt;div&gt;&#10;                    &lt;h3 className=&quot;text-2xl font-semibold text-gray-900 dark:text-white mb-6 text-center&quot;&gt;&#10;                      Featured Products&#10;                    &lt;/h3&gt;&#10;                    &lt;div className=&quot;space-y-6&quot;&gt;&#10;                      {products.slice(0, 3).map((product, index) =&gt; (&#10;                        &lt;div&#10;                          key={product._id}&#10;                          className={`flex ${&#10;                            index % 2 === 0 ? &quot;flex-row&quot; : &quot;flex-row-reverse&quot;&#10;                          } items-center gap-8 bg-gradient-to-r ${&#10;                            index % 3 === 0&#10;                              ? &quot;from-green-50 to-emerald-50 dark:from-green-900/30 dark:to-emerald-900/30&quot;&#10;                              : index % 3 === 1&#10;                                ? &quot;from-blue-50 to-cyan-50 dark:from-blue-900/30 dark:to-cyan-900/30&quot;&#10;                                : &quot;from-purple-50 to-pink-50 dark:from-purple-900/30 dark:to-pink-900/30&quot;&#10;                          } p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-[1.02]`}&#10;                        &gt;&#10;                          {/* Product Image */}&#10;                          &lt;div className=&quot;flex-shrink-0&quot;&gt;&#10;                            &lt;div className=&quot;w-32 h-32 rounded-2xl overflow-hidden shadow-lg&quot;&gt;&#10;                              {product.images &amp;&amp; product.images[0] ? (&#10;                                &lt;img&#10;                                  src={product.images[0]}&#10;                                  alt={product.name}&#10;                                  className=&quot;w-full h-full object-cover&quot;&#10;                                /&gt;&#10;                              ) : (&#10;                                &lt;div className=&quot;w-full h-full bg-gray-200 dark:bg-gray-600 flex items-center justify-center&quot;&gt;&#10;                                  &lt;i className=&quot;fas fa-image text-gray-400 text-3xl&quot;&gt;&lt;/i&gt;&#10;                                &lt;/div&gt;&#10;                              )}&#10;                            &lt;/div&gt;&#10;                          &lt;/div&gt;&#10;&#10;                          {/* Product Info */}&#10;                          &lt;div className=&quot;flex-1 min-w-0&quot;&gt;&#10;                            &lt;div className=&quot;flex items-start justify-between&quot;&gt;&#10;                              &lt;div className=&quot;flex-1&quot;&gt;&#10;                                &lt;h4 className=&quot;text-2xl font-bold text-gray-900 dark:text-white mb-2&quot;&gt;&#10;                                  {product.name}&#10;                                &lt;/h4&gt;&#10;                                &lt;p className=&quot;text-gray-600 dark:text-gray-400 mb-3&quot;&gt;&#10;                                  Category: {product.category}&#10;                                &lt;/p&gt;&#10;&#10;                                {/* Rating */}&#10;                                {product.averageRating &amp;&amp; (&#10;                                  &lt;div className=&quot;flex items-center mb-3&quot;&gt;&#10;                                    &lt;div className=&quot;flex text-yellow-400 mr-2&quot;&gt;&#10;                                      {[...Array(5)].map((_, i) =&gt; (&#10;                                        &lt;i&#10;                                          key={i}&#10;                                          className={`fas fa-star text-sm ${&#10;                                            i &lt;&#10;                                            Math.floor(product.averageRating)&#10;                                              ? &quot;text-yellow-400&quot;&#10;                                              : &quot;text-gray-300 dark:text-gray-600&quot;&#10;                                          }`}&#10;                                        &gt;&lt;/i&gt;&#10;                                      ))}&#10;                                    &lt;/div&gt;&#10;                                    &lt;span className=&quot;text-sm text-gray-600 dark:text-gray-400&quot;&gt;&#10;                                      ({product.averageRating}/5)&#10;                                    &lt;/span&gt;&#10;                                  &lt;/div&gt;&#10;                                )}&#10;&#10;                                {/* Product Description */}&#10;                                {product.description &amp;&amp; (&#10;                                  &lt;p className=&quot;text-gray-600 dark:text-gray-400 text-sm mb-4 line-clamp-2&quot;&gt;&#10;                                    {product.description}&#10;                                  &lt;/p&gt;&#10;                                )}&#10;                              &lt;/div&gt;&#10;&#10;                              {/* Price and Actions */}&#10;                              &lt;div className=&quot;flex flex-col items-end gap-4 ml-6&quot;&gt;&#10;                                &lt;div className=&quot;text-right&quot;&gt;&#10;                                  &lt;div className=&quot;text-3xl font-bold text-green-600 dark:text-green-400&quot;&gt;&#10;                                    ${product.price}&#10;                                  &lt;/div&gt;&#10;                                  &lt;div&#10;                                    className={`text-sm ${&#10;                                      product.stock &gt; 0&#10;                                        ? &quot;text-green-600 dark:text-green-400&quot;&#10;                                        : &quot;text-red-500&quot;&#10;                                    }`}&#10;                                  &gt;&#10;                                    {product.stock &gt; 0&#10;                                      ? `${product.stock} available`&#10;                                      : &quot;Out of stock&quot;}&#10;                                  &lt;/div&gt;&#10;                                &lt;/div&gt;&#10;&#10;                                &lt;div className=&quot;flex gap-3&quot;&gt;&#10;                                  &lt;button&#10;                                    className={`px-6 py-3 rounded-lg font-medium transition-all ${&#10;                                      product.stock &gt; 0&#10;                                        ? &quot;bg-green-600 hover:bg-green-700 text-white&quot;&#10;                                        : &quot;bg-gray-300 text-gray-500 cursor-not-allowed&quot;&#10;                                    }`}&#10;                                    disabled={product.stock === 0}&#10;                                  &gt;&#10;                                    &lt;i className=&quot;fas fa-cart-plus mr-2&quot;&gt;&lt;/i&gt;&#10;                                    {product.stock &gt; 0&#10;                                      ? &quot;Add to Cart&quot;&#10;                                      : &quot;Sold Out&quot;}&#10;                                  &lt;/button&gt;&#10;&#10;                                  &lt;button className=&quot;p-3 bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-600 dark:text-gray-300 rounded-lg transition-all&quot;&gt;&#10;                                    &lt;i className=&quot;fas fa-heart&quot;&gt;&lt;/i&gt;&#10;                                  &lt;/button&gt;&#10;                                &lt;/div&gt;&#10;                              &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;                          &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                      ))}&#10;                    &lt;/div&gt;&#10;&#10;                    {/* View All Products Button */}&#10;                    &lt;div className=&quot;text-center mt-8&quot;&gt;&#10;                      &lt;Link&#10;                        href={`/farmers/${farmerId}/details`}&#10;                        className=&quot;inline-flex items-center px-8 py-4 bg-green-600 hover:bg-green-700 text-white font-semibold rounded-lg transition-all duration-300 transform hover:scale-105 shadow-lg&quot;&#10;                      &gt;&#10;                        &lt;i className=&quot;fas fa-store mr-3&quot;&gt;&lt;/i&gt;&#10;                        View All {stats.totalProducts} Products&#10;                        &lt;i className=&quot;fas fa-arrow-right ml-3&quot;&gt;&lt;/i&gt;&#10;                      &lt;/Link&gt;&#10;                    &lt;/div&gt;&#10;                  &lt;/div&gt;&#10;                )}&#10;              &lt;/div&gt;&#10;            )}&#10;&#10;            {activeTab === &quot;reviews&quot; &amp;&amp; (&#10;              &lt;div className=&quot;space-y-8&quot;&gt;&#10;                &lt;div className=&quot;text-center mb-12&quot;&gt;&#10;                  &lt;h2 className=&quot;text-4xl font-bold bg-gradient-to-r from-purple-600 via-pink-600 to-rose-600 bg-clip-text text-transparent mb-6&quot;&gt;&#10;                     Customer Testimonials &#10;                  &lt;/h2&gt;&#10;                  &lt;p className=&quot;text-gray-600 dark:text-gray-400 text-lg max-w-3xl mx-auto leading-relaxed&quot;&gt;&#10;                    Discover what our valued customers are saying about their&#10;                    experience with our fresh, quality produce and exceptional&#10;                    service.&#10;                  &lt;/p&gt;&#10;                &lt;/div&gt;&#10;&#10;                {reviews.length &gt; 0 ? (&#10;                  &lt;div className=&quot;space-y-8&quot;&gt;&#10;                    {/* Reviews Statistics Banner */}&#10;                    &lt;div className=&quot;bg-gradient-to-r from-purple-600 via-pink-600 to-rose-600 rounded-3xl p-8 mb-12&quot;&gt;&#10;                      &lt;div className=&quot;grid grid-cols-1 md:grid-cols-3 gap-8 text-white text-center&quot;&gt;&#10;                        &lt;div className=&quot;group&quot;&gt;&#10;                          &lt;div className=&quot;text-5xl font-bold mb-2 group-hover:scale-110 transition-transform duration-300&quot;&gt;&#10;                            {reviews.length}&#10;                          &lt;/div&gt;&#10;                          &lt;div className=&quot;text-white/90 text-lg&quot;&gt;&#10;                            Total Reviews&#10;                          &lt;/div&gt;&#10;                          &lt;div className=&quot;w-16 h-1 bg-white/30 mx-auto mt-2 rounded-full&quot;&gt;&lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                        &lt;div className=&quot;group&quot;&gt;&#10;                          &lt;div className=&quot;text-5xl font-bold mb-2 group-hover:scale-110 transition-transform duration-300&quot;&gt;&#10;                            {stats.averageRating}★&#10;                          &lt;/div&gt;&#10;                          &lt;div className=&quot;text-white/90 text-lg&quot;&gt;&#10;                            Average Rating&#10;                          &lt;/div&gt;&#10;                          &lt;div className=&quot;flex justify-center mt-2&quot;&gt;&#10;                            {[...Array(5)].map((_, i) =&gt; (&#10;                              &lt;i&#10;                                key={i}&#10;                                className={`fas fa-star text-lg ${&#10;                                  i &lt; Math.floor(stats.averageRating || 0)&#10;                                    ? &quot;text-yellow-300&quot;&#10;                                    : &quot;text-white/30&quot;&#10;                                }`}&#10;                              &gt;&lt;/i&gt;&#10;                            ))}&#10;                          &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                        &lt;div className=&quot;group&quot;&gt;&#10;                          &lt;div className=&quot;text-5xl font-bold mb-2 group-hover:scale-110 transition-transform duration-300&quot;&gt;&#10;                            98%&#10;                          &lt;/div&gt;&#10;                          &lt;div className=&quot;text-white/90 text-lg&quot;&gt;&#10;                            Satisfaction Rate&#10;                          &lt;/div&gt;&#10;                          &lt;div className=&quot;w-16 h-1 bg-white/30 mx-auto mt-2 rounded-full&quot;&gt;&lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                      &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    {/* Reviews Grid with Different Layouts */}&#10;                    &lt;div className=&quot;space-y-8&quot;&gt;&#10;                      {reviews.map((review, index) =&gt; {&#10;                        const layoutVariants = [&#10;                          &quot;premium-testimonial&quot;,&#10;                          &quot;modern-review&quot;,&#10;                          &quot;elegant-feedback&quot;,&#10;                          &quot;vibrant-comment&quot;,&#10;                          &quot;classic-review&quot;,&#10;                        ];&#10;                        const variant =&#10;                          layoutVariants[index % layoutVariants.length];&#10;&#10;                        // Premium Testimonial Layout&#10;                        if (variant === &quot;premium-testimonial&quot;) {&#10;                          return (&#10;                            &lt;div&#10;                              key={index}&#10;                              className=&quot;group relative overflow-hidden rounded-3xl bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50 dark:from-indigo-900/20 dark:via-purple-900/20 dark:to-pink-900/20 p-8 hover:shadow-2xl transition-all duration-700 border-2 border-indigo-200 dark:border-indigo-800&quot;&#10;                            &gt;&#10;                              &lt;div className=&quot;absolute inset-0 bg-gradient-to-br from-indigo-400/5 to-purple-400/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500&quot;&gt;&lt;/div&gt;&#10;                              &lt;div className=&quot;absolute top-4 right-4 w-20 h-20 bg-indigo-100 dark:bg-indigo-800/30 rounded-full opacity-20 group-hover:scale-150 transition-transform duration-700&quot;&gt;&lt;/div&gt;&#10;&#10;                              &lt;div className=&quot;relative z-10&quot;&gt;&#10;                                &lt;div className=&quot;flex items-start space-x-6&quot;&gt;&#10;                                  {/* Avatar Section */}&#10;                                  &lt;div className=&quot;flex-shrink-0&quot;&gt;&#10;                                    &lt;div className=&quot;w-20 h-20 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl flex items-center justify-center text-white text-2xl font-bold shadow-lg group-hover:rotate-12 transition-transform duration-500&quot;&gt;&#10;                                      {(review.reviewer || &quot;A&quot;)&#10;                                        .charAt(0)&#10;                                        .toUpperCase()}&#10;                                    &lt;/div&gt;&#10;                                    &lt;div className=&quot;text-center mt-3&quot;&gt;&#10;                                      &lt;div className=&quot;flex justify-center space-x-1&quot;&gt;&#10;                                        {[...Array(5)].map((_, i) =&gt; (&#10;                                          &lt;i&#10;                                            key={i}&#10;                                            className={`fas fa-star text-lg ${&#10;                                              i &lt; review.rating&#10;                                                ? &quot;text-yellow-400&quot;&#10;                                                : &quot;text-gray-300 dark:text-gray-600&quot;&#10;                                            }`}&#10;                                          &gt;&lt;/i&gt;&#10;                                        ))}&#10;                                      &lt;/div&gt;&#10;                                      &lt;div className=&quot;text-sm text-indigo-600 dark:text-indigo-400 font-medium mt-1&quot;&gt;&#10;                                        {review.rating}/5 Stars&#10;                                      &lt;/div&gt;&#10;                                    &lt;/div&gt;&#10;                                  &lt;/div&gt;&#10;&#10;                                  {/* Content Section */}&#10;                                  &lt;div className=&quot;flex-1&quot;&gt;&#10;                                    &lt;div className=&quot;mb-4&quot;&gt;&#10;                                      &lt;h4 className=&quot;text-2xl font-bold text-gray-900 dark:text-white mb-2&quot;&gt;&#10;                                        {review.reviewer ||&#10;                                          &quot;Anonymous Customer&quot;}&#10;                                      &lt;/h4&gt;&#10;                                      &lt;div className=&quot;flex items-center space-x-4 text-sm text-gray-500 dark:text-gray-400&quot;&gt;&#10;                                        &lt;span className=&quot;flex items-center&quot;&gt;&#10;                                          &lt;i className=&quot;fas fa-box mr-2 text-purple-500&quot;&gt;&lt;/i&gt;&#10;                                          {review.productName}&#10;                                        &lt;/span&gt;&#10;                                        &lt;span className=&quot;flex items-center&quot;&gt;&#10;                                          &lt;i className=&quot;fas fa-calendar mr-2 text-indigo-500&quot;&gt;&lt;/i&gt;&#10;                                          {new Date(&#10;                                            review.createdAt,&#10;                                          ).toLocaleDateString()}&#10;                                        &lt;/span&gt;&#10;                                      &lt;/div&gt;&#10;                                    &lt;/div&gt;&#10;&#10;                                    &lt;div className=&quot;relative&quot;&gt;&#10;                                      &lt;div className=&quot;absolute -top-2 -left-2 text-6xl text-indigo-200 dark:text-indigo-800 opacity-50&quot;&gt;&#10;                                        &lt;i className=&quot;fas fa-quote-left&quot;&gt;&lt;/i&gt;&#10;                                      &lt;/div&gt;&#10;                                      &lt;p className=&quot;text-gray-700 dark:text-gray-300 text-lg leading-relaxed italic pl-8 pr-4&quot;&gt;&#10;                                        {review.comment}&#10;                                      &lt;/p&gt;&#10;                                      &lt;div className=&quot;absolute -bottom-2 -right-2 text-6xl text-indigo-200 dark:text-indigo-800 opacity-50 transform rotate-180&quot;&gt;&#10;                                        &lt;i className=&quot;fas fa-quote-left&quot;&gt;&lt;/i&gt;&#10;                                      &lt;/div&gt;&#10;                                    &lt;/div&gt;&#10;                                  &lt;/div&gt;&#10;                                &lt;/div&gt;&#10;                              &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;                          );&#10;                        }&#10;&#10;                        // Modern Review Layout&#10;                        if (variant === &quot;modern-review&quot;) {&#10;                          return (&#10;                            &lt;div&#10;                              key={index}&#10;                              className=&quot;group relative overflow-hidden rounded-2xl bg-white dark:bg-gray-800 shadow-xl hover:shadow-2xl transition-all duration-500 border-l-8 border-emerald-500&quot;&#10;                            &gt;&#10;                              &lt;div className=&quot;absolute inset-0 bg-gradient-to-r from-emerald-50/50 to-teal-50/50 dark:from-emerald-900/10 dark:to-teal-900/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300&quot;&gt;&lt;/div&gt;&#10;&#10;                              &lt;div className=&quot;relative z-10 p-8&quot;&gt;&#10;                                &lt;div className=&quot;flex items-center justify-between mb-6&quot;&gt;&#10;                                  &lt;div className=&quot;flex items-center space-x-4&quot;&gt;&#10;                                    &lt;div className=&quot;w-16 h-16 bg-gradient-to-br from-emerald-400 to-teal-500 rounded-xl flex items-center justify-center text-white text-xl font-bold shadow-lg&quot;&gt;&#10;                                      {(review.reviewer || &quot;A&quot;)&#10;                                        .charAt(0)&#10;                                        .toUpperCase()}&#10;                                    &lt;/div&gt;&#10;                                    &lt;div&gt;&#10;                                      &lt;h4 className=&quot;text-xl font-bold text-gray-900 dark:text-white&quot;&gt;&#10;                                        {review.reviewer ||&#10;                                          &quot;Anonymous Customer&quot;}&#10;                                      &lt;/h4&gt;&#10;                                      &lt;p className=&quot;text-emerald-600 dark:text-emerald-400 font-medium&quot;&gt;&#10;                                        Verified Purchase&#10;                                      &lt;/p&gt;&#10;                                    &lt;/div&gt;&#10;                                  &lt;/div&gt;&#10;&#10;                                  &lt;div className=&quot;text-right&quot;&gt;&#10;                                    &lt;div className=&quot;flex items-center space-x-1 justify-end mb-2&quot;&gt;&#10;                                      {[...Array(5)].map((_, i) =&gt; (&#10;                                        &lt;i&#10;                                          key={i}&#10;                                          className={`fas fa-star text-xl ${&#10;                                            i &lt; review.rating&#10;                                              ? &quot;text-yellow-400&quot;&#10;                                              : &quot;text-gray-300 dark:text-gray-600&quot;&#10;                                          }`}&#10;                                        &gt;&lt;/i&gt;&#10;                                      ))}&#10;                                    &lt;/div&gt;&#10;                                    &lt;div className=&quot;text-gray-500 dark:text-gray-400 text-sm&quot;&gt;&#10;                                      {new Date(&#10;                                        review.createdAt,&#10;                                      ).toLocaleDateString()}&#10;                                    &lt;/div&gt;&#10;                                  &lt;/div&gt;&#10;                                &lt;/div&gt;&#10;&#10;                                &lt;div className=&quot;mb-4&quot;&gt;&#10;                                  &lt;div className=&quot;inline-flex items-center bg-emerald-100 dark:bg-emerald-900/30 text-emerald-800 dark:text-emerald-300 px-3 py-1 rounded-full text-sm font-medium&quot;&gt;&#10;                                    &lt;i className=&quot;fas fa-leaf mr-2&quot;&gt;&lt;/i&gt;&#10;                                    {review.productName}&#10;                                  &lt;/div&gt;&#10;                                &lt;/div&gt;&#10;&#10;                                &lt;p className=&quot;text-gray-700 dark:text-gray-300 text-lg leading-relaxed&quot;&gt;&#10;                                  {review.comment}&#10;                                &lt;/p&gt;&#10;                              &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;                          );&#10;                        }&#10;&#10;                        // Elegant Feedback Layout&#10;                        if (variant === &quot;elegant-feedback&quot;) {&#10;                          return (&#10;                            &lt;div&#10;                              key={index}&#10;                              className=&quot;group relative overflow-hidden rounded-3xl bg-gradient-to-br from-rose-50 via-pink-50 to-red-50 dark:from-rose-900/20 dark:via-pink-900/20 dark:to-red-900/20 p-8 hover:shadow-2xl transition-all duration-700 border border-rose-200 dark:border-rose-800&quot;&#10;                            &gt;&#10;                              &lt;div className=&quot;absolute inset-0 bg-gradient-to-br from-rose-400/5 to-pink-400/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500&quot;&gt;&lt;/div&gt;&#10;                              &lt;div className=&quot;absolute top-4 right-4 w-20 h-20 bg-rose-100 dark:bg-rose-800/30 rounded-full opacity-20 group-hover:scale-150 transition-transform duration-700&quot;&gt;&lt;/div&gt;&#10;&#10;                              &lt;div className=&quot;relative z-10&quot;&gt;&#10;                                &lt;div className=&quot;text-center mb-6&quot;&gt;&#10;                                  &lt;div className=&quot;w-24 h-24 bg-gradient-to-br from-rose-400 to-pink-500 rounded-full flex items-center justify-center mx-auto mb-4 shadow-xl group-hover:rotate-12 transition-transform duration-500&quot;&gt;&#10;                                    &lt;i className=&quot;fas fa-heart text-white text-2xl&quot;&gt;&lt;/i&gt;&#10;                                  &lt;/div&gt;&#10;                                  &lt;h4 className=&quot;text-2xl font-bold text-gray-900 dark:text-white mb-2&quot;&gt;&#10;                                    {review.reviewer || &quot;Happy Customer&quot;}&#10;                                  &lt;/h4&gt;&#10;                                  &lt;div className=&quot;flex justify-center space-x-1 mb-3&quot;&gt;&#10;                                    {[...Array(5)].map((_, i) =&gt; (&#10;                                      &lt;i&#10;                                        key={i}&#10;                                        className={`fas fa-star text-2xl ${&#10;                                          i &lt; review.rating&#10;                                            ? &quot;text-yellow-400&quot;&#10;                                            : &quot;text-gray-300 dark:text-gray-600&quot;&#10;                                        }`}&#10;                                      &gt;&lt;/i&gt;&#10;                                    ))}&#10;                                  &lt;/div&gt;&#10;                                  &lt;div className=&quot;inline-flex items-center bg-rose-100 dark:bg-rose-900/30 text-rose-800 dark:text-rose-300 px-4 py-2 rounded-full text-sm font-medium&quot;&gt;&#10;                                    &lt;i className=&quot;fas fa-apple-alt mr-2&quot;&gt;&lt;/i&gt;&#10;                                    {review.productName}&#10;                                  &lt;/div&gt;&#10;                                &lt;/div&gt;&#10;&#10;                                &lt;div className=&quot;text-center&quot;&gt;&#10;                                  &lt;p className=&quot;text-gray-700 dark:text-gray-300 text-xl leading-relaxed italic font-light&quot;&gt;&#10;                                    &amp;ldquo;{review.comment}&amp;rdquo;&#10;                                  &lt;/p&gt;&#10;                                  &lt;div className=&quot;mt-6 text-gray-500 dark:text-gray-400 text-sm&quot;&gt;&#10;                                    &lt;i className=&quot;fas fa-calendar-alt mr-2&quot;&gt;&lt;/i&gt;&#10;                                    {new Date(&#10;                                      review.createdAt,&#10;                                    ).toLocaleDateString()}&#10;                                  &lt;/div&gt;&#10;                                &lt;/div&gt;&#10;                              &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;                          );&#10;                        }&#10;&#10;                        // Vibrant Comment Layout&#10;                        if (variant === &quot;vibrant-comment&quot;) {&#10;                          return (&#10;                            &lt;div&#10;                              key={index}&#10;                              className=&quot;group relative overflow-hidden rounded-2xl bg-gradient-to-r from-cyan-500 to-blue-600 p-8 hover:shadow-2xl transition-all duration-500 text-white&quot;&#10;                            &gt;&#10;                              &lt;div className=&quot;absolute inset-0 bg-gradient-to-r from-cyan-400/20 to-blue-400/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300&quot;&gt;&lt;/div&gt;&#10;                              &lt;div className=&quot;absolute top-0 right-0 w-40 h-40 bg-white/10 rounded-full transform translate-x-20 -translate-y-20 group-hover:scale-150 transition-transform duration-700&quot;&gt;&lt;/div&gt;&#10;&#10;                              &lt;div className=&quot;relative z-10&quot;&gt;&#10;                                &lt;div className=&quot;flex items-start space-x-6&quot;&gt;&#10;                                  &lt;div className=&quot;flex-shrink-0&quot;&gt;&#10;                                    &lt;div className=&quot;w-18 h-18 bg-white/20 backdrop-blur-sm rounded-2xl flex items-center justify-center text-2xl font-bold shadow-lg&quot;&gt;&#10;                                      {(review.reviewer || &quot;A&quot;)&#10;                                        .charAt(0)&#10;                                        .toUpperCase()}&#10;                                    &lt;/div&gt;&#10;                                  &lt;/div&gt;&#10;&#10;                                  &lt;div className=&quot;flex-1&quot;&gt;&#10;                                    &lt;div className=&quot;flex items-center justify-between mb-4&quot;&gt;&#10;                                      &lt;div className=&quot;flex-1&quot;&gt;&#10;                                        &lt;h4 className=&quot;text-xl font-bold mb-1&quot;&gt;&#10;                                          {review.reviewer || &quot;Valued Customer&quot;}&#10;                                        &lt;/h4&gt;&#10;                                        &lt;div className=&quot;flex items-center space-x-1&quot;&gt;&#10;                                          {[...Array(5)].map((_, i) =&gt; (&#10;                                            &lt;i&#10;                                              key={i}&#10;                                              className={`fas fa-star ${&#10;                                                i &lt; review.rating&#10;                                                  ? &quot;text-yellow-300&quot;&#10;                                                  : &quot;text-white/30&quot;&#10;                                              }`}&#10;                                            &gt;&lt;/i&gt;&#10;                                          ))}&#10;                                          &lt;span className=&quot;ml-2 text-white/90&quot;&gt;&#10;                                            ({review.rating}/5)&#10;                                          &lt;/span&gt;&#10;                                        &lt;/div&gt;&#10;                                      &lt;/div&gt;&#10;                                      &lt;div className=&quot;text-right text-white/80 text-sm&quot;&gt;&#10;                                        {new Date(&#10;                                          review.createdAt,&#10;                                        ).toLocaleDateString()}&#10;                                      &lt;/div&gt;&#10;                                    &lt;/div&gt;&#10;&#10;                                    &lt;div className=&quot;mb-4&quot;&gt;&#10;                                      &lt;span className=&quot;inline-flex items-center bg-white/20 backdrop-blur-sm text-white px-3 py-1 rounded-full text-sm&quot;&gt;&#10;                                        &lt;i className=&quot;fas fa-tag mr-2&quot;&gt;&lt;/i&gt;&#10;                                        {review.productName}&#10;                                      &lt;/span&gt;&#10;                                    &lt;/div&gt;&#10;&#10;                                    &lt;p className=&quot;text-white/95 text-lg leading-relaxed&quot;&gt;&#10;                                      {review.comment}&#10;                                    &lt;/p&gt;&#10;                                  &lt;/div&gt;&#10;                                &lt;/div&gt;&#10;                              &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;                          );&#10;                        }&#10;&#10;                        // Classic Review Layout (Default)&#10;                        return (&#10;                          &lt;div&#10;                            key={index}&#10;                            className=&quot;group relative overflow-hidden rounded-xl bg-white dark:bg-gray-800 shadow-lg hover:shadow-xl transition-all duration-300 border border-gray-200 dark:border-gray-700&quot;&#10;                          &gt;&#10;                            &lt;div className=&quot;absolute inset-0 bg-gradient-to-br from-gray-50/50 to-slate-50/50 dark:from-gray-700/50 dark:to-slate-700/50 opacity-0 group-hover:opacity-100 transition-opacity duration-300&quot;&gt;&lt;/div&gt;&#10;&#10;                            &lt;div className=&quot;relative z-10 p-6&quot;&gt;&#10;                              &lt;div className=&quot;flex items-start justify-between mb-4&quot;&gt;&#10;                                &lt;div className=&quot;flex items-center space-x-3&quot;&gt;&#10;                                  &lt;div className=&quot;w-12 h-12 bg-gradient-to-br from-gray-400 to-slate-500 rounded-lg flex items-center justify-center text-white font-bold&quot;&gt;&#10;                                    {(review.reviewer || &quot;A&quot;)&#10;                                      .charAt(0)&#10;                                      .toUpperCase()}&#10;                                  &lt;/div&gt;&#10;                                  &lt;div&gt;&#10;                                    &lt;h4 className=&quot;font-semibold text-gray-900 dark:text-white&quot;&gt;&#10;                                      {review.reviewer || &quot;Anonymous Customer&quot;}&#10;                                    &lt;/h4&gt;&#10;                                    &lt;p className=&quot;text-sm text-gray-500 dark:text-gray-400&quot;&gt;&#10;                                      {review.productName}&#10;                                    &lt;/p&gt;&#10;                                  &lt;/div&gt;&#10;                                &lt;/div&gt;&#10;&#10;                                &lt;div className=&quot;text-right&quot;&gt;&#10;                                  &lt;div className=&quot;flex items-center space-x-1 mb-1&quot;&gt;&#10;                                    {[...Array(5)].map((_, i) =&gt; (&#10;                                      &lt;i&#10;                                        key={i}&#10;                                        className={`fas fa-star text-sm ${&#10;                                          i &lt; review.rating&#10;                                            ? &quot;text-yellow-400&quot;&#10;                                            : &quot;text-gray-300 dark:text-gray-600&quot;&#10;                                        }`}&#10;                                      &gt;&lt;/i&gt;&#10;                                    ))}&#10;                                  &lt;/div&gt;&#10;                                  &lt;div className=&quot;text-xs text-gray-500 dark:text-gray-400&quot;&gt;&#10;                                    {new Date(&#10;                                      review.createdAt,&#10;                                    ).toLocaleDateString()}&#10;                                  &lt;/div&gt;&#10;                                &lt;/div&gt;&#10;                              &lt;/div&gt;&#10;&#10;                              &lt;p className=&quot;text-gray-700 dark:text-gray-300 leading-relaxed&quot;&gt;&#10;                                {review.comment}&#10;                              &lt;/p&gt;&#10;                            &lt;/div&gt;&#10;                          &lt;/div&gt;&#10;                        );&#10;                      })}&#10;                    &lt;/div&gt;&#10;&#10;                    {/* Customer Satisfaction Footer */}&#10;                    &lt;div className=&quot;bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-3xl p-8 mt-12 border border-green-200 dark:border-green-800&quot;&gt;&#10;                      &lt;div className=&quot;text-center&quot;&gt;&#10;                        &lt;div className=&quot;w-20 h-20 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl&quot;&gt;&#10;                          &lt;i className=&quot;fas fa-thumbs-up text-white text-3xl&quot;&gt;&lt;/i&gt;&#10;                        &lt;/div&gt;&#10;                        &lt;h3 className=&quot;text-2xl font-bold text-gray-900 dark:text-white mb-4&quot;&gt;&#10;                          Thank You for Your Trust! &#10;                        &lt;/h3&gt;&#10;                        &lt;p className=&quot;text-gray-600 dark:text-gray-400 text-lg max-w-2xl mx-auto leading-relaxed&quot;&gt;&#10;                          Your feedback helps us grow better produce and serve&#10;                          our community with excellence. Every review makes a&#10;                          difference in our farming journey.&#10;                        &lt;/p&gt;&#10;                        &lt;div className=&quot;mt-6 flex justify-center space-x-8&quot;&gt;&#10;                          &lt;div className=&quot;text-center&quot;&gt;&#10;                            &lt;div className=&quot;text-3xl font-bold text-green-600 dark:text-green-400&quot;&gt;&#10;                              100%&#10;                            &lt;/div&gt;&#10;                            &lt;div className=&quot;text-gray-600 dark:text-gray-400 text-sm&quot;&gt;&#10;                              Fresh Guarantee&#10;                            &lt;/div&gt;&#10;                          &lt;/div&gt;&#10;                          &lt;div className=&quot;text-center&quot;&gt;&#10;                            &lt;div className=&quot;text-3xl font-bold text-green-600 dark:text-green-400&quot;&gt;&#10;                              24/7&#10;                            &lt;/div&gt;&#10;                            &lt;div className=&quot;text-gray-600 dark:text-gray-400 text-sm&quot;&gt;&#10;                              Customer Support&#10;                            &lt;/div&gt;&#10;                          &lt;/div&gt;&#10;                          &lt;div className=&quot;text-center&quot;&gt;&#10;                            &lt;div className=&quot;text-3xl font-bold text-green-600 dark:text-green-400&quot;&gt;&#10;                              Fast&#10;                            &lt;/div&gt;&#10;                            &lt;div className=&quot;text-gray-600 dark:text-gray-400 text-sm&quot;&gt;&#10;                              Delivery&#10;                            &lt;/div&gt;&#10;                          &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                      &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                  &lt;/div&gt;&#10;                ) : (&#10;                  &lt;div className=&quot;text-center py-20&quot;&gt;&#10;                    &lt;div className=&quot;w-32 h-32 bg-gradient-to-br from-purple-100 to-pink-100 dark:from-purple-900/30 dark:to-pink-900/30 rounded-full flex items-center justify-center mx-auto mb-8 shadow-xl&quot;&gt;&#10;                      &lt;i className=&quot;fas fa-comment-dots text-6xl text-purple-400 dark:text-purple-300&quot;&gt;&lt;/i&gt;&#10;                    &lt;/div&gt;&#10;                    &lt;h3 className=&quot;text-3xl font-bold text-gray-900 dark:text-white mb-4&quot;&gt;&#10;                      No Reviews Yet&#10;                    &lt;/h3&gt;&#10;                    &lt;p className=&quot;text-gray-500 dark:text-gray-400 text-xl max-w-md mx-auto leading-relaxed mb-8&quot;&gt;&#10;                      Be the first to share your experience with our fresh&#10;                      produce! Your feedback helps us serve you better.&#10;                    &lt;/p&gt;&#10;                    &lt;div className=&quot;inline-flex items-center bg-gradient-to-r from-purple-500 to-pink-600 text-white px-8 py-4 rounded-2xl font-semibold text-lg shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105&quot;&gt;&#10;                      &lt;i className=&quot;fas fa-star mr-3&quot;&gt;&lt;/i&gt;&#10;                      Leave the First Review&#10;                      &lt;i className=&quot;fas fa-arrow-right ml-3&quot;&gt;&lt;/i&gt;&#10;                    &lt;/div&gt;&#10;                  &lt;/div&gt;&#10;                )}&#10;              &lt;/div&gt;&#10;            )}&#10;&#10;            {activeTab === &quot;stats&quot; &amp;&amp; (&#10;              &lt;div className=&quot;space-y-8&quot;&gt;&#10;                &lt;div className=&quot;text-center mb-12&quot;&gt;&#10;                  &lt;h2 className=&quot;text-4xl font-bold bg-gradient-to-r from-emerald-600 via-teal-600 to-cyan-600 bg-clip-text text-transparent mb-6&quot;&gt;&#10;                     Farm Analytics Dashboard &#10;                  &lt;/h2&gt;&#10;                  &lt;p className=&quot;text-gray-600 dark:text-gray-400 text-lg max-w-3xl mx-auto leading-relaxed&quot;&gt;&#10;                    Discover the comprehensive insights behind our farm's&#10;                    productivity, community impact, and sustainable growth&#10;                    journey.&#10;                  &lt;/p&gt;&#10;                &lt;/div&gt;&#10;&#10;                {/* Primary Statistics Showcase */}&#10;                &lt;div className=&quot;grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-12&quot;&gt;&#10;                  {/* Holographic Products Card */}&#10;                  &lt;div className=&quot;group relative overflow-hidden rounded-3xl bg-gradient-to-br from-emerald-50 via-green-50 to-teal-50 dark:from-emerald-900/20 dark:via-green-900/20 dark:to-teal-900/20 p-8 hover:shadow-2xl transition-all duration-700 border border-emerald-200 dark:border-emerald-800&quot;&gt;&#10;                    &lt;div className=&quot;absolute inset-0 bg-gradient-to-br from-emerald-400/10 to-teal-400/10 opacity-0 group-hover:opacity-100 transition-opacity duration-500&quot;&gt;&lt;/div&gt;&#10;                    &lt;div className=&quot;absolute top-4 right-4 w-16 h-16 bg-emerald-100 dark:bg-emerald-800/30 rounded-full opacity-20 group-hover:scale-150 transition-transform duration-700&quot;&gt;&lt;/div&gt;&#10;                    &lt;div className=&quot;relative z-10&quot;&gt;&#10;                      &lt;div className=&quot;flex items-center justify-between mb-6&quot;&gt;&#10;                        &lt;div className=&quot;w-16 h-16 bg-gradient-to-br from-emerald-500 to-green-600 rounded-2xl flex items-center justify-center transform group-hover:rotate-12 transition-transform duration-500 shadow-lg&quot;&gt;&#10;                          &lt;i className=&quot;fas fa-seedling text-2xl text-white&quot;&gt;&lt;/i&gt;&#10;                        &lt;/div&gt;&#10;                        &lt;div className=&quot;text-right&quot;&gt;&#10;                          &lt;div className=&quot;text-4xl font-bold text-emerald-600 dark:text-emerald-400 mb-1&quot;&gt;&#10;                            {stats.totalProducts}&#10;                          &lt;/div&gt;&#10;                          &lt;div className=&quot;text-emerald-500 dark:text-emerald-300 text-sm font-medium&quot;&gt;&#10;                            Total Products&#10;                          &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                      &lt;/div&gt;&#10;                      &lt;div className=&quot;space-y-3&quot;&gt;&#10;                        &lt;div className=&quot;flex justify-between text-gray-700 dark:text-gray-300&quot;&gt;&#10;                          &lt;span&gt;Active Items&lt;/span&gt;&#10;                          &lt;span className=&quot;font-bold text-green-600 dark:text-green-400&quot;&gt;&#10;                            {stats.activeProducts}&#10;                          &lt;/span&gt;&#10;                        &lt;/div&gt;&#10;                        &lt;div className=&quot;w-full bg-emerald-100 dark:bg-emerald-900/30 rounded-full h-3&quot;&gt;&#10;                          &lt;div&#10;                            className=&quot;bg-gradient-to-r from-emerald-500 to-green-500 h-3 rounded-full transition-all duration-1000 shadow-sm&quot;&#10;                            style={{&#10;                              width: `${(stats.activeProducts / stats.totalProducts) * 100}%`,&#10;                            }}&#10;                          &gt;&lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                        &lt;div className=&quot;text-center text-xs text-gray-500 dark:text-gray-400&quot;&gt;&#10;                          {(&#10;                            (stats.activeProducts / stats.totalProducts) *&#10;                            100&#10;                          ).toFixed(0)}&#10;                          % availability rate&#10;                        &lt;/div&gt;&#10;                      &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                  &lt;/div&gt;&#10;&#10;                  {/* Crystal Inventory Card */}&#10;                  &lt;div className=&quot;group relative overflow-hidden rounded-3xl bg-gradient-to-br from-blue-50 via-cyan-50 to-indigo-50 dark:from-blue-900/20 dark:via-cyan-900/20 dark:to-indigo-900/20 p-8 hover:shadow-2xl transition-all duration-700 border border-blue-200 dark:border-blue-800&quot;&gt;&#10;                    &lt;div className=&quot;absolute inset-0 bg-gradient-to-br from-blue-400/10 to-cyan-400/10 opacity-0 group-hover:opacity-100 transition-opacity duration-500&quot;&gt;&lt;/div&gt;&#10;                    &lt;div className=&quot;absolute -top-4 -right-4 w-20 h-20 bg-blue-100 dark:bg-blue-800/30 rounded-full opacity-20 group-hover:scale-125 transition-transform duration-700&quot;&gt;&lt;/div&gt;&#10;                    &lt;div className=&quot;relative z-10&quot;&gt;&#10;                      &lt;div className=&quot;flex items-center justify-between mb-6&quot;&gt;&#10;                        &lt;div className=&quot;w-16 h-16 bg-gradient-to-br from-blue-500 to-cyan-600 rounded-2xl flex items-center justify-center transform group-hover:scale-110 transition-transform duration-500 shadow-lg&quot;&gt;&#10;                          &lt;i className=&quot;fas fa-boxes text-2xl text-white&quot;&gt;&lt;/i&gt;&#10;                        &lt;/div&gt;&#10;                        &lt;div className=&quot;text-right&quot;&gt;&#10;                          &lt;div className=&quot;text-4xl font-bold text-blue-600 dark:text-blue-400 mb-1&quot;&gt;&#10;                            {stats.totalStock}&#10;                          &lt;/div&gt;&#10;                          &lt;div className=&quot;text-blue-500 dark:text-blue-300 text-sm font-medium&quot;&gt;&#10;                            Items in Stock&#10;                          &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                      &lt;/div&gt;&#10;                      &lt;div className=&quot;grid grid-cols-2 gap-4&quot;&gt;&#10;                        &lt;div className=&quot;text-center p-3 bg-white/50 dark:bg-blue-900/20 rounded-xl&quot;&gt;&#10;                          &lt;div className=&quot;text-lg font-bold text-cyan-600 dark:text-cyan-400&quot;&gt;&#10;                            {stats.categories?.length || 0}&#10;                          &lt;/div&gt;&#10;                          &lt;div className=&quot;text-xs text-gray-600 dark:text-gray-400&quot;&gt;&#10;                            Categories&#10;                          &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                        &lt;div className=&quot;text-center p-3 bg-white/50 dark:bg-blue-900/20 rounded-xl&quot;&gt;&#10;                          &lt;div className=&quot;text-lg font-bold text-indigo-600 dark:text-indigo-400&quot;&gt;&#10;                            ${stats.averagePrice}&#10;                          &lt;/div&gt;&#10;                          &lt;div className=&quot;text-xs text-gray-600 dark:text-gray-400&quot;&gt;&#10;                            Avg Price&#10;                          &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                      &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                  &lt;/div&gt;&#10;&#10;                  {/* Prismatic Community Impact */}&#10;                  &lt;div className=&quot;group relative overflow-hidden rounded-3xl bg-gradient-to-br from-purple-50 via-pink-50 to-rose-50 dark:from-purple-900/20 dark:via-pink-900/20 dark:to-rose-900/20 p-8 hover:shadow-2xl transition-all duration-700 border border-purple-200 dark:border-purple-800&quot;&gt;&#10;                    &lt;div className=&quot;absolute inset-0 bg-gradient-to-br from-purple-400/10 to-pink-400/10 opacity-0 group-hover:opacity-100 transition-opacity duration-500&quot;&gt;&lt;/div&gt;&#10;                    &lt;div className=&quot;absolute bottom-4 left-4 w-12 h-12 bg-purple-100 dark:bg-purple-800/30 rounded-full opacity-30 group-hover:animate-pulse&quot;&gt;&lt;/div&gt;&#10;                    &lt;div className=&quot;relative z-10&quot;&gt;&#10;                      &lt;div className=&quot;flex items-center justify-between mb-6&quot;&gt;&#10;                        &lt;div className=&quot;w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-600 rounded-2xl flex items-center justify-center transform group-hover:rotate-45 transition-transform duration-500 shadow-lg&quot;&gt;&#10;                          &lt;i className=&quot;fas fa-calendar text-2xl text-white&quot;&gt;&lt;/i&gt;&#10;                        &lt;/div&gt;&#10;                        &lt;div className=&quot;text-right&quot;&gt;&#10;                          &lt;div className=&quot;text-4xl font-bold text-purple-600 dark:text-purple-400 mb-1&quot;&gt;&#10;                            {calculateYearsOfExperience(&#10;                              farmer.joinedDate,&#10;                              farmer.createdAt,&#10;                            )}&#10;                          &lt;/div&gt;&#10;                          &lt;div className=&quot;text-purple-500 dark:text-purple-300 text-sm font-medium&quot;&gt;&#10;                            Years Experience&#10;                          &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                      &lt;/div&gt;&#10;                      &lt;div className=&quot;space-y-3&quot;&gt;&#10;                        &lt;div className=&quot;flex justify-between text-gray-700 dark:text-gray-300&quot;&gt;&#10;                          &lt;span&gt;Farm Size&lt;/span&gt;&#10;                          &lt;span className=&quot;font-bold text-pink-600 dark:text-pink-400&quot;&gt;&#10;                            {farmer.farmSize&#10;                              ? `${farmer.farmSize} ${farmer.farmSizeUnit}`&#10;                              : &quot;Not specified&quot;}&#10;                          &lt;/span&gt;&#10;                        &lt;/div&gt;&#10;                        &lt;div className=&quot;flex items-center space-x-2&quot;&gt;&#10;                          &lt;div className=&quot;flex-1 h-2 bg-purple-100 dark:bg-purple-900/30 rounded-full overflow-hidden&quot;&gt;&#10;                            &lt;div&#10;                              className=&quot;h-full bg-gradient-to-r from-purple-500 to-pink-500 rounded-full&quot;&#10;                              style={{&#10;                                width: farmer.verified ? &quot;100%&quot; : &quot;75%&quot;,&#10;                              }}&#10;                            &gt;&lt;/div&gt;&#10;                          &lt;/div&gt;&#10;                          &lt;span className=&quot;text-xs text-purple-600 dark:text-purple-400 font-medium&quot;&gt;&#10;                            {farmer.verified ? &quot;Verified&quot; : &quot;Pending&quot;}&#10;                          &lt;/span&gt;&#10;                        &lt;/div&gt;&#10;                      &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                  &lt;/div&gt;&#10;&#10;                  {/* Luminous Performance */}&#10;                  &lt;div className=&quot;group relative overflow-hidden rounded-3xl bg-gradient-to-br from-amber-50 via-yellow-50 to-orange-50 dark:from-amber-900/20 dark:via-yellow-900/20 dark:to-orange-900/20 p-8 hover:shadow-2xl transition-all duration-700 border border-amber-200 dark:border-amber-800&quot;&gt;&#10;                    &lt;div className=&quot;absolute inset-0 bg-gradient-to-br from-amber-400/10 to-orange-400/10 opacity-0 group-hover:opacity-100 transition-opacity duration-500&quot;&gt;&lt;/div&gt;&#10;                    &lt;div className=&quot;absolute top-0 left-0 w-24 h-24 bg-amber-100 dark:bg-amber-800/30 rounded-full opacity-20 transform -translate-x-12 -translate-y-12 group-hover:scale-150 transition-transform duration-700&quot;&gt;&lt;/div&gt;&#10;                    &lt;div className=&quot;relative z-10&quot;&gt;&#10;                      &lt;div className=&quot;flex items-center justify-between mb-6&quot;&gt;&#10;                        &lt;div className=&quot;w-16 h-16 bg-gradient-to-br from-amber-500 to-orange-600 rounded-2xl flex items-center justify-center transform group-hover:scale-110 transition-transform duration-500 shadow-lg&quot;&gt;&#10;                          &lt;i className=&quot;fas fa-star text-2xl text-white&quot;&gt;&lt;/i&gt;&#10;                        &lt;/div&gt;&#10;                        &lt;div className=&quot;text-right&quot;&gt;&#10;                          &lt;div className=&quot;text-4xl font-bold text-amber-600 dark:text-amber-400 mb-1&quot;&gt;&#10;                            {stats.averageRating || &quot;N/A&quot;}&#10;                          &lt;/div&gt;&#10;                          &lt;div className=&quot;text-amber-500 dark:text-amber-300 text-sm font-medium&quot;&gt;&#10;                            Average Rating&#10;                          &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                      &lt;/div&gt;&#10;                      &lt;div className=&quot;space-y-3&quot;&gt;&#10;                        &lt;div className=&quot;flex justify-between text-gray-700 dark:text-gray-300&quot;&gt;&#10;                          &lt;span&gt;Total Reviews&lt;/span&gt;&#10;                          &lt;span className=&quot;font-bold text-orange-600 dark:text-orange-400&quot;&gt;&#10;                            {stats.totalReviews}&#10;                          &lt;/span&gt;&#10;                        &lt;/div&gt;&#10;                        &lt;div className=&quot;flex items-center space-x-1&quot;&gt;&#10;                          {[...Array(5)].map((_, i) =&gt; (&#10;                            &lt;i&#10;                              key={i}&#10;                              className={`fas fa-star text-lg ${&#10;                                i &lt; Math.floor(stats.averageRating || 0)&#10;                                  ? &quot;text-amber-400&quot;&#10;                                  : &quot;text-gray-300 dark:text-gray-600&quot;&#10;                              }`}&#10;                            &gt;&lt;/i&gt;&#10;                          ))}&#10;                          &lt;span className=&quot;ml-2 text-sm text-gray-500 dark:text-gray-400&quot;&gt;&#10;                            ({stats.averageRating}/5.0)&#10;                          &lt;/span&gt;&#10;                        &lt;/div&gt;&#10;                      &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                  &lt;/div&gt;&#10;                &lt;/div&gt;&#10;&#10;                {/* Enhanced Farm Details Grid */}&#10;                &lt;div className=&quot;grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-12&quot;&gt;&#10;                  {/* Experience Showcase */}&#10;                  &lt;div className=&quot;group relative overflow-hidden rounded-2xl bg-gradient-to-br from-indigo-100 to-purple-100 dark:from-indigo-900/30 dark:to-purple-900/30 p-6 hover:shadow-xl transition-all duration-500 border-l-4 border-indigo-500&quot;&gt;&#10;                    &lt;div className=&quot;absolute inset-0 bg-gradient-to-br from-indigo-500/5 to-purple-500/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300&quot;&gt;&lt;/div&gt;&#10;                    &lt;div className=&quot;relative z-10&quot;&gt;&#10;                      &lt;div className=&quot;flex items-center justify-between mb-4&quot;&gt;&#10;                        &lt;div className=&quot;w-12 h-12 bg-indigo-500 rounded-xl flex items-center justify-center transform group-hover:rotate-12 transition-transform duration-300&quot;&gt;&#10;                          &lt;i className=&quot;fas fa-clock text-white text-lg&quot;&gt;&lt;/i&gt;&#10;                        &lt;/div&gt;&#10;                        &lt;div className=&quot;text-3xl font-bold text-indigo-600 dark:text-indigo-400&quot;&gt;&#10;                          {stats.yearsOfExperience}+&#10;                        &lt;/div&gt;&#10;                      &lt;/div&gt;&#10;                      &lt;h3 className=&quot;text-lg font-semibold text-gray-900 dark:text-white mb-2&quot;&gt;&#10;                        Years of Experience&#10;                      &lt;/h3&gt;&#10;                      &lt;p className=&quot;text-gray-600 dark:text-gray-400 text-sm&quot;&gt;&#10;                        Dedicated farming expertise&#10;                      &lt;/p&gt;&#10;                    &lt;/div&gt;&#10;                  &lt;/div&gt;&#10;&#10;                  {/* Farm Size Display */}&#10;                  &lt;div className=&quot;group relative overflow-hidden rounded-2xl bg-gradient-to-br from-green-100 to-emerald-100 dark:from-green-900/30 dark:to-emerald-900/30 p-6 hover:shadow-xl transition-all duration-500 border-l-4 border-green-500&quot;&gt;&#10;                    &lt;div className=&quot;absolute inset-0 bg-gradient-to-br from-green-500/5 to-emerald-500/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300&quot;&gt;&lt;/div&gt;&#10;                    &lt;div className=&quot;relative z-10&quot;&gt;&#10;                      &lt;div className=&quot;flex items-center justify-between mb-4&quot;&gt;&#10;                        &lt;div className=&quot;w-12 h-12 bg-green-500 rounded-xl flex items-center justify-center transform group-hover:scale-110 transition-transform duration-300&quot;&gt;&#10;                          &lt;i className=&quot;fas fa-map text-white text-lg&quot;&gt;&lt;/i&gt;&#10;                        &lt;/div&gt;&#10;                        &lt;div className=&quot;text-2xl font-bold text-green-600 dark:text-green-400&quot;&gt;&#10;                          {farmer.farmInfo?.farmSize || stats.farmSize || &quot;5&quot;}{&quot; &quot;}&#10;                          {farmer.farmInfo?.farmSizeUnit ||&#10;                            stats.farmSizeUnit ||&#10;                            &quot;acres&quot;}&#10;                        &lt;/div&gt;&#10;                      &lt;/div&gt;&#10;                      &lt;h3 className=&quot;text-lg font-semibold text-gray-900 dark:text-white mb-2&quot;&gt;&#10;                        Farm Size&#10;                      &lt;/h3&gt;&#10;                      &lt;p className=&quot;text-gray-600 dark:text-gray-400 text-sm&quot;&gt;&#10;                        Total cultivated area&#10;                      &lt;/p&gt;&#10;                    &lt;/div&gt;&#10;                  &lt;/div&gt;&#10;&#10;                  {/* Certification Status */}&#10;                  &lt;div className=&quot;group relative overflow-hidden rounded-2xl bg-gradient-to-br from-blue-100 to-cyan-100 dark:from-blue-900/30 dark:to-cyan-900/30 p-6 hover:shadow-xl transition-all duration-500 border-l-4 border-blue-500&quot;&gt;&#10;                    &lt;div className=&quot;absolute inset-0 bg-gradient-to-br from-blue-500/5 to-cyan-500/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300&quot;&gt;&lt;/div&gt;&#10;                    &lt;div className=&quot;relative z-10&quot;&gt;&#10;                      &lt;div className=&quot;flex items-center justify-between mb-4&quot;&gt;&#10;                        &lt;div className=&quot;w-12 h-12 bg-blue-500 rounded-xl flex items-center justify-center transform group-hover:bounce transition-transform duration-300&quot;&gt;&#10;                          &lt;i className=&quot;fas fa-certificate text-white text-lg&quot;&gt;&lt;/i&gt;&#10;                        &lt;/div&gt;&#10;                        &lt;div&#10;                          className={`px-3 py-1 rounded-full text-sm font-medium ${&#10;                            stats.certificationStatus === &quot;Certified&quot;&#10;                              ? &quot;bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300&quot;&#10;                              : &quot;bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300&quot;&#10;                          }`}&#10;                        &gt;&#10;                          {stats.certificationStatus}&#10;                        &lt;/div&gt;&#10;                      &lt;/div&gt;&#10;                      &lt;h3 className=&quot;text-lg font-semibold text-gray-900 dark:text-white mb-2&quot;&gt;&#10;                        Certification&#10;                      &lt;/h3&gt;&#10;                      &lt;p className=&quot;text-gray-600 dark:text-gray-400 text-sm&quot;&gt;&#10;                        Quality assurance status&#10;                      &lt;/p&gt;&#10;                    &lt;/div&gt;&#10;                  &lt;/div&gt;&#10;&#10;                  {/* Farming Methods */}&#10;                  &lt;div className=&quot;group relative overflow-hidden rounded-2xl bg-gradient-to-br from-orange-100 to-red-100 dark:from-orange-900/30 dark:to-red-900/30 p-6 hover:shadow-xl transition-all duration-500 border-l-4 border-orange-500&quot;&gt;&#10;                    &lt;div className=&quot;absolute inset-0 bg-gradient-to-br from-orange-500/5 to-red-500/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300&quot;&gt;&lt;/div&gt;&#10;                    &lt;div className=&quot;relative z-10&quot;&gt;&#10;                      &lt;div className=&quot;flex items-center justify-between mb-4&quot;&gt;&#10;                        &lt;div className=&quot;w-12 h-12 bg-orange-500 rounded-xl flex items-center justify-center transform group-hover:rotate-45 transition-transform duration-300&quot;&gt;&#10;                          &lt;i className=&quot;fas fa-leaf text-white text-lg&quot;&gt;&lt;/i&gt;&#10;                        &lt;/div&gt;&#10;                        &lt;div className=&quot;text-3xl font-bold text-orange-600 dark:text-orange-400&quot;&gt;&#10;                          {stats.farmingMethods?.length || 2}&#10;                        &lt;/div&gt;&#10;                      &lt;/div&gt;&#10;                      &lt;h3 className=&quot;text-lg font-semibold text-gray-900 dark:text-white mb-2&quot;&gt;&#10;                        Methods Used&#10;                      &lt;/h3&gt;&#10;                      &lt;p className=&quot;text-gray-600 dark:text-gray-400 text-sm&quot;&gt;&#10;                        Sustainable practices&#10;                      &lt;/p&gt;&#10;                    &lt;/div&gt;&#10;                  &lt;/div&gt;&#10;                &lt;/div&gt;&#10;&#10;                {/* Revenue Analytics Section */}&#10;                &lt;div className=&quot;bg-gradient-to-br from-slate-50 to-gray-100 dark:from-slate-900/50 dark:to-gray-900/50 rounded-3xl p-8 mb-12 border border-slate-200 dark:border-slate-700&quot;&gt;&#10;                  &lt;div className=&quot;text-center mb-8&quot;&gt;&#10;                    &lt;h3 className=&quot;text-3xl font-bold text-gray-900 dark:text-white mb-4&quot;&gt;&#10;                       Revenue Analytics&#10;                    &lt;/h3&gt;&#10;                    &lt;p className=&quot;text-gray-600 dark:text-gray-400&quot;&gt;&#10;                      Financial performance and growth metrics&#10;                    &lt;/p&gt;&#10;                  &lt;/div&gt;&#10;&#10;                  &lt;div className=&quot;grid grid-cols-1 md:grid-cols-3 gap-8&quot;&gt;&#10;                    {/* Monthly Revenue */}&#10;                    &lt;div className=&quot;group relative overflow-hidden rounded-2xl bg-white dark:bg-slate-800 p-6 shadow-lg hover:shadow-xl transition-all duration-300&quot;&gt;&#10;                      &lt;div className=&quot;absolute top-0 right-0 w-20 h-20 bg-gradient-to-br from-emerald-400/20 to-green-400/20 rounded-full transform translate-x-10 -translate-y-10 group-hover:scale-150 transition-transform duration-500&quot;&gt;&lt;/div&gt;&#10;                      &lt;div className=&quot;relative z-10&quot;&gt;&#10;                        &lt;div className=&quot;flex items-center justify-between mb-4&quot;&gt;&#10;                          &lt;div className=&quot;w-12 h-12 bg-emerald-100 dark:bg-emerald-900/30 rounded-xl flex items-center justify-center&quot;&gt;&#10;                            &lt;i className=&quot;fas fa-calendar-alt text-emerald-600 dark:text-emerald-400&quot;&gt;&lt;/i&gt;&#10;                          &lt;/div&gt;&#10;                          &lt;span className=&quot;text-xs bg-emerald-100 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400 px-2 py-1 rounded-full font-medium&quot;&gt;&#10;                            This Month&#10;                          &lt;/span&gt;&#10;                        &lt;/div&gt;&#10;                        &lt;div className=&quot;text-3xl font-bold text-emerald-600 dark:text-emerald-400 mb-2&quot;&gt;&#10;                          ${stats.monthlyRevenue}&#10;                        &lt;/div&gt;&#10;                        &lt;h4 className=&quot;text-lg font-semibold text-gray-900 dark:text-white mb-1&quot;&gt;&#10;                          Monthly Revenue&#10;                        &lt;/h4&gt;&#10;                        &lt;p className=&quot;text-gray-500 dark:text-gray-400 text-sm&quot;&gt;&#10;                          Current month earnings&#10;                        &lt;/p&gt;&#10;                      &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    {/* Total Revenue */}&#10;                    &lt;div className=&quot;group relative overflow-hidden rounded-2xl bg-white dark:bg-slate-800 p-6 shadow-lg hover:shadow-xl transition-all duration-300&quot;&gt;&#10;                      &lt;div className=&quot;absolute bottom-0 left-0 w-24 h-24 bg-gradient-to-br from-blue-400/20 to-cyan-400/20 rounded-full transform -translate-x-12 translate-y-12 group-hover:scale-150 transition-transform duration-500&quot;&gt;&lt;/div&gt;&#10;                      &lt;div className=&quot;relative z-10&quot;&gt;&#10;                        &lt;div className=&quot;flex items-center justify-between mb-4&quot;&gt;&#10;                          &lt;div className=&quot;w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-xl flex items-center justify-center&quot;&gt;&#10;                            &lt;i className=&quot;fas fa-chart-line text-blue-600 dark:text-blue-400&quot;&gt;&lt;/i&gt;&#10;                          &lt;/div&gt;&#10;                          &lt;span className=&quot;text-xs bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 px-2 py-1 rounded-full font-medium&quot;&gt;&#10;                            All Time&#10;                          &lt;/span&gt;&#10;                        &lt;/div&gt;&#10;                        &lt;div className=&quot;text-3xl font-bold text-blue-600 dark:text-blue-400 mb-2&quot;&gt;&#10;                          ${stats.totalRevenue}&#10;                        &lt;/div&gt;&#10;                        &lt;h4 className=&quot;text-lg font-semibold text-gray-900 dark:text-white mb-1&quot;&gt;&#10;                          Total Revenue&#10;                        &lt;/h4&gt;&#10;                        &lt;p className=&quot;text-gray-500 dark:text-gray-400 text-sm&quot;&gt;&#10;                          Lifetime earnings&#10;                        &lt;/p&gt;&#10;                      &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    {/* Inventory Value */}&#10;                    &lt;div className=&quot;group relative overflow-hidden rounded-2xl bg-white dark:bg-slate-800 p-6 shadow-lg hover:shadow-xl transition-all duration-300&quot;&gt;&#10;                      &lt;div className=&quot;absolute top-1/2 right-0 w-16 h-16 bg-gradient-to-br from-purple-400/20 to-pink-400/20 rounded-full transform translate-x-8 -translate-y-8 group-hover:scale-150 transition-transform duration-500&quot;&gt;&lt;/div&gt;&#10;                      &lt;div className=&quot;relative z-10&quot;&gt;&#10;                        &lt;div className=&quot;flex items-center justify-between mb-4&quot;&gt;&#10;                          &lt;div className=&quot;w-12 h-12 bg-purple-100 dark:bg-purple-900/30 rounded-xl flex items-center justify-center&quot;&gt;&#10;                            &lt;i className=&quot;fas fa-warehouse text-purple-600 dark:text-purple-400&quot;&gt;&lt;/i&gt;&#10;                          &lt;/div&gt;&#10;                          &lt;span className=&quot;text-xs bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400 px-2 py-1 rounded-full font-medium&quot;&gt;&#10;                            Current&#10;                          &lt;/span&gt;&#10;                        &lt;/div&gt;&#10;                        &lt;div className=&quot;text-3xl font-bold text-purple-600 dark:text-purple-400 mb-2&quot;&gt;&#10;                          ${stats.inventoryValue}&#10;                        &lt;/div&gt;&#10;                        &lt;h4 className=&quot;text-lg font-semibold text-gray-900 dark:text-white mb-1&quot;&gt;&#10;                          Inventory Value&#10;                        &lt;/h4&gt;&#10;                        &lt;p className=&quot;text-gray-500 dark:text-gray-400 text-sm&quot;&gt;&#10;                          Stock worth&#10;                        &lt;/p&gt;&#10;                      &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                  &lt;/div&gt;&#10;                &lt;/div&gt;&#10;&#10;                {/* Farming Methods Showcase */}&#10;                {stats.farmingMethods &amp;&amp; stats.farmingMethods.length &gt; 0 &amp;&amp; (&#10;                  &lt;div className=&quot;mb-12&quot;&gt;&#10;                    &lt;div className=&quot;text-center mb-8&quot;&gt;&#10;                      &lt;h3 className=&quot;text-3xl font-bold text-gray-900 dark:text-white mb-4&quot;&gt;&#10;                         Our Farming Philosophy&#10;                      &lt;/h3&gt;&#10;                      &lt;p className=&quot;text-gray-600 dark:text-gray-400&quot;&gt;&#10;                        Sustainable and innovative agricultural practices&#10;                      &lt;/p&gt;&#10;                    &lt;/div&gt;&#10;                    &lt;div className=&quot;grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6&quot;&gt;&#10;                      {stats.farmingMethods.map((method, index) =&gt; {&#10;                        const config = methodConfig[method] || {&#10;                          icon: &quot;fas fa-tractor&quot;,&#10;                          color: &quot;text-gray-600 dark:text-gray-400&quot;,&#10;                          description: &quot;Specialized farming technique&quot;,&#10;                        };&#10;&#10;                        return (&#10;                          &lt;div&#10;                            key={index}&#10;                            className=&quot;group relative overflow-hidden rounded-2xl bg-white dark:bg-gray-800 p-8 shadow-lg hover:shadow-2xl transition-all duration-500 border-t-4 border-green-500&quot;&#10;                          &gt;&#10;                            &lt;div className=&quot;absolute inset-0 bg-gradient-to-br from-green-50/50 to-emerald-50/50 dark:from-green-900/10 dark:to-emerald-900/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300&quot;&gt;&lt;/div&gt;&#10;                            &lt;div className=&quot;relative z-10 text-center&quot;&gt;&#10;                              &lt;div className=&quot;w-20 h-20 bg-gradient-to-br from-green-100 to-emerald-100 dark:from-green-900/30 dark:to-emerald-900/30 rounded-2xl flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform duration-300&quot;&gt;&#10;                                &lt;i&#10;                                  className={`${config.icon} text-4xl ${config.color}`}&#10;                                &gt;&lt;/i&gt;&#10;                              &lt;/div&gt;&#10;                              &lt;h4 className=&quot;text-xl font-bold text-gray-900 dark:text-white mb-3&quot;&gt;&#10;                                {method}&#10;                              &lt;/h4&gt;&#10;                              &lt;p className=&quot;text-gray-600 dark:text-gray-400 leading-relaxed&quot;&gt;&#10;                                {config.description}&#10;                              &lt;/p&gt;&#10;                            &lt;/div&gt;&#10;                          &lt;/div&gt;&#10;                        );&#10;                      })}&#10;                    &lt;/div&gt;&#10;                  &lt;/div&gt;&#10;                )}&#10;&#10;                {/* Growth Metrics Footer */}&#10;                &lt;div className=&quot;bg-gradient-to-r from-green-600 to-emerald-600 rounded-3xl p-8 text-white&quot;&gt;&#10;                  &lt;div className=&quot;text-center&quot;&gt;&#10;                    &lt;h3 className=&quot;text-2xl font-bold mb-6&quot;&gt;&#10;                       Growth Trajectory&#10;                    &lt;/h3&gt;&#10;                    &lt;div className=&quot;grid grid-cols-1 md:grid-cols-3 gap-8&quot;&gt;&#10;                      &lt;div className=&quot;group&quot;&gt;&#10;                        &lt;div className=&quot;text-4xl font-bold mb-2 group-hover:scale-110 transition-transform duration-300&quot;&gt;&#10;                          {(&#10;                            (stats.activeProducts / stats.totalProducts) *&#10;                            100&#10;                          ).toFixed(0)}&#10;                          %&#10;                        &lt;/div&gt;&#10;                        &lt;div className=&quot;text-white/90&quot;&gt;&#10;                          Product Availability&#10;                        &lt;/div&gt;&#10;                      &lt;/div&gt;&#10;                      &lt;div className=&quot;group&quot;&gt;&#10;                        &lt;div className=&quot;text-4xl font-bold mb-2 group-hover:scale-110 transition-transform duration-300&quot;&gt;&#10;                          {stats.familiesServed}+&#10;                        &lt;/div&gt;&#10;                        &lt;div className=&quot;text-white/90&quot;&gt;Community Reach&lt;/div&gt;&#10;                      &lt;/div&gt;&#10;                      &lt;div className=&quot;group&quot;&gt;&#10;                        &lt;div className=&quot;text-4xl font-bold mb-2 group-hover:scale-110 transition-transform duration-300&quot;&gt;&#10;                          {stats.averageRating || &quot;4.8&quot;}★&#10;                        &lt;/div&gt;&#10;                        &lt;div className=&quot;text-white/90&quot;&gt;&#10;                          Customer Satisfaction&#10;                        &lt;/div&gt;&#10;                      &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                  &lt;/div&gt;&#10;                &lt;/div&gt;&#10;              &lt;/div&gt;&#10;            )}&#10;          &lt;/div&gt;&#10;        &lt;/div&gt;&#10;&#10;        {/* Dynamic Action Section */}&#10;        &lt;div className=&quot;bg-gradient-to-r from-green-600 to-emerald-600&quot;&gt;&#10;          &lt;div className=&quot;max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16&quot;&gt;&#10;            &lt;div className=&quot;text-center&quot;&gt;&#10;              &lt;h2 className=&quot;text-4xl font-bold text-white mb-8&quot;&gt;&#10;                Ready to Experience {farmer.farmName || `${farmer.name}'s Farm`}&#10;                ?&#10;              &lt;/h2&gt;&#10;              &lt;div className=&quot;grid grid-cols-1 md:grid-cols-3 gap-8&quot;&gt;&#10;                &lt;Link&#10;                  href={`/farmers/${farmerId}/details`}&#10;                  className=&quot;group bg-white/20 backdrop-blur-sm hover:bg-white/30 text-white p-8 rounded-2xl transition-all duration-300 border border-white/30 transform hover:scale-105&quot;&#10;                &gt;&#10;                  &lt;i className=&quot;fas fa-store text-4xl mb-4 group-hover:scale-110 transition-transform&quot;&gt;&lt;/i&gt;&#10;                  &lt;h3 className=&quot;text-xl font-bold mb-2&quot;&gt;&#10;                    Browse {stats.totalProducts} Products&#10;                  &lt;/h3&gt;&#10;                  &lt;p className=&quot;text-white/90&quot;&gt;&#10;                    Explore our full product catalog&#10;                  &lt;/p&gt;&#10;                &lt;/Link&gt;&#10;&#10;                &lt;div className=&quot;group bg-white/20 backdrop-blur-sm hover:bg-white/30 text-white p-8 rounded-2xl transition-all duration-300 border border-white/30 transform hover:scale-105 cursor-pointer&quot;&gt;&#10;                  &lt;i className=&quot;fas fa-star text-4xl mb-4 group-hover:scale-110 transition-transform&quot;&gt;&lt;/i&gt;&#10;                  &lt;h3 className=&quot;text-xl font-bold mb-2&quot;&gt;&#10;                    {stats.averageRating}/5 Rating&#10;                  &lt;/h3&gt;&#10;                  &lt;p className=&quot;text-white/90&quot;&gt;See what customers say&lt;/p&gt;&#10;                &lt;/div&gt;&#10;&#10;                &lt;div className=&quot;group bg-white/20 backdrop-blur-sm hover:bg-white/30 text-white p-8 rounded-2xl transition-all duration-300 border border-white/30 transform hover:scale-105 cursor-pointer&quot;&gt;&#10;                  &lt;i className=&quot;fas fa-envelope text-4xl mb-4 group-hover:scale-110 transition-transform&quot;&gt;&lt;/i&gt;&#10;                  &lt;h3 className=&quot;text-xl font-bold mb-2&quot;&gt;&#10;                    Contact {farmer.name}&#10;                  &lt;/h3&gt;&#10;                  &lt;p className=&quot;text-white/90&quot;&gt;Get in touch with questions&lt;/p&gt;&#10;                &lt;/div&gt;&#10;              &lt;/div&gt;&#10;            &lt;/div&gt;&#10;          &lt;/div&gt;&#10;        &lt;/div&gt;&#10;      &lt;/div&gt;&#10;      &lt;Footer /&gt;&#10;    &lt;/&gt;&#10;  );&#10;}&#10;" />
              <option name="updatedContent" value="&quot;use client&quot;;&#10;&#10;import { useState, useEffect } from &quot;react&quot;;&#10;import { useRouter, useParams } from &quot;next/navigation&quot;;&#10;import Link from &quot;next/link&quot;;&#10;import Footer from &quot;@/components/Footer&quot;;&#10;&#10;export default function FarmerPage() {&#10;  const router = useRouter();&#10;  const params = useParams();&#10;  const farmerId = params.id;&#10;&#10;  const [farmer, setFarmer] = useState(null);&#10;  const [products, setProducts] = useState([]);&#10;  const [reviews, setReviews] = useState([]);&#10;  const [stats, setStats] = useState({});&#10;  const [loading, setLoading] = useState(true);&#10;  const [error, setError] = useState(null);&#10;  const [activeTab, setActiveTab] = useState(&quot;story&quot;);&#10;&#10;  // Helper function to calculate years of experience (used only once)&#10;  const calculateYearsOfExperience = (joinedDate, createdAt) =&gt; {&#10;    const joinDate = new Date(joinedDate || createdAt);&#10;    const currentDate = new Date();&#10;    return Math.max(1, currentDate.getFullYear() - joinDate.getFullYear());&#10;  };&#10;&#10;  // Configuration objects to reduce repetition&#10;  const specializationConfig = {&#10;    Grains: {&#10;      icon: &quot;fas fa-seedling&quot;,&#10;      color: &quot;bg-amber-500&quot;,&#10;      description: &quot;Premium grain production&quot;,&#10;    },&#10;    Fruits: {&#10;      icon: &quot;fas fa-apple-alt&quot;,&#10;      color: &quot;bg-red-500&quot;,&#10;      description: &quot;Fresh seasonal fruits&quot;,&#10;    },&#10;    Vegetables: {&#10;      icon: &quot;fas fa-carrot&quot;,&#10;      color: &quot;bg-orange-500&quot;,&#10;      description: &quot;Organic vegetables&quot;,&#10;    },&#10;    Herbs: {&#10;      icon: &quot;fas fa-leaf&quot;,&#10;      color: &quot;bg-green-500&quot;,&#10;      description: &quot;Natural herbs &amp; spices&quot;,&#10;    },&#10;    Honey: {&#10;      icon: &quot;fas fa-bug&quot;,&#10;      color: &quot;bg-yellow-500&quot;,&#10;      description: &quot;Pure natural honey&quot;,&#10;    },&#10;    Dairy: {&#10;      icon: &quot;fas fa-glass-whiskey&quot;,&#10;      color: &quot;bg-blue-500&quot;,&#10;      description: &quot;Fresh dairy products&quot;,&#10;    },&#10;  };&#10;&#10;  const methodConfig = {&#10;    Organic: {&#10;      icon: &quot;fas fa-leaf&quot;,&#10;      color: &quot;text-green-600 dark:text-green-400&quot;,&#10;      description: &quot;Chemical-free farming practices&quot;,&#10;    },&#10;    Traditional: {&#10;      icon: &quot;fas fa-seedling&quot;,&#10;      color: &quot;text-brown-600 dark:text-yellow-400&quot;,&#10;      description: &quot;Time-tested farming wisdom&quot;,&#10;    },&#10;    Sustainable: {&#10;      icon: &quot;fas fa-recycle&quot;,&#10;      color: &quot;text-blue-600 dark:text-blue-400&quot;,&#10;      description: &quot;Environmentally conscious methods&quot;,&#10;    },&#10;    &quot;Natural Ripening&quot;: {&#10;      icon: &quot;fas fa-sun&quot;,&#10;      color: &quot;text-orange-600 dark:text-orange-400&quot;,&#10;      description: &quot;Natural maturation process&quot;,&#10;    },&#10;    &quot;Fruit Cultivation&quot;: {&#10;      icon: &quot;fas fa-apple-alt&quot;,&#10;      color: &quot;text-red-600 dark:text-red-400&quot;,&#10;      description: &quot;Specialized fruit growing&quot;,&#10;    },&#10;    &quot;Sun-dried&quot;: {&#10;      icon: &quot;fas fa-sun&quot;,&#10;      color: &quot;text-yellow-600 dark:text-yellow-400&quot;,&#10;      description: &quot;Solar-powered processing&quot;,&#10;    },&#10;  };&#10;&#10;  const ORDER_STATUS = {&#10;    PENDING: &quot;pending&quot;,&#10;    CONFIRMED: &quot;confirmed&quot;,&#10;    DELIVERED: &quot;delivered&quot;,&#10;    CANCELLED: &quot;cancelled&quot;,&#10;    RETURNED: &quot;returned&quot;,&#10;  };&#10;&#10;  // Helper function to render specialization cards&#10;  const renderSpecializationCard = (specialization, index) =&gt; {&#10;    const config = specializationConfig[specialization] || {&#10;      icon: &quot;fas fa-tractor&quot;,&#10;      color: &quot;bg-purple-500&quot;,&#10;      description: &quot;Farm specialization&quot;,&#10;    };&#10;&#10;    return (&#10;      &lt;div key={index} className=&quot;text-center&quot;&gt;&#10;        &lt;div&#10;          className={`w-12 h-12 ${config.color} rounded-full flex items-center justify-center mx-auto mb-3`}&#10;        &gt;&#10;          &lt;i className={`${config.icon} text-white`}&gt;&lt;/i&gt;&#10;        &lt;/div&gt;&#10;        &lt;h3 className=&quot;text-white font-semibold mb-2&quot;&gt;{specialization}&lt;/h3&gt;&#10;        &lt;p className=&quot;text-white/70 text-sm&quot;&gt;{config.description}&lt;/p&gt;&#10;      &lt;/div&gt;&#10;    );&#10;  };&#10;&#10;  // Helper function to render farming method cards&#10;  const renderMethodCard = (method, index) =&gt; {&#10;    const config = methodConfig[method] || {&#10;      icon: &quot;fas fa-tractor&quot;,&#10;      color: &quot;text-gray-600 dark:text-gray-400&quot;,&#10;      description: &quot;Specialized farming technique&quot;,&#10;    };&#10;&#10;    return (&#10;      &lt;div&#10;        key={index}&#10;        className=&quot;bg-gray-50 dark:bg-gray-700 p-6 rounded-xl text-center&quot;&#10;      &gt;&#10;        &lt;i className={`${config.icon} text-4xl ${config.color} mb-4`}&gt;&lt;/i&gt;&#10;        &lt;h4 className=&quot;font-semibold text-gray-900 dark:text-white mb-2&quot;&gt;&#10;          {method}&#10;        &lt;/h4&gt;&#10;        &lt;p className=&quot;text-gray-600 dark:text-gray-400 text-sm&quot;&gt;&#10;          {config.description}&#10;        &lt;/p&gt;&#10;      &lt;/div&gt;&#10;    );&#10;  };&#10;&#10;  // Helper function to render generic fallback core values&#10;  const renderFallbackCoreValues = () =&gt; (&#10;    &lt;&gt;&#10;      &lt;div className=&quot;text-center&quot;&gt;&#10;        &lt;div className=&quot;w-12 h-12 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-3&quot;&gt;&#10;          &lt;i className=&quot;fas fa-leaf text-white&quot;&gt;&lt;/i&gt;&#10;        &lt;/div&gt;&#10;        &lt;h3 className=&quot;text-white font-semibold mb-2&quot;&gt;Sustainable&lt;/h3&gt;&#10;        &lt;p className=&quot;text-white/70 text-sm&quot;&gt;Eco-friendly farming practices&lt;/p&gt;&#10;      &lt;/div&gt;&#10;      &lt;div className=&quot;text-center&quot;&gt;&#10;        &lt;div className=&quot;w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center mx-auto mb-3&quot;&gt;&#10;          &lt;i className=&quot;fas fa-shield-alt text-white&quot;&gt;&lt;/i&gt;&#10;        &lt;/div&gt;&#10;        &lt;h3 className=&quot;text-white font-semibold mb-2&quot;&gt;Quality&lt;/h3&gt;&#10;        &lt;p className=&quot;text-white/70 text-sm&quot;&gt;Premium fresh produce&lt;/p&gt;&#10;      &lt;/div&gt;&#10;      &lt;div className=&quot;text-center&quot;&gt;&#10;        &lt;div className=&quot;w-12 h-12 bg-purple-500 rounded-full flex items-center justify-center mx-auto mb-3&quot;&gt;&#10;          &lt;i className=&quot;fas fa-users text-white&quot;&gt;&lt;/i&gt;&#10;        &lt;/div&gt;&#10;        &lt;h3 className=&quot;text-white font-semibold mb-2&quot;&gt;Community&lt;/h3&gt;&#10;        &lt;p className=&quot;text-white/70 text-sm&quot;&gt;Supporting local families&lt;/p&gt;&#10;      &lt;/div&gt;&#10;    &lt;/&gt;&#10;  );&#10;&#10;  useEffect(() =&gt; {&#10;    fetchFarmerData();&#10;  }, [farmerId]);&#10;&#10;  const fetchFarmerData = async () =&gt; {&#10;    try {&#10;      setLoading(true);&#10;      setError(null);&#10;&#10;      // First fetch farmer data with cache-busting timestamp&#10;      const timestamp = new Date().getTime();&#10;      const farmerResponse = await fetch(&#10;        `/api/farmers/${farmerId}?t=${timestamp}`,&#10;        {&#10;          headers: { &quot;Cache-Control&quot;: &quot;no-cache&quot; },&#10;        },&#10;      );&#10;&#10;      if (!farmerResponse.ok) {&#10;        throw new Error(&quot;Farmer not found&quot;);&#10;      }&#10;&#10;      const farmerData = await farmerResponse.json();&#10;&#10;      // Fetch all products to match with farmer&#10;      const productsResponse = await fetch(&#10;        `/api/products?limit=1000&amp;t=${timestamp}`,&#10;        {&#10;          headers: { &quot;Cache-Control&quot;: &quot;no-cache&quot; },&#10;        },&#10;      );&#10;&#10;      const productsData = await productsResponse.json();&#10;      const allProducts = productsData.products || [];&#10;&#10;      // Match products to farmer using multiple strategies&#10;      const farmerProducts = allProducts.filter((product) =&gt; {&#10;        const productFarmerId =&#10;          product.farmer?.id || product.farmer?._id || product.farmerId;&#10;        const productFarmerName = product.farmer?.name || product.farmerName;&#10;&#10;        // Try matching by ID first (handles both old format like 'farmer_001' and new MongoDB ObjectIds)&#10;        const matchesById = productFarmerId === farmerId;&#10;&#10;        // For new farmers, also try matching by MongoDB ObjectId string comparison&#10;        const matchesByObjectId =&#10;          product.farmer?._id === farmerId || product.farmerId === farmerId;&#10;&#10;        // For old farmers, also try matching by name&#10;        const farmerName = farmerData.farmer?.name;&#10;        const matchesByName = farmerName &amp;&amp; productFarmerName === farmerName;&#10;&#10;        // Also try matching by email for additional verification&#10;        const farmerEmail = farmerData.farmer?.email;&#10;        const productFarmerEmail = product.farmer?.email || product.farmerEmail;&#10;        const matchesByEmail =&#10;          farmerEmail &amp;&amp; productFarmerEmail === farmerEmail;&#10;&#10;        const isMatch =&#10;          matchesById || matchesByObjectId || matchesByName || matchesByEmail;&#10;&#10;        if (isMatch) {&#10;          console.log(&quot;✅ Found matching product:&quot;, {&#10;            productName: product.name,&#10;            productId: product._id,&#10;            productFarmerId,&#10;            productFarmerName,&#10;            productFarmerEmail,&#10;            farmerId,&#10;            farmerName,&#10;            farmerEmail,&#10;            matchType: matchesById&#10;              ? &quot;ID&quot;&#10;              : matchesByObjectId&#10;                ? &quot;ObjectId&quot;&#10;                : matchesByName&#10;                  ? &quot;Name&quot;&#10;                  : &quot;Email&quot;,&#10;          });&#10;        }&#10;&#10;        return isMatch;&#10;      });&#10;&#10;      console.log(&quot;Farmer ID:&quot;, farmerId);&#10;      console.log(&quot;Farmer Name:&quot;, farmerData.farmer?.name);&#10;      console.log(&quot;Found products for farmer:&quot;, farmerProducts.length);&#10;      console.log(&#10;        &quot;Products:&quot;,&#10;        farmerProducts.map((p) =&gt; ({&#10;          name: p.name,&#10;          farmerId: p.farmer?.id || p.farmerId,&#10;          farmerName: p.farmer?.name || p.farmerName,&#10;        })),&#10;      );&#10;&#10;      // Now fetch orders with farmer information&#10;      const ordersResponse = await fetch(&#10;        `/api/orders?farmerId=${farmerId}&amp;farmerEmail=${farmerData.farmer?.email || &quot;&quot;}`,&#10;        {&#10;          headers: { &quot;Cache-Control&quot;: &quot;no-cache&quot; },&#10;        },&#10;      );&#10;&#10;      const ordersData = await ordersResponse.json();&#10;&#10;      setFarmer(farmerData.farmer);&#10;      setProducts(farmerProducts); // Use matched products instead of farmer.products&#10;&#10;      // Calculate stats using matched products&#10;      const totalProducts = farmerProducts.length;&#10;      const activeProducts = farmerProducts.filter((p) =&gt; p.stock &gt; 0).length;&#10;      const totalStock = farmerProducts.reduce(&#10;        (sum, p) =&gt; sum + (p.stock || 0),&#10;        0,&#10;      );&#10;      const averagePrice =&#10;        farmerProducts.length &gt; 0&#10;          ? (&#10;              farmerProducts.reduce((sum, p) =&gt; sum + (p.price || 0), 0) /&#10;              farmerProducts.length&#10;            ).toFixed(2)&#10;          : 0;&#10;&#10;      // Enhanced average rating calculation&#10;      console.log(&quot;Calculating average rating for farmer:&quot;, farmerId);&#10;&#10;      let averageRating = 0;&#10;      if (farmerProducts.length &gt; 0) {&#10;        const ratingsData = farmerProducts.map((p) =&gt; ({&#10;          name: p.name,&#10;          rating: parseFloat(p.averageRating) || 0,&#10;          reviewsCount: p.reviews?.length || 0,&#10;        }));&#10;&#10;        console.log(&quot;Products with ratings:&quot;, ratingsData);&#10;&#10;        // Calculate simple average of product ratings (only products with ratings)&#10;        const productsWithRatings = farmerProducts.filter(&#10;          (p) =&gt; parseFloat(p.averageRating) &gt; 0,&#10;        );&#10;        if (productsWithRatings.length &gt; 0) {&#10;          const totalRating = productsWithRatings.reduce((sum, p) =&gt; {&#10;            return sum + parseFloat(p.averageRating);&#10;          }, 0);&#10;&#10;          averageRating = (totalRating / productsWithRatings.length).toFixed(1);&#10;        }&#10;&#10;        console.log(&quot;Products with ratings count:&quot;, productsWithRatings.length);&#10;        console.log(&quot;Calculated average rating:&quot;, averageRating);&#10;      } else {&#10;        console.log(&quot;No products found for farmer&quot;);&#10;      }&#10;&#10;      // Get categories from products&#10;      const categories = [&#10;        ...new Set(farmerProducts.map((p) =&gt; p.category).filter(Boolean)),&#10;      ];&#10;&#10;      // Get recent reviews from products (existing logic)&#10;      const productReviews = farmerProducts.flatMap((p) =&gt;&#10;        (p.reviews || []).map((review) =&gt; ({&#10;          ...review,&#10;          productName: p.name,&#10;          productId: p._id,&#10;          source: &quot;product&quot;,&#10;          // Ensure we have a valid date - use current date as fallback if createdAt is missing&#10;          createdAt:&#10;            review.createdAt || review.date || new Date().toISOString(),&#10;        })),&#10;      );&#10;&#10;      // Fetch reviews from the separate reviews collection&#10;      let separateReviews = [];&#10;      try {&#10;        const reviewsResponse = await fetch(&#10;          `/api/reviews?farmerId=${farmerId}`,&#10;          {&#10;            headers: { &quot;Cache-Control&quot;: &quot;no-cache&quot; },&#10;          },&#10;        );&#10;&#10;        if (reviewsResponse.ok) {&#10;          const reviewsData = await reviewsResponse.json();&#10;          separateReviews = (reviewsData.reviews || []).map((review) =&gt; {&#10;            // Find the product info from farmer's products&#10;            const relatedProduct = farmerProducts.find(&#10;              (product) =&gt;&#10;                product._id === review.productId ||&#10;                product._id === review.product?._id,&#10;            );&#10;&#10;            return {&#10;              ...review,&#10;              source: &quot;reviews_collection&quot;,&#10;              // Map product information from the farmer's products&#10;              productName:&#10;                review.productName || relatedProduct?.name || &quot;Unknown Product&quot;,&#10;              productId:&#10;                review.productId || review.product?._id || relatedProduct?._id,&#10;              // Ensure we have consistent field names&#10;              createdAt:&#10;                review.createdAt || review.date || new Date().toISOString(),&#10;            };&#10;          });&#10;          console.log(&#10;            `Found ${separateReviews.length} reviews from reviews collection`,&#10;          );&#10;        }&#10;      } catch (error) {&#10;        console.warn(&quot;Failed to fetch reviews from reviews collection:&quot;, error);&#10;      }&#10;&#10;      // Combine and deduplicate reviews&#10;      const allReviews = [...productReviews, ...separateReviews]&#10;        .sort((a, b) =&gt; new Date(b.createdAt) - new Date(a.createdAt))&#10;        .slice(0, 10); // Get top 10 most recent reviews&#10;&#10;      console.log(&#10;        `Total reviews found: ${allReviews.length} (${productReviews.length} from products, ${separateReviews.length} from reviews collection)`,&#10;      );&#10;&#10;      // Calculate revenue from orders&#10;      const farmerOrders = (ordersData.orders || []).filter((order) =&gt; {&#10;        return (&#10;          order.items &amp;&amp;&#10;          order.items.some(&#10;            (item) =&gt;&#10;              item.farmerId === farmerId ||&#10;              item.farmer?.id === farmerId ||&#10;              item.farmer?._id === farmerId ||&#10;              item.farmerEmail === farmerData.farmer?.email,&#10;          )&#10;        );&#10;      });&#10;&#10;      // Use exact same filtering logic as dashboard&#10;      const validOrders = farmerOrders.filter(&#10;        (order) =&gt;&#10;          order.status !== ORDER_STATUS.CANCELLED &amp;&amp;&#10;          order.status !== ORDER_STATUS.RETURNED,&#10;      );&#10;&#10;      // Calculate total revenue using the same method as dashboard analytics&#10;      const actualTotalRevenue = validOrders.reduce(&#10;        (sum, order) =&gt; sum + (order.farmerSubtotal || order.total || 0),&#10;        0,&#10;      );&#10;&#10;      // Calculate monthly revenue using the same method as dashboard&#10;      const thisMonthValidOrders = validOrders.filter((order) =&gt; {&#10;        const orderDate = new Date(order.createdAt);&#10;        const currentDate = new Date();&#10;        return (&#10;          orderDate.getMonth() === currentDate.getMonth() &amp;&amp;&#10;          orderDate.getFullYear() === currentDate.getFullYear()&#10;        );&#10;      });&#10;&#10;      const monthlyRevenue = thisMonthValidOrders.reduce(&#10;        (sum, order) =&gt; sum + (order.farmerSubtotal || order.total || 0),&#10;        0,&#10;      );&#10;&#10;      // Calculate real community reach based on actual orders&#10;      const uniqueCustomers = new Set();&#10;      validOrders.forEach((order) =&gt; {&#10;        if (order.userId) {&#10;          uniqueCustomers.add(order.userId);&#10;        }&#10;        if (order.email) {&#10;          uniqueCustomers.add(order.email);&#10;        }&#10;      });&#10;&#10;      const actualFamiliesServed = uniqueCustomers.size;&#10;&#10;      setReviews(allReviews);&#10;      setStats({&#10;        totalProducts,&#10;        activeProducts,&#10;        totalStock,&#10;        averagePrice,&#10;        averageRating,&#10;        categories,&#10;        totalReviews: allReviews.length,&#10;        familiesServed: actualFamiliesServed,&#10;        farmSize: farmerData.farmer.farmSize || 0,&#10;        farmSizeUnit: farmerData.farmer.farmSizeUnit || &quot;acres&quot;,&#10;        yearsOfExperience:&#10;          farmerData.farmer.yearsOfExperience ||&#10;          calculateYearsOfExperience(&#10;            farmerData.farmer.joinedDate,&#10;            farmerData.farmer.createdAt,&#10;          ),&#10;        certificationStatus: farmerData.farmer.isCertified&#10;          ? &quot;Certified&quot;&#10;          : &quot;In Progress&quot;,&#10;        farmingMethods: farmerData.farmer.farmingMethods || [&#10;          &quot;Organic&quot;,&#10;          &quot;Sustainable&quot;,&#10;        ],&#10;        monthlyRevenue: monthlyRevenue.toFixed(2),&#10;        totalRevenue: actualTotalRevenue.toFixed(2),&#10;        inventoryValue: (parseFloat(averagePrice) * totalStock).toFixed(2),&#10;      });&#10;    } catch (error) {&#10;      console.error(&quot;Error fetching farmer data:&quot;, error);&#10;      setError(error.message);&#10;    } finally {&#10;      setLoading(false);&#10;    }&#10;  };&#10;&#10;  if (loading) {&#10;    return (&#10;      &lt;div className=&quot;min-h-screen bg-gradient-to-br from-green-50 via-blue-50 to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900&quot;&gt;&#10;        &lt;div className=&quot;flex items-center justify-center min-h-screen&quot;&gt;&#10;          &lt;div className=&quot;text-center&quot;&gt;&#10;            &lt;div className=&quot;relative&quot;&gt;&#10;              &lt;div className=&quot;animate-spin rounded-full h-20 w-20 border-4 border-green-200 dark:border-gray-600 border-t-green-600 dark:border-t-green-400 mx-auto mb-6&quot;&gt;&lt;/div&gt;&#10;              &lt;div className=&quot;absolute inset-0 flex items-center justify-center&quot;&gt;&#10;                &lt;i className=&quot;fas fa-user-tie text-green-600 dark:text-green-400 text-2xl&quot;&gt;&lt;/i&gt;&#10;              &lt;/div&gt;&#10;            &lt;/div&gt;&#10;            &lt;h2 className=&quot;text-2xl font-bold text-gray-900 dark:text-white mb-2&quot;&gt;&#10;              Loading Farmer Profile&#10;            &lt;/h2&gt;&#10;            &lt;p className=&quot;text-gray-600 dark:text-gray-400&quot;&gt;&#10;              Discovering their story...&#10;            &lt;/p&gt;&#10;          &lt;/div&gt;&#10;        &lt;/div&gt;&#10;      &lt;/div&gt;&#10;    );&#10;  }&#10;&#10;  if (error || !farmer) {&#10;    return (&#10;      &lt;div className=&quot;min-h-screen bg-gradient-to-br from-red-50 via-orange-50 to-yellow-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900&quot;&gt;&#10;        &lt;div className=&quot;flex items-center justify-center min-h-screen&quot;&gt;&#10;          &lt;div className=&quot;text-center max-w-md mx-auto p-6&quot;&gt;&#10;            &lt;div className=&quot;text-red-500 text-6xl mb-6&quot;&gt;&#10;              &lt;i className=&quot;fas fa-exclamation-triangle&quot;&gt;&lt;/i&gt;&#10;            &lt;/div&gt;&#10;            &lt;h2 className=&quot;text-2xl font-bold text-gray-900 dark:text-white mb-4&quot;&gt;&#10;              Farmer Not Found&#10;            &lt;/h2&gt;&#10;            &lt;p className=&quot;text-gray-600 dark:text-gray-400 mb-8&quot;&gt;&#10;              {error ||&#10;                &quot;The farmer you're looking for doesn't exist or has been removed.&quot;}&#10;            &lt;/p&gt;&#10;            &lt;div className=&quot;flex flex-col sm:flex-row gap-4 justify-center&quot;&gt;&#10;              &lt;button&#10;                onClick={() =&gt; router.back()}&#10;                className=&quot;bg-gray-600 hover:bg-gray-700 text-white px-6 py-3 rounded-lg font-medium transition&quot;&#10;              &gt;&#10;                &lt;i className=&quot;fas fa-arrow-left mr-2&quot;&gt;&lt;/i&gt;&#10;                Go Back&#10;              &lt;/button&gt;&#10;              &lt;Link&#10;                href=&quot;/farmers&quot;&#10;                className=&quot;bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg font-medium transition&quot;&#10;              &gt;&#10;                &lt;i className=&quot;fas fa-users mr-2&quot;&gt;&lt;/i&gt;&#10;                Browse Farmers&#10;              &lt;/Link&gt;&#10;            &lt;/div&gt;&#10;          &lt;/div&gt;&#10;        &lt;/div&gt;&#10;      &lt;/div&gt;&#10;    );&#10;  }&#10;&#10;  return (&#10;    &lt;&gt;&#10;      &lt;div className=&quot;min-h-screen bg-gradient-to-br from-green-50 via-emerald-50 to-teal-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900&quot;&gt;&#10;        {/* Hero Section with Dynamic Farmer Story */}&#10;        &lt;div className=&quot;relative overflow-hidden&quot;&gt;&#10;          &lt;div className=&quot;absolute inset-0 bg-gradient-to-br from-green-600 via-emerald-600 to-teal-600&quot;&gt;&lt;/div&gt;&#10;          &lt;div className=&quot;absolute inset-0 bg-black/20&quot;&gt;&lt;/div&gt;&#10;&#10;          &lt;div className=&quot;relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20&quot;&gt;&#10;            {/* Breadcrumb */}&#10;            &lt;nav className=&quot;flex mb-8&quot; aria-label=&quot;Breadcrumb&quot;&gt;&#10;              &lt;ol className=&quot;flex items-center space-x-2 text-sm&quot;&gt;&#10;                &lt;li&gt;&#10;                  &lt;Link&#10;                    href=&quot;/&quot;&#10;                    className=&quot;text-white/80 hover:text-white transition-colors flex items-center&quot;&#10;                  &gt;&#10;                    &lt;i className=&quot;fas fa-home mr-1&quot;&gt;&lt;/i&gt;&#10;                    Home&#10;                  &lt;/Link&gt;&#10;                &lt;/li&gt;&#10;                &lt;li&gt;&#10;                  &lt;i className=&quot;fas fa-chevron-right text-white/60 text-xs&quot;&gt;&lt;/i&gt;&#10;                &lt;/li&gt;&#10;                &lt;li&gt;&#10;                  &lt;Link&#10;                    href=&quot;/farmers&quot;&#10;                    className=&quot;text-white/80 hover:text-white transition-colors&quot;&#10;                  &gt;&#10;                    Farmers&#10;                  &lt;/Link&gt;&#10;                &lt;/li&gt;&#10;                &lt;li&gt;&#10;                  &lt;i className=&quot;fas fa-chevron-right text-white/60 text-xs&quot;&gt;&lt;/i&gt;&#10;                &lt;/li&gt;&#10;                &lt;li className=&quot;text-white font-medium&quot;&gt;{farmer.name}&lt;/li&gt;&#10;              &lt;/ol&gt;&#10;            &lt;/nav&gt;&#10;&#10;            {/* Dynamic Farmer Profile Header */}&#10;            &lt;div className=&quot;grid grid-cols-1 lg:grid-cols-3 gap-12 items-start&quot;&gt;&#10;              {/* Profile Image and Basic Info */}&#10;              &lt;div className=&quot;text-center lg:text-left&quot;&gt;&#10;                &lt;div className=&quot;relative inline-block mb-6&quot;&gt;&#10;                  &lt;div className=&quot;w-48 h-48 mx-auto lg:mx-0 rounded-full bg-gradient-to-br from-white/20 to-white/10 backdrop-blur-sm border-4 border-white/30 overflow-hidden shadow-2xl&quot;&gt;&#10;                    {farmer.profilePicture ? (&#10;                      &lt;img&#10;                        src={farmer.profilePicture}&#10;                        alt={farmer.name}&#10;                        className=&quot;w-full h-full object-cover&quot;&#10;                      /&gt;&#10;                    ) : (&#10;                      &lt;div className=&quot;w-full h-full flex items-center justify-center&quot;&gt;&#10;                        &lt;i className=&quot;fas fa-user-tie text-6xl text-white/80&quot;&gt;&lt;/i&gt;&#10;                      &lt;/div&gt;&#10;                    )}&#10;                  &lt;/div&gt;&#10;                  {farmer.verified &amp;&amp; (&#10;                    &lt;div className=&quot;absolute -top-2 -right-2 bg-green-500 text-white rounded-full p-3 shadow-lg&quot;&gt;&#10;                      &lt;i className=&quot;fas fa-check text-lg&quot;&gt;&lt;/i&gt;&#10;                    &lt;/div&gt;&#10;                  )}&#10;                &lt;/div&gt;&#10;&#10;                &lt;h1 className=&quot;text-4xl lg:text-5xl font-bold text-white mb-2&quot;&gt;&#10;                  {farmer.name}&#10;                &lt;/h1&gt;&#10;                &lt;p className=&quot;text-xl text-white/90 mb-4&quot;&gt;&#10;                  {farmer.farmInfo?.farmName ||&#10;                    farmer.farmName ||&#10;                    `${farmer.name}'s Farm`}&#10;                &lt;/p&gt;&#10;                &lt;div className=&quot;flex items-center justify-center lg:justify-start text-white/80 mb-6&quot;&gt;&#10;                  &lt;i className=&quot;fas fa-map-marker-alt mr-2 text-yellow-400&quot;&gt;&lt;/i&gt;&#10;                  &lt;span className=&quot;text-lg&quot;&gt;&#10;                    {farmer.address?.city &amp;&amp; farmer.address?.state&#10;                      ? `${farmer.address.city}, ${farmer.address.state}${farmer.address.country ? `, ${farmer.address.country}` : &quot;&quot;}`&#10;                      : farmer.location || &quot;Location not specified&quot;}&#10;                  &lt;/span&gt;&#10;                &lt;/div&gt;&#10;&#10;                {/* Dynamic Quick Stats - Use stats.yearsOfExperience instead of recalculating */}&#10;                &lt;div className=&quot;grid grid-cols-2 gap-4 mb-8&quot;&gt;&#10;                  &lt;div className=&quot;bg-white/10 backdrop-blur-sm rounded-lg p-4 border border-white/20&quot;&gt;&#10;                    &lt;div className=&quot;text-2xl font-bold text-white&quot;&gt;&#10;                      {stats.yearsOfExperience}+&#10;                    &lt;/div&gt;&#10;                    &lt;div className=&quot;text-white/80 text-sm&quot;&gt;&#10;                      Years Experience&#10;                    &lt;/div&gt;&#10;                  &lt;/div&gt;&#10;                  &lt;div className=&quot;bg-white/10 backdrop-blur-sm rounded-lg p-4 border border-white/20&quot;&gt;&#10;                    &lt;div className=&quot;text-2xl font-bold text-white&quot;&gt;&#10;                      {stats.totalProducts}&#10;                    &lt;/div&gt;&#10;                    &lt;div className=&quot;text-white/80 text-sm&quot;&gt;Products&lt;/div&gt;&#10;                  &lt;/div&gt;&#10;                  &lt;div className=&quot;bg-white/10 backdrop-blur-sm rounded-lg p-4 border border-white/20&quot;&gt;&#10;                    &lt;div className=&quot;text-2xl font-bold text-white&quot;&gt;&#10;                      {stats.averageRating || &quot;N/A&quot;}&#10;                    &lt;/div&gt;&#10;                    &lt;div className=&quot;text-white/80 text-sm&quot;&gt;Avg Rating&lt;/div&gt;&#10;                  &lt;/div&gt;&#10;                  &lt;div className=&quot;bg-white/10 backdrop-blur-sm rounded-lg p-4 border border-white/20&quot;&gt;&#10;                    &lt;div className=&quot;text-2xl font-bold text-white&quot;&gt;&#10;                      {stats.categories?.length || 0}&#10;                    &lt;/div&gt;&#10;                    &lt;div className=&quot;text-white/80 text-sm&quot;&gt;Categories&lt;/div&gt;&#10;                  &lt;/div&gt;&#10;                &lt;/div&gt;&#10;              &lt;/div&gt;&#10;&#10;              {/* Dynamic Farmer's Mission &amp; Values */}&#10;              &lt;div className=&quot;lg:col-span-2&quot;&gt;&#10;                &lt;div className=&quot;bg-white/10 backdrop-blur-sm rounded-2xl p-8 border border-white/20&quot;&gt;&#10;                  &lt;h2 className=&quot;text-3xl font-bold text-white mb-6 flex items-center&quot;&gt;&#10;                    &lt;i className=&quot;fas fa-heart mr-3 text-red-400&quot;&gt;&lt;/i&gt;&#10;                    Our Mission&#10;                  &lt;/h2&gt;&#10;                  &lt;p className=&quot;text-white/90 text-lg leading-relaxed mb-6&quot;&gt;&#10;                    {farmer.bio ||&#10;                      `${farmer.name} is dedicated to providing the freshest, highest-quality produce through sustainable farming practices. Our farm has been serving the community with passion and commitment to environmental stewardship.`}&#10;                  &lt;/p&gt;&#10;                  {/* Dynamic Specializations - Only show once here */}&#10;                  {farmer.specializations &amp;&amp;&#10;                    farmer.specializations.length &gt; 0 &amp;&amp; (&#10;                      &lt;div className=&quot;mb-6&quot;&gt;&#10;                        &lt;h3 className=&quot;text-white font-semibold mb-3&quot;&gt;&#10;                          Our Specializations:&#10;                        &lt;/h3&gt;&#10;                        &lt;div className=&quot;flex flex-wrap gap-2&quot;&gt;&#10;                          {farmer.specializations.map((spec, index) =&gt; (&#10;                            &lt;span&#10;                              key={index}&#10;                              className=&quot;bg-white/20 backdrop-blur-sm text-white px-3 py-1 rounded-full text-sm font-medium border border-white/30&quot;&#10;                            &gt;&#10;                              {spec}&#10;                            &lt;/span&gt;&#10;                          ))}&#10;                        &lt;/div&gt;&#10;                      &lt;/div&gt;&#10;                    )}&#10;                  {/* Dynamic Core Values based on farmer's specializations and methods */}&#10;                  &lt;div className=&quot;grid grid-cols-1 md:grid-cols-3 gap-4&quot;&gt;&#10;                    {farmer.specializations &amp;&amp; farmer.specializations.length &gt; 0&#10;                      ? farmer.specializations&#10;                          .slice(0, 3)&#10;                          .map((specialization, index) =&gt;&#10;                            renderSpecializationCard(specialization, index),&#10;                          )&#10;                      : renderFallbackCoreValues()}&#10;                  &lt;/div&gt;&#10;                &lt;/div&gt;&#10;              &lt;/div&gt;&#10;            &lt;/div&gt;&#10;          &lt;/div&gt;&#10;        &lt;/div&gt;&#10;&#10;        {/* Dynamic Main Content Tabs */}&#10;        &lt;div className=&quot;max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16&quot;&gt;&#10;          {/* Tab Navigation */}&#10;          &lt;div className=&quot;flex flex-wrap justify-center gap-2 mb-12&quot;&gt;&#10;            {[&#10;              { id: &quot;story&quot;, label: &quot;Our Story&quot;, icon: &quot;fas fa-book-open&quot; },&#10;              {&#10;                id: &quot;products&quot;,&#10;                label: &quot;Product Overview&quot;,&#10;                icon: &quot;fas fa-seedling&quot;,&#10;              },&#10;              { id: &quot;reviews&quot;, label: &quot;Customer Reviews&quot;, icon: &quot;fas fa-star&quot; },&#10;              {&#10;                id: &quot;stats&quot;,&#10;                label: &quot;Farm Statistics&quot;,&#10;                icon: &quot;fas fa-chart-bar&quot;,&#10;              },&#10;            ].map((tab) =&gt; (&#10;              &lt;button&#10;                key={tab.id}&#10;                onClick={() =&gt; setActiveTab(tab.id)}&#10;                className={`px-6 py-3 rounded-full font-medium transition-all duration-300 flex items-center ${&#10;                  activeTab === tab.id&#10;                    ? &quot;bg-green-600 text-white shadow-lg&quot;&#10;                    : &quot;bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-300 hover:bg-green-50 dark:hover:bg-gray-700&quot;&#10;                }`}&#10;              &gt;&#10;                &lt;i className={`${tab.icon} mr-2`}&gt;&lt;/i&gt;&#10;                {tab.label}&#10;              &lt;/button&gt;&#10;            ))}&#10;          &lt;/div&gt;&#10;&#10;          {/* Dynamic Tab Content */}&#10;          &lt;div className=&quot;bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8&quot;&gt;&#10;            {activeTab === &quot;story&quot; &amp;&amp; (&#10;              &lt;div className=&quot;space-y-8&quot;&gt;&#10;                &lt;div className=&quot;text-center mb-8&quot;&gt;&#10;                  &lt;h2 className=&quot;text-4xl font-bold text-gray-900 dark:text-white mb-4&quot;&gt;&#10;                    Our Farming Journey&#10;                  &lt;/h2&gt;&#10;                  &lt;p className=&quot;text-gray-600 dark:text-gray-400 text-lg max-w-3xl mx-auto&quot;&gt;&#10;                    Every farm has a story. Here&amp;apos;s ours - a tale of&#10;                    passion, dedication, and love for the land.&#10;                  &lt;/p&gt;&#10;                &lt;/div&gt;&#10;&#10;                &lt;div className=&quot;grid grid-cols-1 lg:grid-cols-2 gap-12 items-center&quot;&gt;&#10;                  &lt;div&gt;&#10;                    &lt;h3 className=&quot;text-2xl font-semibold text-gray-900 dark:text-white mb-4&quot;&gt;&#10;                      {farmer.farmInfo?.farmName&#10;                        ? `About ${farmer.farmInfo.farmName}`&#10;                        : &quot;The Beginning&quot;}&#10;                    &lt;/h3&gt;&#10;&#10;                    {/* Dynamic Farm Description from Profile Settings */}&#10;                    &lt;p className=&quot;text-gray-600 dark:text-gray-400 leading-relaxed mb-6&quot;&gt;&#10;                      {farmer.farmInfo?.farmDescription ||&#10;                        farmer.bio ||&#10;                        `${farmer.name} started their farming journey in ${new Date(&#10;                          farmer.joinedDate || farmer.createdAt,&#10;                        ).getFullYear()} with a simple dream: to grow the best produce possible while caring for the environment. What began as a small family operation has grown into a trusted source of fresh, healthy food for our community.`}&#10;                    &lt;/p&gt;&#10;&#10;                    &lt;div className=&quot;space-y-4&quot;&gt;&#10;                      {/* Farm Established */}&#10;                      &lt;div className=&quot;flex items-center&quot;&gt;&#10;                        &lt;div className=&quot;w-10 h-10 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center mr-4&quot;&gt;&#10;                          &lt;i className=&quot;fas fa-calendar text-green-600 dark:text-green-400&quot;&gt;&lt;/i&gt;&#10;                        &lt;/div&gt;&#10;                        &lt;div&gt;&#10;                          &lt;h4 className=&quot;font-semibold text-gray-900 dark:text-white&quot;&gt;&#10;                            Farm Established&#10;                          &lt;/h4&gt;&#10;                          &lt;p className=&quot;text-gray-600 dark:text-gray-400&quot;&gt;&#10;                            {farmer.farmInfo?.establishedYear ||&#10;                              new Date(&#10;                                farmer.joinedDate || farmer.createdAt,&#10;                              ).getFullYear()}&#10;                          &lt;/p&gt;&#10;                        &lt;/div&gt;&#10;                      &lt;/div&gt;&#10;&#10;                      {/* Farm Type */}&#10;                      {farmer.farmInfo?.farmType &amp;&amp; (&#10;                        &lt;div className=&quot;flex items-center&quot;&gt;&#10;                          &lt;div className=&quot;w-10 h-10 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center mr-4&quot;&gt;&#10;                            &lt;i className=&quot;fas fa-tractor text-blue-600 dark:text-blue-400&quot;&gt;&lt;/i&gt;&#10;                          &lt;/div&gt;&#10;                          &lt;div&gt;&#10;                            &lt;h4 className=&quot;font-semibold text-gray-900 dark:text-white&quot;&gt;&#10;                              Farm Type&#10;                            &lt;/h4&gt;&#10;                            &lt;p className=&quot;text-gray-600 dark:text-gray-400&quot;&gt;&#10;                              {farmer.farmInfo.farmType}&#10;                            &lt;/p&gt;&#10;                          &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                      )}&#10;&#10;                      {/* Farm Size */}&#10;                      {farmer.farmInfo?.farmSize &amp;&amp; (&#10;                        &lt;div className=&quot;flex items-center&quot;&gt;&#10;                          &lt;div className=&quot;w-10 h-10 bg-yellow-100 dark:bg-yellow-900 rounded-full flex items-center justify-center mr-4&quot;&gt;&#10;                            &lt;i className=&quot;fas fa-expand-arrows-alt text-yellow-600 dark:text-yellow-400&quot;&gt;&lt;/i&gt;&#10;                          &lt;/div&gt;&#10;                          &lt;div&gt;&#10;                            &lt;h4 className=&quot;font-semibold text-gray-900 dark:text-white&quot;&gt;&#10;                              Farm Size&#10;                            &lt;/h4&gt;&#10;                            &lt;p className=&quot;text-gray-600 dark:text-gray-400&quot;&gt;&#10;                              {farmer.farmInfo.farmSize} acres&#10;                            &lt;/p&gt;&#10;                          &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                      )}&#10;&#10;                      {/* Our Mission */}&#10;                      &lt;div className=&quot;flex items-center&quot;&gt;&#10;                        &lt;div className=&quot;w-10 h-10 bg-purple-100 dark:bg-purple-900 rounded-full flex items-center justify-center mr-4&quot;&gt;&#10;                          &lt;i className=&quot;fas fa-heart text-purple-600 dark:text-purple-400&quot;&gt;&lt;/i&gt;&#10;                        &lt;/div&gt;&#10;                        &lt;div&gt;&#10;                          &lt;h4 className=&quot;font-semibold text-gray-900 dark:text-white&quot;&gt;&#10;                            Our Mission&#10;                          &lt;/h4&gt;&#10;                          &lt;p className=&quot;text-gray-600 dark:text-gray-400&quot;&gt;&#10;                            Providing fresh, sustainable produce to our&#10;                            community&#10;                          &lt;/p&gt;&#10;                        &lt;/div&gt;&#10;                      &lt;/div&gt;&#10;&#10;                      {/* Farming Philosophy */}&#10;                      &lt;div className=&quot;flex items-center&quot;&gt;&#10;                        &lt;div className=&quot;w-10 h-10 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center mr-4&quot;&gt;&#10;                          &lt;i className=&quot;fas fa-leaf text-green-600 dark:text-green-400&quot;&gt;&lt;/i&gt;&#10;                        &lt;/div&gt;&#10;                        &lt;div&gt;&#10;                          &lt;h4 className=&quot;font-semibold text-gray-900 dark:text-white&quot;&gt;&#10;                            Farming Philosophy&#10;                          &lt;/h4&gt;&#10;                          &lt;p className=&quot;text-gray-600 dark:text-gray-400&quot;&gt;&#10;                            {farmer.farmInfo?.farmingMethods &amp;&amp;&#10;                            farmer.farmInfo.farmingMethods.length &gt; 0&#10;                              ? `${farmer.farmInfo.farmingMethods.join(&quot;, &quot;)} practices`&#10;                              : stats.farmingMethods?.length &gt; 0&#10;                                ? `${stats.farmingMethods.join(&quot;, &quot;)} practices`&#10;                                : &quot;Sustainable and eco-friendly methods&quot;}&#10;                          &lt;/p&gt;&#10;                        &lt;/div&gt;&#10;                      &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    {/* Certifications Section */}&#10;                    {farmer.farmInfo?.certifications &amp;&amp;&#10;                      farmer.farmInfo.certifications.length &gt; 0 &amp;&amp; (&#10;                        &lt;div className=&quot;mt-8&quot;&gt;&#10;                          &lt;h4 className=&quot;text-lg font-semibold text-gray-900 dark:text-white mb-4&quot;&gt;&#10;                            Our Certifications&#10;                          &lt;/h4&gt;&#10;                          &lt;div className=&quot;flex flex-wrap gap-2&quot;&gt;&#10;                            {farmer.farmInfo.certifications.map(&#10;                              (cert, index) =&gt; (&#10;                                &lt;span&#10;                                  key={index}&#10;                                  className=&quot;bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 px-3 py-1 rounded-full text-sm font-medium border border-green-200 dark:border-green-800&quot;&#10;                                &gt;&#10;                                  &lt;i className=&quot;fas fa-certificate mr-1&quot;&gt;&lt;/i&gt;&#10;                                  {cert}&#10;                                &lt;/span&gt;&#10;                              ),&#10;                            )}&#10;                          &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                      )}&#10;&#10;                    {/* Farming Methods Section */}&#10;                    {farmer.farmInfo?.farmingMethods &amp;&amp;&#10;                      farmer.farmInfo.farmingMethods.length &gt; 0 &amp;&amp; (&#10;                        &lt;div className=&quot;mt-8&quot;&gt;&#10;                          &lt;h4 className=&quot;text-lg font-semibold text-gray-900 dark:text-white mb-4&quot;&gt;&#10;                            Our Farming Methods&#10;                          &lt;/h4&gt;&#10;                          &lt;div className=&quot;grid grid-cols-1 sm:grid-cols-2 gap-4&quot;&gt;&#10;                            {farmer.farmInfo.farmingMethods.map(&#10;                              (method, index) =&gt;&#10;                                renderMethodCard(method, index),&#10;                            )}&#10;                          &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                      )}&#10;                  &lt;/div&gt;&#10;&#10;                  &lt;div className=&quot;grid grid-cols-2 gap-4&quot;&gt;&#10;                    {/* Show farming achievements and highlights */}&#10;                    &lt;div className=&quot;bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900 dark:to-emerald-900 p-6 rounded-xl&quot;&gt;&#10;                      &lt;i className=&quot;fas fa-certificate text-3xl text-green-600 dark:text-green-400 mb-4&quot;&gt;&lt;/i&gt;&#10;                      &lt;h4 className=&quot;font-semibold text-gray-900 dark:text-white mb-2&quot;&gt;&#10;                        {farmer.isCertified&#10;                          ? &quot;Certified Organic&quot;&#10;                          : farmer.farmInfo?.farmType || &quot;Quality Farming&quot;}&#10;                      &lt;/h4&gt;&#10;                      &lt;p className=&quot;text-gray-600 dark:text-gray-400 text-sm&quot;&gt;&#10;                        {farmer.isCertified&#10;                          ? &quot;Officially certified organic farming&quot;&#10;                          : farmer.farmInfo?.farmType&#10;                            ? `Specialized in ${farmer.farmInfo.farmType.toLowerCase()} farming`&#10;                            : &quot;Committed to quality and safety standards&quot;}&#10;                      &lt;/p&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    &lt;div className=&quot;bg-gradient-to-br from-blue-50 to-cyan-50 dark:from-blue-900 dark:to-cyan-900 p-6 rounded-xl&quot;&gt;&#10;                      &lt;i className=&quot;fas fa-users text-3xl text-blue-600 dark:text-blue-400 mb-4&quot;&gt;&lt;/i&gt;&#10;                      &lt;h4 className=&quot;font-semibold text-gray-900 dark:text-white mb-2&quot;&gt;&#10;                        Community Impact&#10;                      &lt;/h4&gt;&#10;                      &lt;p className=&quot;text-gray-600 dark:text-gray-400 text-sm&quot;&gt;&#10;                        Serving{&quot; &quot;}&#10;                        {farmer.address?.city &amp;&amp; farmer.address?.state&#10;                          ? `${farmer.address.city}, ${farmer.address.state}`&#10;                          : farmer.location || &quot;the community&quot;}{&quot; &quot;}&#10;                        with {stats.totalProducts} quality products&#10;                      &lt;/p&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    &lt;div className=&quot;bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-900 dark:to-pink-900 p-6 rounded-xl&quot;&gt;&#10;                      &lt;i className=&quot;fas fa-star text-3xl text-purple-600 dark:text-purple-400 mb-4&quot;&gt;&lt;/i&gt;&#10;                      &lt;h4 className=&quot;font-semibold text-gray-900 dark:text-white mb-2&quot;&gt;&#10;                        Customer Satisfaction&#10;                      &lt;/h4&gt;&#10;                      &lt;p className=&quot;text-gray-600 dark:text-gray-400 text-sm&quot;&gt;&#10;                        {stats.averageRating &gt; 0&#10;                          ? `${stats.averageRating}/5 average rating`&#10;                          : &quot;Building trust with every harvest&quot;}&#10;                      &lt;/p&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    &lt;div className=&quot;bg-gradient-to-br from-yellow-50 to-orange-50 dark:from-yellow-900 dark:to-orange-900 p-6 rounded-xl&quot;&gt;&#10;                      &lt;i className=&quot;fas fa-seedling text-3xl text-yellow-600 dark:text-yellow-400 mb-4&quot;&gt;&lt;/i&gt;&#10;                      &lt;h4 className=&quot;font-semibold text-gray-900 dark:text-white mb-2&quot;&gt;&#10;                        {farmer.farmInfo?.farmSize&#10;                          ? &quot;Farm Size&quot;&#10;                          : &quot;Product Variety&quot;}&#10;                      &lt;/h4&gt;&#10;                      &lt;p className=&quot;text-gray-600 dark:text-gray-400 text-sm&quot;&gt;&#10;                        {farmer.farmInfo?.farmSize&#10;                          ? `${farmer.farmInfo.farmSize} acres of sustainable farming`&#10;                          : `${stats.totalProducts} products across ${stats.categories?.length || 0} categories`}&#10;                      &lt;/p&gt;&#10;                    &lt;/div&gt;&#10;                  &lt;/div&gt;&#10;                &lt;/div&gt;&#10;              &lt;/div&gt;&#10;            )}&#10;&#10;            {activeTab === &quot;products&quot; &amp;&amp; (&#10;              &lt;div className=&quot;space-y-8&quot;&gt;&#10;                &lt;div className=&quot;text-center mb-8&quot;&gt;&#10;                  &lt;h2 className=&quot;text-4xl font-bold text-gray-900 dark:text-white mb-4&quot;&gt;&#10;                    Our Product Categories&#10;                  &lt;/h2&gt;&#10;                  &lt;p className=&quot;text-gray-600 dark:text-gray-400 text-lg max-w-3xl mx-auto&quot;&gt;&#10;                    We grow a diverse range of fresh produce across{&quot; &quot;}&#10;                    {stats.categories?.length || 0} categories.&#10;                  &lt;/p&gt;&#10;                &lt;/div&gt;&#10;&#10;                {stats.categories &amp;&amp; stats.categories.length &gt; 0 ? (&#10;                  &lt;div className=&quot;grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12&quot;&gt;&#10;                    {stats.categories.map((category, index) =&gt; {&#10;                      const categoryProducts = products.filter(&#10;                        (p) =&gt; p.category === category,&#10;                      );&#10;                      const avgPrice =&#10;                        categoryProducts.length &gt; 0&#10;                          ? (&#10;                              categoryProducts.reduce(&#10;                                (sum, p) =&gt; sum + (p.price || 0),&#10;                                0,&#10;                              ) / categoryProducts.length&#10;                            ).toFixed(2)&#10;                          : 0;&#10;&#10;                      return (&#10;                        &lt;div&#10;                          key={index}&#10;                          className=&quot;bg-gradient-to-br from-green-50 to-emerald-50 dark:from-gray-700 dark:to-gray-600 p-8 rounded-xl shadow-lg&quot;&#10;                        &gt;&#10;                          &lt;div className=&quot;w-16 h-16 bg-green-600 rounded-full flex items-center justify-center mx-auto mb-6&quot;&gt;&#10;                            &lt;i className=&quot;fas fa-leaf text-white text-2xl&quot;&gt;&lt;/i&gt;&#10;                          &lt;/div&gt;&#10;                          &lt;h3 className=&quot;text-xl font-semibold text-gray-900 dark:text-white text-center mb-4&quot;&gt;&#10;                            {category}&#10;                          &lt;/h3&gt;&#10;                          &lt;div className=&quot;text-center space-y-2&quot;&gt;&#10;                            &lt;p className=&quot;text-gray-600 dark:text-gray-400&quot;&gt;&#10;                              {categoryProducts.length} products&#10;                            &lt;/p&gt;&#10;                            &lt;p className=&quot;text-lg font-bold text-green-600 dark:text-green-400&quot;&gt;&#10;                              Avg: ${avgPrice}&#10;                            &lt;/p&gt;&#10;                          &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                      );&#10;                    })}&#10;                  &lt;/div&gt;&#10;                ) : (&#10;                  &lt;div className=&quot;text-center py-12&quot;&gt;&#10;                    &lt;i className=&quot;fas fa-seedling text-6xl text-gray-300 dark:text-gray-600 mb-4&quot;&gt;&lt;/i&gt;&#10;                    &lt;p className=&quot;text-gray-500 dark:text-gray-400 text-lg&quot;&gt;&#10;                      No products available yet. Check back soon!&#10;                    &lt;/p&gt;&#10;                  &lt;/div&gt;&#10;                )}&#10;&#10;                {/* Featured Products Preview */}&#10;                {products.length &gt; 0 &amp;&amp; (&#10;                  &lt;div&gt;&#10;                    &lt;h3 className=&quot;text-2xl font-semibold text-gray-900 dark:text-white mb-6 text-center&quot;&gt;&#10;                      Featured Products&#10;                    &lt;/h3&gt;&#10;                    &lt;div className=&quot;space-y-6&quot;&gt;&#10;                      {products.slice(0, 3).map((product, index) =&gt; (&#10;                        &lt;div&#10;                          key={product._id}&#10;                          className={`flex ${&#10;                            index % 2 === 0 ? &quot;flex-row&quot; : &quot;flex-row-reverse&quot;&#10;                          } items-center gap-8 bg-gradient-to-r ${&#10;                            index % 3 === 0&#10;                              ? &quot;from-green-50 to-emerald-50 dark:from-green-900/30 dark:to-emerald-900/30&quot;&#10;                              : index % 3 === 1&#10;                                ? &quot;from-blue-50 to-cyan-50 dark:from-blue-900/30 dark:to-cyan-900/30&quot;&#10;                                : &quot;from-purple-50 to-pink-50 dark:from-purple-900/30 dark:to-pink-900/30&quot;&#10;                          } p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-[1.02]`}&#10;                        &gt;&#10;                          {/* Product Image */}&#10;                          &lt;div className=&quot;flex-shrink-0&quot;&gt;&#10;                            &lt;div className=&quot;w-32 h-32 rounded-2xl overflow-hidden shadow-lg&quot;&gt;&#10;                              {product.images &amp;&amp; product.images[0] ? (&#10;                                &lt;img&#10;                                  src={product.images[0]}&#10;                                  alt={product.name}&#10;                                  className=&quot;w-full h-full object-cover&quot;&#10;                                /&gt;&#10;                              ) : (&#10;                                &lt;div className=&quot;w-full h-full bg-gray-200 dark:bg-gray-600 flex items-center justify-center&quot;&gt;&#10;                                  &lt;i className=&quot;fas fa-image text-gray-400 text-3xl&quot;&gt;&lt;/i&gt;&#10;                                &lt;/div&gt;&#10;                              )}&#10;                            &lt;/div&gt;&#10;                          &lt;/div&gt;&#10;&#10;                          {/* Product Info */}&#10;                          &lt;div className=&quot;flex-1 min-w-0&quot;&gt;&#10;                            &lt;div className=&quot;flex items-start justify-between&quot;&gt;&#10;                              &lt;div className=&quot;flex-1&quot;&gt;&#10;                                &lt;h4 className=&quot;text-2xl font-bold text-gray-900 dark:text-white mb-2&quot;&gt;&#10;                                  {product.name}&#10;                                &lt;/h4&gt;&#10;                                &lt;p className=&quot;text-gray-600 dark:text-gray-400 mb-3&quot;&gt;&#10;                                  Category: {product.category}&#10;                                &lt;/p&gt;&#10;&#10;                                {/* Rating */}&#10;                                {product.averageRating &amp;&amp; (&#10;                                  &lt;div className=&quot;flex items-center mb-3&quot;&gt;&#10;                                    &lt;div className=&quot;flex text-yellow-400 mr-2&quot;&gt;&#10;                                      {[...Array(5)].map((_, i) =&gt; (&#10;                                        &lt;i&#10;                                          key={i}&#10;                                          className={`fas fa-star text-sm ${&#10;                                            i &lt;&#10;                                            Math.floor(product.averageRating)&#10;                                              ? &quot;text-yellow-400&quot;&#10;                                              : &quot;text-gray-300 dark:text-gray-600&quot;&#10;                                          }`}&#10;                                        &gt;&lt;/i&gt;&#10;                                      ))}&#10;                                    &lt;/div&gt;&#10;                                    &lt;span className=&quot;text-sm text-gray-600 dark:text-gray-400&quot;&gt;&#10;                                      ({product.averageRating}/5)&#10;                                    &lt;/span&gt;&#10;                                  &lt;/div&gt;&#10;                                )}&#10;&#10;                                {/* Product Description */}&#10;                                {product.description &amp;&amp; (&#10;                                  &lt;p className=&quot;text-gray-600 dark:text-gray-400 text-sm mb-4 line-clamp-2&quot;&gt;&#10;                                    {product.description}&#10;                                  &lt;/p&gt;&#10;                                )}&#10;                              &lt;/div&gt;&#10;&#10;                              {/* Price and Actions */}&#10;                              &lt;div className=&quot;flex flex-col items-end gap-4 ml-6&quot;&gt;&#10;                                &lt;div className=&quot;text-right&quot;&gt;&#10;                                  &lt;div className=&quot;text-3xl font-bold text-green-600 dark:text-green-400&quot;&gt;&#10;                                    ${product.price}&#10;                                  &lt;/div&gt;&#10;                                  &lt;div&#10;                                    className={`text-sm ${&#10;                                      product.stock &gt; 0&#10;                                        ? &quot;text-green-600 dark:text-green-400&quot;&#10;                                        : &quot;text-red-500&quot;&#10;                                    }`}&#10;                                  &gt;&#10;                                    {product.stock &gt; 0&#10;                                      ? `${product.stock} available`&#10;                                      : &quot;Out of stock&quot;}&#10;                                  &lt;/div&gt;&#10;                                &lt;/div&gt;&#10;&#10;                                &lt;div className=&quot;flex gap-3&quot;&gt;&#10;                                  &lt;button&#10;                                    className={`px-6 py-3 rounded-lg font-medium transition-all ${&#10;                                      product.stock &gt; 0&#10;                                        ? &quot;bg-green-600 hover:bg-green-700 text-white&quot;&#10;                                        : &quot;bg-gray-300 text-gray-500 cursor-not-allowed&quot;&#10;                                    }`}&#10;                                    disabled={product.stock === 0}&#10;                                  &gt;&#10;                                    &lt;i className=&quot;fas fa-cart-plus mr-2&quot;&gt;&lt;/i&gt;&#10;                                    {product.stock &gt; 0&#10;                                      ? &quot;Add to Cart&quot;&#10;                                      : &quot;Sold Out&quot;}&#10;                                  &lt;/button&gt;&#10;&#10;                                  &lt;button className=&quot;p-3 bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-600 dark:text-gray-300 rounded-lg transition-all&quot;&gt;&#10;                                    &lt;i className=&quot;fas fa-heart&quot;&gt;&lt;/i&gt;&#10;                                  &lt;/button&gt;&#10;                                &lt;/div&gt;&#10;                              &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;                          &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                      ))}&#10;                    &lt;/div&gt;&#10;&#10;                    {/* View All Products Button */}&#10;                    &lt;div className=&quot;text-center mt-8&quot;&gt;&#10;                      &lt;Link&#10;                        href={`/farmers/${farmerId}/details`}&#10;                        className=&quot;inline-flex items-center px-8 py-4 bg-green-600 hover:bg-green-700 text-white font-semibold rounded-lg transition-all duration-300 transform hover:scale-105 shadow-lg&quot;&#10;                      &gt;&#10;                        &lt;i className=&quot;fas fa-store mr-3&quot;&gt;&lt;/i&gt;&#10;                        View All {stats.totalProducts} Products&#10;                        &lt;i className=&quot;fas fa-arrow-right ml-3&quot;&gt;&lt;/i&gt;&#10;                      &lt;/Link&gt;&#10;                    &lt;/div&gt;&#10;                  &lt;/div&gt;&#10;                )}&#10;              &lt;/div&gt;&#10;            )}&#10;&#10;            {activeTab === &quot;reviews&quot; &amp;&amp; (&#10;              &lt;div className=&quot;space-y-8&quot;&gt;&#10;                &lt;div className=&quot;text-center mb-12&quot;&gt;&#10;                  &lt;h2 className=&quot;text-4xl font-bold bg-gradient-to-r from-purple-600 via-pink-600 to-rose-600 bg-clip-text text-transparent mb-6&quot;&gt;&#10;                     Customer Testimonials &#10;                  &lt;/h2&gt;&#10;                  &lt;p className=&quot;text-gray-600 dark:text-gray-400 text-lg max-w-3xl mx-auto leading-relaxed&quot;&gt;&#10;                    Discover what our valued customers are saying about their&#10;                    experience with our fresh, quality produce and exceptional&#10;                    service.&#10;                  &lt;/p&gt;&#10;                &lt;/div&gt;&#10;&#10;                {reviews.length &gt; 0 ? (&#10;                  &lt;div className=&quot;space-y-8&quot;&gt;&#10;                    {/* Reviews Statistics Banner */}&#10;                    &lt;div className=&quot;bg-gradient-to-r from-purple-600 via-pink-600 to-rose-600 rounded-3xl p-8 mb-12&quot;&gt;&#10;                      &lt;div className=&quot;grid grid-cols-1 md:grid-cols-3 gap-8 text-white text-center&quot;&gt;&#10;                        &lt;div className=&quot;group&quot;&gt;&#10;                          &lt;div className=&quot;text-5xl font-bold mb-2 group-hover:scale-110 transition-transform duration-300&quot;&gt;&#10;                            {reviews.length}&#10;                          &lt;/div&gt;&#10;                          &lt;div className=&quot;text-white/90 text-lg&quot;&gt;&#10;                            Total Reviews&#10;                          &lt;/div&gt;&#10;                          &lt;div className=&quot;w-16 h-1 bg-white/30 mx-auto mt-2 rounded-full&quot;&gt;&lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                        &lt;div className=&quot;group&quot;&gt;&#10;                          &lt;div className=&quot;text-5xl font-bold mb-2 group-hover:scale-110 transition-transform duration-300&quot;&gt;&#10;                            {stats.averageRating}★&#10;                          &lt;/div&gt;&#10;                          &lt;div className=&quot;text-white/90 text-lg&quot;&gt;&#10;                            Average Rating&#10;                          &lt;/div&gt;&#10;                          &lt;div className=&quot;flex justify-center mt-2&quot;&gt;&#10;                            {[...Array(5)].map((_, i) =&gt; (&#10;                              &lt;i&#10;                                key={i}&#10;                                className={`fas fa-star text-lg ${&#10;                                  i &lt; Math.floor(stats.averageRating || 0)&#10;                                    ? &quot;text-yellow-300&quot;&#10;                                    : &quot;text-white/30&quot;&#10;                                }`}&#10;                              &gt;&lt;/i&gt;&#10;                            ))}&#10;                          &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                        &lt;div className=&quot;group&quot;&gt;&#10;                          &lt;div className=&quot;text-5xl font-bold mb-2 group-hover:scale-110 transition-transform duration-300&quot;&gt;&#10;                            98%&#10;                          &lt;/div&gt;&#10;                          &lt;div className=&quot;text-white/90 text-lg&quot;&gt;&#10;                            Satisfaction Rate&#10;                          &lt;/div&gt;&#10;                          &lt;div className=&quot;w-16 h-1 bg-white/30 mx-auto mt-2 rounded-full&quot;&gt;&lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                      &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    {/* Reviews Grid with Different Layouts */}&#10;                    &lt;div className=&quot;space-y-8&quot;&gt;&#10;                      {reviews.map((review, index) =&gt; {&#10;                        const layoutVariants = [&#10;                          &quot;premium-testimonial&quot;,&#10;                          &quot;modern-review&quot;,&#10;                          &quot;elegant-feedback&quot;,&#10;                          &quot;vibrant-comment&quot;,&#10;                          &quot;classic-review&quot;,&#10;                        ];&#10;                        const variant =&#10;                          layoutVariants[index % layoutVariants.length];&#10;&#10;                        // Premium Testimonial Layout&#10;                        if (variant === &quot;premium-testimonial&quot;) {&#10;                          return (&#10;                            &lt;div&#10;                              key={index}&#10;                              className=&quot;group relative overflow-hidden rounded-3xl bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50 dark:from-indigo-900/20 dark:via-purple-900/20 dark:to-pink-900/20 p-8 hover:shadow-2xl transition-all duration-700 border-2 border-indigo-200 dark:border-indigo-800&quot;&#10;                            &gt;&#10;                              &lt;div className=&quot;absolute inset-0 bg-gradient-to-br from-indigo-400/5 to-purple-400/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500&quot;&gt;&lt;/div&gt;&#10;                              &lt;div className=&quot;absolute top-4 right-4 w-20 h-20 bg-indigo-100 dark:bg-indigo-800/30 rounded-full opacity-20 group-hover:scale-150 transition-transform duration-700&quot;&gt;&lt;/div&gt;&#10;&#10;                              &lt;div className=&quot;relative z-10&quot;&gt;&#10;                                &lt;div className=&quot;flex items-start space-x-6&quot;&gt;&#10;                                  {/* Avatar Section */}&#10;                                  &lt;div className=&quot;flex-shrink-0&quot;&gt;&#10;                                    &lt;div className=&quot;w-20 h-20 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl flex items-center justify-center text-white text-2xl font-bold shadow-lg group-hover:rotate-12 transition-transform duration-500&quot;&gt;&#10;                                      {(review.reviewer || &quot;A&quot;)&#10;                                        .charAt(0)&#10;                                        .toUpperCase()}&#10;                                    &lt;/div&gt;&#10;                                    &lt;div className=&quot;text-center mt-3&quot;&gt;&#10;                                      &lt;div className=&quot;flex justify-center space-x-1&quot;&gt;&#10;                                        {[...Array(5)].map((_, i) =&gt; (&#10;                                          &lt;i&#10;                                            key={i}&#10;                                            className={`fas fa-star text-lg ${&#10;                                              i &lt; review.rating&#10;                                                ? &quot;text-yellow-400&quot;&#10;                                                : &quot;text-gray-300 dark:text-gray-600&quot;&#10;                                            }`}&#10;                                          &gt;&lt;/i&gt;&#10;                                        ))}&#10;                                      &lt;/div&gt;&#10;                                      &lt;div className=&quot;text-sm text-indigo-600 dark:text-indigo-400 font-medium mt-1&quot;&gt;&#10;                                        {review.rating}/5 Stars&#10;                                      &lt;/div&gt;&#10;                                    &lt;/div&gt;&#10;                                  &lt;/div&gt;&#10;&#10;                                  {/* Content Section */}&#10;                                  &lt;div className=&quot;flex-1&quot;&gt;&#10;                                    &lt;div className=&quot;mb-4&quot;&gt;&#10;                                      &lt;h4 className=&quot;text-2xl font-bold text-gray-900 dark:text-white mb-2&quot;&gt;&#10;                                        {review.reviewer ||&#10;                                          &quot;Anonymous Customer&quot;}&#10;                                      &lt;/h4&gt;&#10;                                      &lt;div className=&quot;flex items-center space-x-4 text-sm text-gray-500 dark:text-gray-400&quot;&gt;&#10;                                        &lt;span className=&quot;flex items-center&quot;&gt;&#10;                                          &lt;i className=&quot;fas fa-box mr-2 text-purple-500&quot;&gt;&lt;/i&gt;&#10;                                          {review.productName}&#10;                                        &lt;/span&gt;&#10;                                        &lt;span className=&quot;flex items-center&quot;&gt;&#10;                                          &lt;i className=&quot;fas fa-calendar mr-2 text-indigo-500&quot;&gt;&lt;/i&gt;&#10;                                          {new Date(&#10;                                            review.createdAt,&#10;                                          ).toLocaleDateString()}&#10;                                        &lt;/span&gt;&#10;                                      &lt;/div&gt;&#10;                                    &lt;/div&gt;&#10;&#10;                                    &lt;div className=&quot;relative&quot;&gt;&#10;                                      &lt;div className=&quot;absolute -top-2 -left-2 text-6xl text-indigo-200 dark:text-indigo-800 opacity-50&quot;&gt;&#10;                                        &lt;i className=&quot;fas fa-quote-left&quot;&gt;&lt;/i&gt;&#10;                                      &lt;/div&gt;&#10;                                      &lt;p className=&quot;text-gray-700 dark:text-gray-300 text-lg leading-relaxed italic pl-8 pr-4&quot;&gt;&#10;                                        {review.comment}&#10;                                      &lt;/p&gt;&#10;                                      &lt;div className=&quot;absolute -bottom-2 -right-2 text-6xl text-indigo-200 dark:text-indigo-800 opacity-50 transform rotate-180&quot;&gt;&#10;                                        &lt;i className=&quot;fas fa-quote-left&quot;&gt;&lt;/i&gt;&#10;                                      &lt;/div&gt;&#10;                                    &lt;/div&gt;&#10;                                  &lt;/div&gt;&#10;                                &lt;/div&gt;&#10;                              &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;                          );&#10;                        }&#10;&#10;                        // Modern Review Layout&#10;                        if (variant === &quot;modern-review&quot;) {&#10;                          return (&#10;                            &lt;div&#10;                              key={index}&#10;                              className=&quot;group relative overflow-hidden rounded-2xl bg-white dark:bg-gray-800 shadow-xl hover:shadow-2xl transition-all duration-500 border-l-8 border-emerald-500&quot;&#10;                            &gt;&#10;                              &lt;div className=&quot;absolute inset-0 bg-gradient-to-r from-emerald-50/50 to-teal-50/50 dark:from-emerald-900/10 dark:to-teal-900/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300&quot;&gt;&lt;/div&gt;&#10;&#10;                              &lt;div className=&quot;relative z-10 p-8&quot;&gt;&#10;                                &lt;div className=&quot;flex items-center justify-between mb-6&quot;&gt;&#10;                                  &lt;div className=&quot;flex items-center space-x-4&quot;&gt;&#10;                                    &lt;div className=&quot;w-16 h-16 bg-gradient-to-br from-emerald-400 to-teal-500 rounded-xl flex items-center justify-center text-white text-xl font-bold shadow-lg&quot;&gt;&#10;                                      {(review.reviewer || &quot;A&quot;)&#10;                                        .charAt(0)&#10;                                        .toUpperCase()}&#10;                                    &lt;/div&gt;&#10;                                    &lt;div&gt;&#10;                                      &lt;h4 className=&quot;text-xl font-bold text-gray-900 dark:text-white&quot;&gt;&#10;                                        {review.reviewer ||&#10;                                          &quot;Anonymous Customer&quot;}&#10;                                      &lt;/h4&gt;&#10;                                      &lt;p className=&quot;text-emerald-600 dark:text-emerald-400 font-medium&quot;&gt;&#10;                                        Verified Purchase&#10;                                      &lt;/p&gt;&#10;                                    &lt;/div&gt;&#10;                                  &lt;/div&gt;&#10;&#10;                                  &lt;div className=&quot;text-right&quot;&gt;&#10;                                    &lt;div className=&quot;flex items-center space-x-1 justify-end mb-2&quot;&gt;&#10;                                      {[...Array(5)].map((_, i) =&gt; (&#10;                                        &lt;i&#10;                                          key={i}&#10;                                          className={`fas fa-star text-xl ${&#10;                                            i &lt; review.rating&#10;                                              ? &quot;text-yellow-400&quot;&#10;                                              : &quot;text-gray-300 dark:text-gray-600&quot;&#10;                                          }`}&#10;                                        &gt;&lt;/i&gt;&#10;                                      ))}&#10;                                    &lt;/div&gt;&#10;                                    &lt;div className=&quot;text-gray-500 dark:text-gray-400 text-sm&quot;&gt;&#10;                                      {new Date(&#10;                                        review.createdAt,&#10;                                      ).toLocaleDateString()}&#10;                                    &lt;/div&gt;&#10;                                  &lt;/div&gt;&#10;                                &lt;/div&gt;&#10;&#10;                                &lt;div className=&quot;mb-4&quot;&gt;&#10;                                  &lt;div className=&quot;inline-flex items-center bg-emerald-100 dark:bg-emerald-900/30 text-emerald-800 dark:text-emerald-300 px-3 py-1 rounded-full text-sm font-medium&quot;&gt;&#10;                                    &lt;i className=&quot;fas fa-leaf mr-2&quot;&gt;&lt;/i&gt;&#10;                                    {review.productName}&#10;                                  &lt;/div&gt;&#10;                                &lt;/div&gt;&#10;&#10;                                &lt;p className=&quot;text-gray-700 dark:text-gray-300 text-lg leading-relaxed&quot;&gt;&#10;                                  {review.comment}&#10;                                &lt;/p&gt;&#10;                              &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;                          );&#10;                        }&#10;&#10;                        // Elegant Feedback Layout&#10;                        if (variant === &quot;elegant-feedback&quot;) {&#10;                          return (&#10;                            &lt;div&#10;                              key={index}&#10;                              className=&quot;group relative overflow-hidden rounded-3xl bg-gradient-to-br from-rose-50 via-pink-50 to-red-50 dark:from-rose-900/20 dark:via-pink-900/20 dark:to-red-900/20 p-8 hover:shadow-2xl transition-all duration-700 border border-rose-200 dark:border-rose-800&quot;&#10;                            &gt;&#10;                              &lt;div className=&quot;absolute inset-0 bg-gradient-to-br from-rose-400/5 to-pink-400/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500&quot;&gt;&lt;/div&gt;&#10;                              &lt;div className=&quot;absolute top-4 right-4 w-20 h-20 bg-rose-100 dark:bg-rose-800/30 rounded-full opacity-20 group-hover:scale-150 transition-transform duration-700&quot;&gt;&lt;/div&gt;&#10;&#10;                              &lt;div className=&quot;relative z-10&quot;&gt;&#10;                                &lt;div className=&quot;text-center mb-6&quot;&gt;&#10;                                  &lt;div className=&quot;w-24 h-24 bg-gradient-to-br from-rose-400 to-pink-500 rounded-full flex items-center justify-center mx-auto mb-4 shadow-xl group-hover:rotate-12 transition-transform duration-500&quot;&gt;&#10;                                    &lt;i className=&quot;fas fa-heart text-white text-2xl&quot;&gt;&lt;/i&gt;&#10;                                  &lt;/div&gt;&#10;                                  &lt;h4 className=&quot;text-2xl font-bold text-gray-900 dark:text-white mb-2&quot;&gt;&#10;                                    {review.reviewer || &quot;Happy Customer&quot;}&#10;                                  &lt;/h4&gt;&#10;                                  &lt;div className=&quot;flex justify-center space-x-1 mb-3&quot;&gt;&#10;                                    {[...Array(5)].map((_, i) =&gt; (&#10;                                      &lt;i&#10;                                        key={i}&#10;                                        className={`fas fa-star text-2xl ${&#10;                                          i &lt; review.rating&#10;                                            ? &quot;text-yellow-400&quot;&#10;                                            : &quot;text-gray-300 dark:text-gray-600&quot;&#10;                                        }`}&#10;                                      &gt;&lt;/i&gt;&#10;                                    ))}&#10;                                  &lt;/div&gt;&#10;                                  &lt;div className=&quot;inline-flex items-center bg-rose-100 dark:bg-rose-900/30 text-rose-800 dark:text-rose-300 px-4 py-2 rounded-full text-sm font-medium&quot;&gt;&#10;                                    &lt;i className=&quot;fas fa-apple-alt mr-2&quot;&gt;&lt;/i&gt;&#10;                                    {review.productName}&#10;                                  &lt;/div&gt;&#10;                                &lt;/div&gt;&#10;&#10;                                &lt;div className=&quot;text-center&quot;&gt;&#10;                                  &lt;p className=&quot;text-gray-700 dark:text-gray-300 text-xl leading-relaxed italic font-light&quot;&gt;&#10;                                    &amp;ldquo;{review.comment}&amp;rdquo;&#10;                                  &lt;/p&gt;&#10;                                  &lt;div className=&quot;mt-6 text-gray-500 dark:text-gray-400 text-sm&quot;&gt;&#10;                                    &lt;i className=&quot;fas fa-calendar-alt mr-2&quot;&gt;&lt;/i&gt;&#10;                                    {new Date(&#10;                                      review.createdAt,&#10;                                    ).toLocaleDateString()}&#10;                                  &lt;/div&gt;&#10;                                &lt;/div&gt;&#10;                              &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;                          );&#10;                        }&#10;&#10;                        // Vibrant Comment Layout&#10;                        if (variant === &quot;vibrant-comment&quot;) {&#10;                          return (&#10;                            &lt;div&#10;                              key={index}&#10;                              className=&quot;group relative overflow-hidden rounded-2xl bg-gradient-to-r from-cyan-500 to-blue-600 p-8 hover:shadow-2xl transition-all duration-500 text-white&quot;&#10;                            &gt;&#10;                              &lt;div className=&quot;absolute inset-0 bg-gradient-to-r from-cyan-400/20 to-blue-400/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300&quot;&gt;&lt;/div&gt;&#10;                              &lt;div className=&quot;absolute top-0 right-0 w-40 h-40 bg-white/10 rounded-full transform translate-x-20 -translate-y-20 group-hover:scale-150 transition-transform duration-700&quot;&gt;&lt;/div&gt;&#10;&#10;                              &lt;div className=&quot;relative z-10&quot;&gt;&#10;                                &lt;div className=&quot;flex items-start space-x-6&quot;&gt;&#10;                                  &lt;div className=&quot;flex-shrink-0&quot;&gt;&#10;                                    &lt;div className=&quot;w-18 h-18 bg-white/20 backdrop-blur-sm rounded-2xl flex items-center justify-center text-2xl font-bold shadow-lg&quot;&gt;&#10;                                      {(review.reviewer || &quot;A&quot;)&#10;                                        .charAt(0)&#10;                                        .toUpperCase()}&#10;                                    &lt;/div&gt;&#10;                                  &lt;/div&gt;&#10;&#10;                                  &lt;div className=&quot;flex-1&quot;&gt;&#10;                                    &lt;div className=&quot;flex items-center justify-between mb-4&quot;&gt;&#10;                                      &lt;div className=&quot;flex-1&quot;&gt;&#10;                                        &lt;h4 className=&quot;text-xl font-bold mb-1&quot;&gt;&#10;                                          {review.reviewer || &quot;Valued Customer&quot;}&#10;                                        &lt;/h4&gt;&#10;                                        &lt;div className=&quot;flex items-center space-x-1&quot;&gt;&#10;                                          {[...Array(5)].map((_, i) =&gt; (&#10;                                            &lt;i&#10;                                              key={i}&#10;                                              className={`fas fa-star ${&#10;                                                i &lt; review.rating&#10;                                                  ? &quot;text-yellow-300&quot;&#10;                                                  : &quot;text-white/30&quot;&#10;                                              }`}&#10;                                            &gt;&lt;/i&gt;&#10;                                          ))}&#10;                                          &lt;span className=&quot;ml-2 text-white/90&quot;&gt;&#10;                                            ({review.rating}/5)&#10;                                          &lt;/span&gt;&#10;                                        &lt;/div&gt;&#10;                                      &lt;/div&gt;&#10;                                      &lt;div className=&quot;text-right text-white/80 text-sm&quot;&gt;&#10;                                        {new Date(&#10;                                          review.createdAt,&#10;                                        ).toLocaleDateString()}&#10;                                      &lt;/div&gt;&#10;                                    &lt;/div&gt;&#10;&#10;                                    &lt;div className=&quot;mb-4&quot;&gt;&#10;                                      &lt;span className=&quot;inline-flex items-center bg-white/20 backdrop-blur-sm text-white px-3 py-1 rounded-full text-sm&quot;&gt;&#10;                                        &lt;i className=&quot;fas fa-tag mr-2&quot;&gt;&lt;/i&gt;&#10;                                        {review.productName}&#10;                                      &lt;/span&gt;&#10;                                    &lt;/div&gt;&#10;&#10;                                    &lt;p className=&quot;text-white/95 text-lg leading-relaxed&quot;&gt;&#10;                                      {review.comment}&#10;                                    &lt;/p&gt;&#10;                                  &lt;/div&gt;&#10;                                &lt;/div&gt;&#10;                              &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;                          );&#10;                        }&#10;&#10;                        // Classic Review Layout (Default)&#10;                        return (&#10;                          &lt;div&#10;                            key={index}&#10;                            className=&quot;group relative overflow-hidden rounded-xl bg-white dark:bg-gray-800 shadow-lg hover:shadow-xl transition-all duration-300 border border-gray-200 dark:border-gray-700&quot;&#10;                          &gt;&#10;                            &lt;div className=&quot;absolute inset-0 bg-gradient-to-br from-gray-50/50 to-slate-50/50 dark:from-gray-700/50 dark:to-slate-700/50 opacity-0 group-hover:opacity-100 transition-opacity duration-300&quot;&gt;&lt;/div&gt;&#10;&#10;                            &lt;div className=&quot;relative z-10 p-6&quot;&gt;&#10;                              &lt;div className=&quot;flex items-start justify-between mb-4&quot;&gt;&#10;                                &lt;div className=&quot;flex items-center space-x-3&quot;&gt;&#10;                                  &lt;div className=&quot;w-12 h-12 bg-gradient-to-br from-gray-400 to-slate-500 rounded-lg flex items-center justify-center text-white font-bold&quot;&gt;&#10;                                    {(review.reviewer || &quot;A&quot;)&#10;                                      .charAt(0)&#10;                                      .toUpperCase()}&#10;                                  &lt;/div&gt;&#10;                                  &lt;div&gt;&#10;                                    &lt;h4 className=&quot;font-semibold text-gray-900 dark:text-white&quot;&gt;&#10;                                      {review.reviewer || &quot;Anonymous Customer&quot;}&#10;                                    &lt;/h4&gt;&#10;                                    &lt;p className=&quot;text-sm text-gray-500 dark:text-gray-400&quot;&gt;&#10;                                      {review.productName}&#10;                                    &lt;/p&gt;&#10;                                  &lt;/div&gt;&#10;                                &lt;/div&gt;&#10;&#10;                                &lt;div className=&quot;text-right&quot;&gt;&#10;                                  &lt;div className=&quot;flex items-center space-x-1 mb-1&quot;&gt;&#10;                                    {[...Array(5)].map((_, i) =&gt; (&#10;                                      &lt;i&#10;                                        key={i}&#10;                                        className={`fas fa-star text-sm ${&#10;                                          i &lt; review.rating&#10;                                            ? &quot;text-yellow-400&quot;&#10;                                            : &quot;text-gray-300 dark:text-gray-600&quot;&#10;                                        }`}&#10;                                      &gt;&lt;/i&gt;&#10;                                    ))}&#10;                                  &lt;/div&gt;&#10;                                  &lt;div className=&quot;text-xs text-gray-500 dark:text-gray-400&quot;&gt;&#10;                                    {new Date(&#10;                                      review.createdAt,&#10;                                    ).toLocaleDateString()}&#10;                                  &lt;/div&gt;&#10;                                &lt;/div&gt;&#10;                              &lt;/div&gt;&#10;&#10;                              &lt;p className=&quot;text-gray-700 dark:text-gray-300 leading-relaxed&quot;&gt;&#10;                                {review.comment}&#10;                              &lt;/p&gt;&#10;                            &lt;/div&gt;&#10;                          &lt;/div&gt;&#10;                        );&#10;                      })}&#10;                    &lt;/div&gt;&#10;&#10;                    {/* Customer Satisfaction Footer */}&#10;                    &lt;div className=&quot;bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-3xl p-8 mt-12 border border-green-200 dark:border-green-800&quot;&gt;&#10;                      &lt;div className=&quot;text-center&quot;&gt;&#10;                        &lt;div className=&quot;w-20 h-20 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl&quot;&gt;&#10;                          &lt;i className=&quot;fas fa-thumbs-up text-white text-3xl&quot;&gt;&lt;/i&gt;&#10;                        &lt;/div&gt;&#10;                        &lt;h3 className=&quot;text-2xl font-bold text-gray-900 dark:text-white mb-4&quot;&gt;&#10;                          Thank You for Your Trust! &#10;                        &lt;/h3&gt;&#10;                        &lt;p className=&quot;text-gray-600 dark:text-gray-400 text-lg max-w-2xl mx-auto leading-relaxed&quot;&gt;&#10;                          Your feedback helps us grow better produce and serve&#10;                          our community with excellence. Every review makes a&#10;                          difference in our farming journey.&#10;                        &lt;/p&gt;&#10;                        &lt;div className=&quot;mt-6 flex justify-center space-x-8&quot;&gt;&#10;                          &lt;div className=&quot;text-center&quot;&gt;&#10;                            &lt;div className=&quot;text-3xl font-bold text-green-600 dark:text-green-400&quot;&gt;&#10;                              100%&#10;                            &lt;/div&gt;&#10;                            &lt;div className=&quot;text-gray-600 dark:text-gray-400 text-sm&quot;&gt;&#10;                              Fresh Guarantee&#10;                            &lt;/div&gt;&#10;                          &lt;/div&gt;&#10;                          &lt;div className=&quot;text-center&quot;&gt;&#10;                            &lt;div className=&quot;text-3xl font-bold text-green-600 dark:text-green-400&quot;&gt;&#10;                              24/7&#10;                            &lt;/div&gt;&#10;                            &lt;div className=&quot;text-gray-600 dark:text-gray-400 text-sm&quot;&gt;&#10;                              Customer Support&#10;                            &lt;/div&gt;&#10;                          &lt;/div&gt;&#10;                          &lt;div className=&quot;text-center&quot;&gt;&#10;                            &lt;div className=&quot;text-3xl font-bold text-green-600 dark:text-green-400&quot;&gt;&#10;                              Fast&#10;                            &lt;/div&gt;&#10;                            &lt;div className=&quot;text-gray-600 dark:text-gray-400 text-sm&quot;&gt;&#10;                              Delivery&#10;                            &lt;/div&gt;&#10;                          &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                      &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                  &lt;/div&gt;&#10;                ) : (&#10;                  &lt;div className=&quot;text-center py-20&quot;&gt;&#10;                    &lt;div className=&quot;w-32 h-32 bg-gradient-to-br from-purple-100 to-pink-100 dark:from-purple-900/30 dark:to-pink-900/30 rounded-full flex items-center justify-center mx-auto mb-8 shadow-xl&quot;&gt;&#10;                      &lt;i className=&quot;fas fa-comment-dots text-6xl text-purple-400 dark:text-purple-300&quot;&gt;&lt;/i&gt;&#10;                    &lt;/div&gt;&#10;                    &lt;h3 className=&quot;text-3xl font-bold text-gray-900 dark:text-white mb-4&quot;&gt;&#10;                      No Reviews Yet&#10;                    &lt;/h3&gt;&#10;                    &lt;p className=&quot;text-gray-500 dark:text-gray-400 text-xl max-w-md mx-auto leading-relaxed mb-8&quot;&gt;&#10;                      Be the first to share your experience with our fresh&#10;                      produce! Your feedback helps us serve you better.&#10;                    &lt;/p&gt;&#10;                    &lt;div className=&quot;inline-flex items-center bg-gradient-to-r from-purple-500 to-pink-600 text-white px-8 py-4 rounded-2xl font-semibold text-lg shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105&quot;&gt;&#10;                      &lt;i className=&quot;fas fa-star mr-3&quot;&gt;&lt;/i&gt;&#10;                      Leave the First Review&#10;                      &lt;i className=&quot;fas fa-arrow-right ml-3&quot;&gt;&lt;/i&gt;&#10;                    &lt;/div&gt;&#10;                  &lt;/div&gt;&#10;                )}&#10;              &lt;/div&gt;&#10;            )}&#10;&#10;            {activeTab === &quot;stats&quot; &amp;&amp; (&#10;              &lt;div className=&quot;space-y-8&quot;&gt;&#10;                &lt;div className=&quot;text-center mb-12&quot;&gt;&#10;                  &lt;h2 className=&quot;text-4xl font-bold bg-gradient-to-r from-emerald-600 via-teal-600 to-cyan-600 bg-clip-text text-transparent mb-6&quot;&gt;&#10;                     Farm Analytics Dashboard &#10;                  &lt;/h2&gt;&#10;                  &lt;p className=&quot;text-gray-600 dark:text-gray-400 text-lg max-w-3xl mx-auto leading-relaxed&quot;&gt;&#10;                    Discover the comprehensive insights behind our farm's&#10;                    productivity, community impact, and sustainable growth&#10;                    journey.&#10;                  &lt;/p&gt;&#10;                &lt;/div&gt;&#10;&#10;                {/* Primary Statistics Showcase */}&#10;                &lt;div className=&quot;grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-12&quot;&gt;&#10;                  {/* Holographic Products Card */}&#10;                  &lt;div className=&quot;group relative overflow-hidden rounded-3xl bg-gradient-to-br from-emerald-50 via-green-50 to-teal-50 dark:from-emerald-900/20 dark:via-green-900/20 dark:to-teal-900/20 p-8 hover:shadow-2xl transition-all duration-700 border border-emerald-200 dark:border-emerald-800&quot;&gt;&#10;                    &lt;div className=&quot;absolute inset-0 bg-gradient-to-br from-emerald-400/10 to-teal-400/10 opacity-0 group-hover:opacity-100 transition-opacity duration-500&quot;&gt;&lt;/div&gt;&#10;                    &lt;div className=&quot;absolute top-4 right-4 w-16 h-16 bg-emerald-100 dark:bg-emerald-800/30 rounded-full opacity-20 group-hover:scale-150 transition-transform duration-700&quot;&gt;&lt;/div&gt;&#10;                    &lt;div className=&quot;relative z-10&quot;&gt;&#10;                      &lt;div className=&quot;flex items-center justify-between mb-6&quot;&gt;&#10;                        &lt;div className=&quot;w-16 h-16 bg-gradient-to-br from-emerald-500 to-green-600 rounded-2xl flex items-center justify-center transform group-hover:rotate-12 transition-transform duration-500 shadow-lg&quot;&gt;&#10;                          &lt;i className=&quot;fas fa-seedling text-2xl text-white&quot;&gt;&lt;/i&gt;&#10;                        &lt;/div&gt;&#10;                        &lt;div className=&quot;text-right&quot;&gt;&#10;                          &lt;div className=&quot;text-4xl font-bold text-emerald-600 dark:text-emerald-400 mb-1&quot;&gt;&#10;                            {stats.totalProducts}&#10;                          &lt;/div&gt;&#10;                          &lt;div className=&quot;text-emerald-500 dark:text-emerald-300 text-sm font-medium&quot;&gt;&#10;                            Total Products&#10;                          &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                      &lt;/div&gt;&#10;                      &lt;div className=&quot;space-y-3&quot;&gt;&#10;                        &lt;div className=&quot;flex justify-between text-gray-700 dark:text-gray-300&quot;&gt;&#10;                          &lt;span&gt;Active Items&lt;/span&gt;&#10;                          &lt;span className=&quot;font-bold text-green-600 dark:text-green-400&quot;&gt;&#10;                            {stats.activeProducts}&#10;                          &lt;/span&gt;&#10;                        &lt;/div&gt;&#10;                        &lt;div className=&quot;w-full bg-emerald-100 dark:bg-emerald-900/30 rounded-full h-3&quot;&gt;&#10;                          &lt;div&#10;                            className=&quot;bg-gradient-to-r from-emerald-500 to-green-500 h-3 rounded-full transition-all duration-1000 shadow-sm&quot;&#10;                            style={{&#10;                              width: `${(stats.activeProducts / stats.totalProducts) * 100}%`,&#10;                            }}&#10;                          &gt;&lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                        &lt;div className=&quot;text-center text-xs text-gray-500 dark:text-gray-400&quot;&gt;&#10;                          {(&#10;                            (stats.activeProducts / stats.totalProducts) *&#10;                            100&#10;                          ).toFixed(0)}&#10;                          % availability rate&#10;                        &lt;/div&gt;&#10;                      &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                  &lt;/div&gt;&#10;&#10;                  {/* Crystal Inventory Card */}&#10;                  &lt;div className=&quot;group relative overflow-hidden rounded-3xl bg-gradient-to-br from-blue-50 via-cyan-50 to-indigo-50 dark:from-blue-900/20 dark:via-cyan-900/20 dark:to-indigo-900/20 p-8 hover:shadow-2xl transition-all duration-700 border border-blue-200 dark:border-blue-800&quot;&gt;&#10;                    &lt;div className=&quot;absolute inset-0 bg-gradient-to-br from-blue-400/10 to-cyan-400/10 opacity-0 group-hover:opacity-100 transition-opacity duration-500&quot;&gt;&lt;/div&gt;&#10;                    &lt;div className=&quot;absolute -top-4 -right-4 w-20 h-20 bg-blue-100 dark:bg-blue-800/30 rounded-full opacity-20 group-hover:scale-125 transition-transform duration-700&quot;&gt;&lt;/div&gt;&#10;                    &lt;div className=&quot;relative z-10&quot;&gt;&#10;                      &lt;div className=&quot;flex items-center justify-between mb-6&quot;&gt;&#10;                        &lt;div className=&quot;w-16 h-16 bg-gradient-to-br from-blue-500 to-cyan-600 rounded-2xl flex items-center justify-center transform group-hover:scale-110 transition-transform duration-500 shadow-lg&quot;&gt;&#10;                          &lt;i className=&quot;fas fa-boxes text-2xl text-white&quot;&gt;&lt;/i&gt;&#10;                        &lt;/div&gt;&#10;                        &lt;div className=&quot;text-right&quot;&gt;&#10;                          &lt;div className=&quot;text-4xl font-bold text-blue-600 dark:text-blue-400 mb-1&quot;&gt;&#10;                            {stats.totalStock}&#10;                          &lt;/div&gt;&#10;                          &lt;div className=&quot;text-blue-500 dark:text-blue-300 text-sm font-medium&quot;&gt;&#10;                            Items in Stock&#10;                          &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                      &lt;/div&gt;&#10;                      &lt;div className=&quot;grid grid-cols-2 gap-4&quot;&gt;&#10;                        &lt;div className=&quot;text-center p-3 bg-white/50 dark:bg-blue-900/20 rounded-xl&quot;&gt;&#10;                          &lt;div className=&quot;text-lg font-bold text-cyan-600 dark:text-cyan-400&quot;&gt;&#10;                            {stats.categories?.length || 0}&#10;                          &lt;/div&gt;&#10;                          &lt;div className=&quot;text-xs text-gray-600 dark:text-gray-400&quot;&gt;&#10;                            Categories&#10;                          &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                        &lt;div className=&quot;text-center p-3 bg-white/50 dark:bg-blue-900/20 rounded-xl&quot;&gt;&#10;                          &lt;div className=&quot;text-lg font-bold text-indigo-600 dark:text-indigo-400&quot;&gt;&#10;                            ${stats.averagePrice}&#10;                          &lt;/div&gt;&#10;                          &lt;div className=&quot;text-xs text-gray-600 dark:text-gray-400&quot;&gt;&#10;                            Avg Price&#10;                          &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                      &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                  &lt;/div&gt;&#10;&#10;                  {/* Prismatic Community Impact */}&#10;                  &lt;div className=&quot;group relative overflow-hidden rounded-3xl bg-gradient-to-br from-purple-50 via-pink-50 to-rose-50 dark:from-purple-900/20 dark:via-pink-900/20 dark:to-rose-900/20 p-8 hover:shadow-2xl transition-all duration-700 border border-purple-200 dark:border-purple-800&quot;&gt;&#10;                    &lt;div className=&quot;absolute inset-0 bg-gradient-to-br from-purple-400/10 to-pink-400/10 opacity-0 group-hover:opacity-100 transition-opacity duration-500&quot;&gt;&lt;/div&gt;&#10;                    &lt;div className=&quot;absolute bottom-4 left-4 w-12 h-12 bg-purple-100 dark:bg-purple-800/30 rounded-full opacity-30 group-hover:animate-pulse&quot;&gt;&lt;/div&gt;&#10;                    &lt;div className=&quot;relative z-10&quot;&gt;&#10;                      &lt;div className=&quot;flex items-center justify-between mb-6&quot;&gt;&#10;                        &lt;div className=&quot;w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-600 rounded-2xl flex items-center justify-center transform group-hover:rotate-45 transition-transform duration-500 shadow-lg&quot;&gt;&#10;                          &lt;i className=&quot;fas fa-calendar text-2xl text-white&quot;&gt;&lt;/i&gt;&#10;                        &lt;/div&gt;&#10;                        &lt;div className=&quot;text-right&quot;&gt;&#10;                          &lt;div className=&quot;text-4xl font-bold text-purple-600 dark:text-purple-400 mb-1&quot;&gt;&#10;                            {calculateYearsOfExperience(&#10;                              farmer.joinedDate,&#10;                              farmer.createdAt,&#10;                            )}&#10;                          &lt;/div&gt;&#10;                          &lt;div className=&quot;text-purple-500 dark:text-purple-300 text-sm font-medium&quot;&gt;&#10;                            Years Experience&#10;                          &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                      &lt;/div&gt;&#10;                      &lt;div className=&quot;space-y-3&quot;&gt;&#10;                        &lt;div className=&quot;flex justify-between text-gray-700 dark:text-gray-300&quot;&gt;&#10;                          &lt;span&gt;Farm Size&lt;/span&gt;&#10;                          &lt;span className=&quot;font-bold text-pink-600 dark:text-pink-400&quot;&gt;&#10;                            {farmer.farmSize&#10;                              ? `${farmer.farmSize} ${farmer.farmSizeUnit}`&#10;                              : &quot;Not specified&quot;}&#10;                          &lt;/span&gt;&#10;                        &lt;/div&gt;&#10;                        &lt;div className=&quot;flex items-center space-x-2&quot;&gt;&#10;                          &lt;div className=&quot;flex-1 h-2 bg-purple-100 dark:bg-purple-900/30 rounded-full overflow-hidden&quot;&gt;&#10;                            &lt;div&#10;                              className=&quot;h-full bg-gradient-to-r from-purple-500 to-pink-500 rounded-full&quot;&#10;                              style={{&#10;                                width: farmer.verified ? &quot;100%&quot; : &quot;75%&quot;,&#10;                              }}&#10;                            &gt;&lt;/div&gt;&#10;                          &lt;/div&gt;&#10;                          &lt;span className=&quot;text-xs text-purple-600 dark:text-purple-400 font-medium&quot;&gt;&#10;                            {farmer.verified ? &quot;Verified&quot; : &quot;Pending&quot;}&#10;                          &lt;/span&gt;&#10;                        &lt;/div&gt;&#10;                      &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                  &lt;/div&gt;&#10;&#10;                  {/* Luminous Performance */}&#10;                  &lt;div className=&quot;group relative overflow-hidden rounded-3xl bg-gradient-to-br from-amber-50 via-yellow-50 to-orange-50 dark:from-amber-900/20 dark:via-yellow-900/20 dark:to-orange-900/20 p-8 hover:shadow-2xl transition-all duration-700 border border-amber-200 dark:border-amber-800&quot;&gt;&#10;                    &lt;div className=&quot;absolute inset-0 bg-gradient-to-br from-amber-400/10 to-orange-400/10 opacity-0 group-hover:opacity-100 transition-opacity duration-500&quot;&gt;&lt;/div&gt;&#10;                    &lt;div className=&quot;absolute top-0 left-0 w-24 h-24 bg-amber-100 dark:bg-amber-800/30 rounded-full opacity-20 transform -translate-x-12 -translate-y-12 group-hover:scale-150 transition-transform duration-700&quot;&gt;&lt;/div&gt;&#10;                    &lt;div className=&quot;relative z-10&quot;&gt;&#10;                      &lt;div className=&quot;flex items-center justify-between mb-6&quot;&gt;&#10;                        &lt;div className=&quot;w-16 h-16 bg-gradient-to-br from-amber-500 to-orange-600 rounded-2xl flex items-center justify-center transform group-hover:scale-110 transition-transform duration-500 shadow-lg&quot;&gt;&#10;                          &lt;i className=&quot;fas fa-star text-2xl text-white&quot;&gt;&lt;/i&gt;&#10;                        &lt;/div&gt;&#10;                        &lt;div className=&quot;text-right&quot;&gt;&#10;                          &lt;div className=&quot;text-4xl font-bold text-amber-600 dark:text-amber-400 mb-1&quot;&gt;&#10;                            {stats.averageRating || &quot;N/A&quot;}&#10;                          &lt;/div&gt;&#10;                          &lt;div className=&quot;text-amber-500 dark:text-amber-300 text-sm font-medium&quot;&gt;&#10;                            Average Rating&#10;                          &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                      &lt;/div&gt;&#10;                      &lt;div className=&quot;space-y-3&quot;&gt;&#10;                        &lt;div className=&quot;flex justify-between text-gray-700 dark:text-gray-300&quot;&gt;&#10;                          &lt;span&gt;Total Reviews&lt;/span&gt;&#10;                          &lt;span className=&quot;font-bold text-orange-600 dark:text-orange-400&quot;&gt;&#10;                            {stats.totalReviews}&#10;                          &lt;/span&gt;&#10;                        &lt;/div&gt;&#10;                        &lt;div className=&quot;flex items-center space-x-1&quot;&gt;&#10;                          {[...Array(5)].map((_, i) =&gt; (&#10;                            &lt;i&#10;                              key={i}&#10;                              className={`fas fa-star text-lg ${&#10;                                i &lt; Math.floor(stats.averageRating || 0)&#10;                                  ? &quot;text-amber-400&quot;&#10;                                  : &quot;text-gray-300 dark:text-gray-600&quot;&#10;                              }`}&#10;                            &gt;&lt;/i&gt;&#10;                          ))}&#10;                          &lt;span className=&quot;ml-2 text-sm text-gray-500 dark:text-gray-400&quot;&gt;&#10;                            ({stats.averageRating}/5.0)&#10;                          &lt;/span&gt;&#10;                        &lt;/div&gt;&#10;                      &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                  &lt;/div&gt;&#10;                &lt;/div&gt;&#10;&#10;                {/* Enhanced Farm Details Grid */}&#10;                &lt;div className=&quot;grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-12&quot;&gt;&#10;                  {/* Experience Showcase */}&#10;                  &lt;div className=&quot;group relative overflow-hidden rounded-2xl bg-gradient-to-br from-indigo-100 to-purple-100 dark:from-indigo-900/30 dark:to-purple-900/30 p-6 hover:shadow-xl transition-all duration-500 border-l-4 border-indigo-500&quot;&gt;&#10;                    &lt;div className=&quot;absolute inset-0 bg-gradient-to-br from-indigo-500/5 to-purple-500/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300&quot;&gt;&lt;/div&gt;&#10;                    &lt;div className=&quot;relative z-10&quot;&gt;&#10;                      &lt;div className=&quot;flex items-center justify-between mb-4&quot;&gt;&#10;                        &lt;div className=&quot;w-12 h-12 bg-indigo-500 rounded-xl flex items-center justify-center transform group-hover:rotate-12 transition-transform duration-300&quot;&gt;&#10;                          &lt;i className=&quot;fas fa-clock text-white text-lg&quot;&gt;&lt;/i&gt;&#10;                        &lt;/div&gt;&#10;                        &lt;div className=&quot;text-3xl font-bold text-indigo-600 dark:text-indigo-400&quot;&gt;&#10;                          {stats.yearsOfExperience}+&#10;                        &lt;/div&gt;&#10;                      &lt;/div&gt;&#10;                      &lt;h3 className=&quot;text-lg font-semibold text-gray-900 dark:text-white mb-2&quot;&gt;&#10;                        Years of Experience&#10;                      &lt;/h3&gt;&#10;                      &lt;p className=&quot;text-gray-600 dark:text-gray-400 text-sm&quot;&gt;&#10;                        Dedicated farming expertise&#10;                      &lt;/p&gt;&#10;                    &lt;/div&gt;&#10;                  &lt;/div&gt;&#10;&#10;                  {/* Farm Size Display */}&#10;                  &lt;div className=&quot;group relative overflow-hidden rounded-2xl bg-gradient-to-br from-green-100 to-emerald-100 dark:from-green-900/30 dark:to-emerald-900/30 p-6 hover:shadow-xl transition-all duration-500 border-l-4 border-green-500&quot;&gt;&#10;                    &lt;div className=&quot;absolute inset-0 bg-gradient-to-br from-green-500/5 to-emerald-500/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300&quot;&gt;&lt;/div&gt;&#10;                    &lt;div className=&quot;relative z-10&quot;&gt;&#10;                      &lt;div className=&quot;flex items-center justify-between mb-4&quot;&gt;&#10;                        &lt;div className=&quot;w-12 h-12 bg-green-500 rounded-xl flex items-center justify-center transform group-hover:scale-110 transition-transform duration-300&quot;&gt;&#10;                          &lt;i className=&quot;fas fa-map text-white text-lg&quot;&gt;&lt;/i&gt;&#10;                        &lt;/div&gt;&#10;                        &lt;div className=&quot;text-2xl font-bold text-green-600 dark:text-green-400&quot;&gt;&#10;                          {farmer.farmInfo?.farmSize || stats.farmSize || &quot;5&quot;}{&quot; &quot;}&#10;                          {farmer.farmInfo?.farmSizeUnit ||&#10;                            stats.farmSizeUnit ||&#10;                            &quot;acres&quot;}&#10;                        &lt;/div&gt;&#10;                      &lt;/div&gt;&#10;                      &lt;h3 className=&quot;text-lg font-semibold text-gray-900 dark:text-white mb-2&quot;&gt;&#10;                        Farm Size&#10;                      &lt;/h3&gt;&#10;                      &lt;p className=&quot;text-gray-600 dark:text-gray-400 text-sm&quot;&gt;&#10;                        Total cultivated area&#10;                      &lt;/p&gt;&#10;                    &lt;/div&gt;&#10;                  &lt;/div&gt;&#10;&#10;                  {/* Certification Status */}&#10;                  &lt;div className=&quot;group relative overflow-hidden rounded-2xl bg-gradient-to-br from-blue-100 to-cyan-100 dark:from-blue-900/30 dark:to-cyan-900/30 p-6 hover:shadow-xl transition-all duration-500 border-l-4 border-blue-500&quot;&gt;&#10;                    &lt;div className=&quot;absolute inset-0 bg-gradient-to-br from-blue-500/5 to-cyan-500/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300&quot;&gt;&lt;/div&gt;&#10;                    &lt;div className=&quot;relative z-10&quot;&gt;&#10;                      &lt;div className=&quot;flex items-center justify-between mb-4&quot;&gt;&#10;                        &lt;div className=&quot;w-12 h-12 bg-blue-500 rounded-xl flex items-center justify-center transform group-hover:bounce transition-transform duration-300&quot;&gt;&#10;                          &lt;i className=&quot;fas fa-certificate text-white text-lg&quot;&gt;&lt;/i&gt;&#10;                        &lt;/div&gt;&#10;                        &lt;div&#10;                          className={`px-3 py-1 rounded-full text-sm font-medium ${&#10;                            stats.certificationStatus === &quot;Certified&quot;&#10;                              ? &quot;bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300&quot;&#10;                              : &quot;bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300&quot;&#10;                          }`}&#10;                        &gt;&#10;                          {stats.certificationStatus}&#10;                        &lt;/div&gt;&#10;                      &lt;/div&gt;&#10;                      &lt;h3 className=&quot;text-lg font-semibold text-gray-900 dark:text-white mb-2&quot;&gt;&#10;                        Certification&#10;                      &lt;/h3&gt;&#10;                      &lt;p className=&quot;text-gray-600 dark:text-gray-400 text-sm&quot;&gt;&#10;                        Quality assurance status&#10;                      &lt;/p&gt;&#10;                    &lt;/div&gt;&#10;                  &lt;/div&gt;&#10;&#10;                  {/* Farming Methods */}&#10;                  &lt;div className=&quot;group relative overflow-hidden rounded-2xl bg-gradient-to-br from-orange-100 to-red-100 dark:from-orange-900/30 dark:to-red-900/30 p-6 hover:shadow-xl transition-all duration-500 border-l-4 border-orange-500&quot;&gt;&#10;                    &lt;div className=&quot;absolute inset-0 bg-gradient-to-br from-orange-500/5 to-red-500/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300&quot;&gt;&lt;/div&gt;&#10;                    &lt;div className=&quot;relative z-10&quot;&gt;&#10;                      &lt;div className=&quot;flex items-center justify-between mb-4&quot;&gt;&#10;                        &lt;div className=&quot;w-12 h-12 bg-orange-500 rounded-xl flex items-center justify-center transform group-hover:rotate-45 transition-transform duration-300&quot;&gt;&#10;                          &lt;i className=&quot;fas fa-leaf text-white text-lg&quot;&gt;&lt;/i&gt;&#10;                        &lt;/div&gt;&#10;                        &lt;div className=&quot;text-3xl font-bold text-orange-600 dark:text-orange-400&quot;&gt;&#10;                          {stats.farmingMethods?.length || 2}&#10;                        &lt;/div&gt;&#10;                      &lt;/div&gt;&#10;                      &lt;h3 className=&quot;text-lg font-semibold text-gray-900 dark:text-white mb-2&quot;&gt;&#10;                        Methods Used&#10;                      &lt;/h3&gt;&#10;                      &lt;p className=&quot;text-gray-600 dark:text-gray-400 text-sm&quot;&gt;&#10;                        Sustainable practices&#10;                      &lt;/p&gt;&#10;                    &lt;/div&gt;&#10;                  &lt;/div&gt;&#10;                &lt;/div&gt;&#10;&#10;                {/* Revenue Analytics Section */}&#10;                &lt;div className=&quot;bg-gradient-to-br from-slate-50 to-gray-100 dark:from-slate-900/50 dark:to-gray-900/50 rounded-3xl p-8 mb-12 border border-slate-200 dark:border-slate-700&quot;&gt;&#10;                  &lt;div className=&quot;text-center mb-8&quot;&gt;&#10;                    &lt;h3 className=&quot;text-3xl font-bold text-gray-900 dark:text-white mb-4&quot;&gt;&#10;                       Revenue Analytics&#10;                    &lt;/h3&gt;&#10;                    &lt;p className=&quot;text-gray-600 dark:text-gray-400&quot;&gt;&#10;                      Financial performance and growth metrics&#10;                    &lt;/p&gt;&#10;                  &lt;/div&gt;&#10;&#10;                  &lt;div className=&quot;grid grid-cols-1 md:grid-cols-3 gap-8&quot;&gt;&#10;                    {/* Monthly Revenue */}&#10;                    &lt;div className=&quot;group relative overflow-hidden rounded-2xl bg-white dark:bg-slate-800 p-6 shadow-lg hover:shadow-xl transition-all duration-300&quot;&gt;&#10;                      &lt;div className=&quot;absolute top-0 right-0 w-20 h-20 bg-gradient-to-br from-emerald-400/20 to-green-400/20 rounded-full transform translate-x-10 -translate-y-10 group-hover:scale-150 transition-transform duration-500&quot;&gt;&lt;/div&gt;&#10;                      &lt;div className=&quot;relative z-10&quot;&gt;&#10;                        &lt;div className=&quot;flex items-center justify-between mb-4&quot;&gt;&#10;                          &lt;div className=&quot;w-12 h-12 bg-emerald-100 dark:bg-emerald-900/30 rounded-xl flex items-center justify-center&quot;&gt;&#10;                            &lt;i className=&quot;fas fa-calendar-alt text-emerald-600 dark:text-emerald-400&quot;&gt;&lt;/i&gt;&#10;                          &lt;/div&gt;&#10;                          &lt;span className=&quot;text-xs bg-emerald-100 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400 px-2 py-1 rounded-full font-medium&quot;&gt;&#10;                            This Month&#10;                          &lt;/span&gt;&#10;                        &lt;/div&gt;&#10;                        &lt;div className=&quot;text-3xl font-bold text-emerald-600 dark:text-emerald-400 mb-2&quot;&gt;&#10;                          ${stats.monthlyRevenue}&#10;                        &lt;/div&gt;&#10;                        &lt;h4 className=&quot;text-lg font-semibold text-gray-900 dark:text-white mb-1&quot;&gt;&#10;                          Monthly Revenue&#10;                        &lt;/h4&gt;&#10;                        &lt;p className=&quot;text-gray-500 dark:text-gray-400 text-sm&quot;&gt;&#10;                          Current month earnings&#10;                        &lt;/p&gt;&#10;                      &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    {/* Total Revenue */}&#10;                    &lt;div className=&quot;group relative overflow-hidden rounded-2xl bg-white dark:bg-slate-800 p-6 shadow-lg hover:shadow-xl transition-all duration-300&quot;&gt;&#10;                      &lt;div className=&quot;absolute bottom-0 left-0 w-24 h-24 bg-gradient-to-br from-blue-400/20 to-cyan-400/20 rounded-full transform -translate-x-12 translate-y-12 group-hover:scale-150 transition-transform duration-500&quot;&gt;&lt;/div&gt;&#10;                      &lt;div className=&quot;relative z-10&quot;&gt;&#10;                        &lt;div className=&quot;flex items-center justify-between mb-4&quot;&gt;&#10;                          &lt;div className=&quot;w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-xl flex items-center justify-center&quot;&gt;&#10;                            &lt;i className=&quot;fas fa-chart-line text-blue-600 dark:text-blue-400&quot;&gt;&lt;/i&gt;&#10;                          &lt;/div&gt;&#10;                          &lt;span className=&quot;text-xs bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 px-2 py-1 rounded-full font-medium&quot;&gt;&#10;                            All Time&#10;                          &lt;/span&gt;&#10;                        &lt;/div&gt;&#10;                        &lt;div className=&quot;text-3xl font-bold text-blue-600 dark:text-blue-400 mb-2&quot;&gt;&#10;                          ${stats.totalRevenue}&#10;                        &lt;/div&gt;&#10;                        &lt;h4 className=&quot;text-lg font-semibold text-gray-900 dark:text-white mb-1&quot;&gt;&#10;                          Total Revenue&#10;                        &lt;/h4&gt;&#10;                        &lt;p className=&quot;text-gray-500 dark:text-gray-400 text-sm&quot;&gt;&#10;                          Lifetime earnings&#10;                        &lt;/p&gt;&#10;                      &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    {/* Inventory Value */}&#10;                    &lt;div className=&quot;group relative overflow-hidden rounded-2xl bg-white dark:bg-slate-800 p-6 shadow-lg hover:shadow-xl transition-all duration-300&quot;&gt;&#10;                      &lt;div className=&quot;absolute top-1/2 right-0 w-16 h-16 bg-gradient-to-br from-purple-400/20 to-pink-400/20 rounded-full transform translate-x-8 -translate-y-8 group-hover:scale-150 transition-transform duration-500&quot;&gt;&lt;/div&gt;&#10;                      &lt;div className=&quot;relative z-10&quot;&gt;&#10;                        &lt;div className=&quot;flex items-center justify-between mb-4&quot;&gt;&#10;                          &lt;div className=&quot;w-12 h-12 bg-purple-100 dark:bg-purple-900/30 rounded-xl flex items-center justify-center&quot;&gt;&#10;                            &lt;i className=&quot;fas fa-warehouse text-purple-600 dark:text-purple-400&quot;&gt;&lt;/i&gt;&#10;                          &lt;/div&gt;&#10;                          &lt;span className=&quot;text-xs bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400 px-2 py-1 rounded-full font-medium&quot;&gt;&#10;                            Current&#10;                          &lt;/span&gt;&#10;                        &lt;/div&gt;&#10;                        &lt;div className=&quot;text-3xl font-bold text-purple-600 dark:text-purple-400 mb-2&quot;&gt;&#10;                          ${stats.inventoryValue}&#10;                        &lt;/div&gt;&#10;                        &lt;h4 className=&quot;text-lg font-semibold text-gray-900 dark:text-white mb-1&quot;&gt;&#10;                          Inventory Value&#10;                        &lt;/h4&gt;&#10;                        &lt;p className=&quot;text-gray-500 dark:text-gray-400 text-sm&quot;&gt;&#10;                          Stock worth&#10;                        &lt;/p&gt;&#10;                      &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                  &lt;/div&gt;&#10;                &lt;/div&gt;&#10;&#10;                {/* Farming Methods Showcase */}&#10;                {stats.farmingMethods &amp;&amp; stats.farmingMethods.length &gt; 0 &amp;&amp; (&#10;                  &lt;div className=&quot;mb-12&quot;&gt;&#10;                    &lt;div className=&quot;text-center mb-8&quot;&gt;&#10;                      &lt;h3 className=&quot;text-3xl font-bold text-gray-900 dark:text-white mb-4&quot;&gt;&#10;                         Our Farming Philosophy&#10;                      &lt;/h3&gt;&#10;                      &lt;p className=&quot;text-gray-600 dark:text-gray-400&quot;&gt;&#10;                        Sustainable and innovative agricultural practices&#10;                      &lt;/p&gt;&#10;                    &lt;/div&gt;&#10;                    &lt;div className=&quot;grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6&quot;&gt;&#10;                      {stats.farmingMethods.map((method, index) =&gt; {&#10;                        const config = methodConfig[method] || {&#10;                          icon: &quot;fas fa-tractor&quot;,&#10;                          color: &quot;text-gray-600 dark:text-gray-400&quot;,&#10;                          description: &quot;Specialized farming technique&quot;,&#10;                        };&#10;&#10;                        return (&#10;                          &lt;div&#10;                            key={index}&#10;                            className=&quot;group relative overflow-hidden rounded-2xl bg-white dark:bg-gray-800 p-8 shadow-lg hover:shadow-2xl transition-all duration-500 border-t-4 border-green-500&quot;&#10;                          &gt;&#10;                            &lt;div className=&quot;absolute inset-0 bg-gradient-to-br from-green-50/50 to-emerald-50/50 dark:from-green-900/10 dark:to-emerald-900/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300&quot;&gt;&lt;/div&gt;&#10;                            &lt;div className=&quot;relative z-10 text-center&quot;&gt;&#10;                              &lt;div className=&quot;w-20 h-20 bg-gradient-to-br from-green-100 to-emerald-100 dark:from-green-900/30 dark:to-emerald-900/30 rounded-2xl flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform duration-300&quot;&gt;&#10;                                &lt;i&#10;                                  className={`${config.icon} text-4xl ${config.color}`}&#10;                                &gt;&lt;/i&gt;&#10;                              &lt;/div&gt;&#10;                              &lt;h4 className=&quot;text-xl font-bold text-gray-900 dark:text-white mb-3&quot;&gt;&#10;                                {method}&#10;                              &lt;/h4&gt;&#10;                              &lt;p className=&quot;text-gray-600 dark:text-gray-400 leading-relaxed&quot;&gt;&#10;                                {config.description}&#10;                              &lt;/p&gt;&#10;                            &lt;/div&gt;&#10;                          &lt;/div&gt;&#10;                        );&#10;                      })}&#10;                    &lt;/div&gt;&#10;                  &lt;/div&gt;&#10;                )}&#10;&#10;                {/* Growth Metrics Footer */}&#10;                &lt;div className=&quot;bg-gradient-to-r from-green-600 to-emerald-600 rounded-3xl p-8 text-white&quot;&gt;&#10;                  &lt;div className=&quot;text-center&quot;&gt;&#10;                    &lt;h3 className=&quot;text-2xl font-bold mb-6&quot;&gt;&#10;                       Growth Trajectory&#10;                    &lt;/h3&gt;&#10;                    &lt;div className=&quot;grid grid-cols-1 md:grid-cols-3 gap-8&quot;&gt;&#10;                      &lt;div className=&quot;group&quot;&gt;&#10;                        &lt;div className=&quot;text-4xl font-bold mb-2 group-hover:scale-110 transition-transform duration-300&quot;&gt;&#10;                          {(&#10;                            (stats.activeProducts / stats.totalProducts) *&#10;                            100&#10;                          ).toFixed(0)}&#10;                          %&#10;                        &lt;/div&gt;&#10;                        &lt;div className=&quot;text-white/90&quot;&gt;&#10;                          Product Availability&#10;                        &lt;/div&gt;&#10;                      &lt;/div&gt;&#10;                      &lt;div className=&quot;group&quot;&gt;&#10;                        &lt;div className=&quot;text-4xl font-bold mb-2 group-hover:scale-110 transition-transform duration-300&quot;&gt;&#10;                          {stats.familiesServed}+&#10;                        &lt;/div&gt;&#10;                        &lt;div className=&quot;text-white/90&quot;&gt;Community Reach&lt;/div&gt;&#10;                      &lt;/div&gt;&#10;                      &lt;div className=&quot;group&quot;&gt;&#10;                        &lt;div className=&quot;text-4xl font-bold mb-2 group-hover:scale-110 transition-transform duration-300&quot;&gt;&#10;                          {stats.averageRating || &quot;4.8&quot;}★&#10;                        &lt;/div&gt;&#10;                        &lt;div className=&quot;text-white/90&quot;&gt;&#10;                          Customer Satisfaction&#10;                        &lt;/div&gt;&#10;                      &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                  &lt;/div&gt;&#10;                &lt;/div&gt;&#10;              &lt;/div&gt;&#10;            )}&#10;          &lt;/div&gt;&#10;        &lt;/div&gt;&#10;&#10;        {/* Dynamic Action Section */}&#10;        &lt;div className=&quot;bg-gradient-to-r from-green-600 to-emerald-600&quot;&gt;&#10;          &lt;div className=&quot;max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16&quot;&gt;&#10;            &lt;div className=&quot;text-center&quot;&gt;&#10;              &lt;h2 className=&quot;text-4xl font-bold text-white mb-8&quot;&gt;&#10;                Ready to Experience {farmer.farmName || `${farmer.name}'s Farm`}&#10;                ?&#10;              &lt;/h2&gt;&#10;              &lt;div className=&quot;grid grid-cols-1 md:grid-cols-3 gap-8&quot;&gt;&#10;                &lt;Link&#10;                  href={`/farmers/${farmerId}/details`}&#10;                  className=&quot;group bg-white/20 backdrop-blur-sm hover:bg-white/30 text-white p-8 rounded-2xl transition-all duration-300 border border-white/30 transform hover:scale-105&quot;&#10;                &gt;&#10;                  &lt;i className=&quot;fas fa-store text-4xl mb-4 group-hover:scale-110 transition-transform&quot;&gt;&lt;/i&gt;&#10;                  &lt;h3 className=&quot;text-xl font-bold mb-2&quot;&gt;&#10;                    Browse {stats.totalProducts} Products&#10;                  &lt;/h3&gt;&#10;                  &lt;p className=&quot;text-white/90&quot;&gt;&#10;                    Explore our full product catalog&#10;                  &lt;/p&gt;&#10;                &lt;/Link&gt;&#10;&#10;                &lt;div className=&quot;group bg-white/20 backdrop-blur-sm hover:bg-white/30 text-white p-8 rounded-2xl transition-all duration-300 border border-white/30 transform hover:scale-105 cursor-pointer&quot;&gt;&#10;                  &lt;i className=&quot;fas fa-star text-4xl mb-4 group-hover:scale-110 transition-transform&quot;&gt;&lt;/i&gt;&#10;                  &lt;h3 className=&quot;text-xl font-bold mb-2&quot;&gt;&#10;                    {stats.averageRating}/5 Rating&#10;                  &lt;/h3&gt;&#10;                  &lt;p className=&quot;text-white/90&quot;&gt;See what customers say&lt;/p&gt;&#10;                &lt;/div&gt;&#10;&#10;                &lt;div className=&quot;group bg-white/20 backdrop-blur-sm hover:bg-white/30 text-white p-8 rounded-2xl transition-all duration-300 border border-white/30 transform hover:scale-105 cursor-pointer&quot;&gt;&#10;                  &lt;i className=&quot;fas fa-envelope text-4xl mb-4 group-hover:scale-110 transition-transform&quot;&gt;&lt;/i&gt;&#10;                  &lt;h3 className=&quot;text-xl font-bold mb-2&quot;&gt;&#10;                    Contact {farmer.name}&#10;                  &lt;/h3&gt;&#10;                  &lt;p className=&quot;text-white/90&quot;&gt;Get in touch with questions&lt;/p&gt;&#10;                &lt;/div&gt;&#10;              &lt;/div&gt;&#10;            &lt;/div&gt;&#10;          &lt;/div&gt;&#10;        &lt;/div&gt;&#10;      &lt;/div&gt;&#10;      &lt;Footer /&gt;&#10;    &lt;/&gt;&#10;  );&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/profile/farmer.js">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/profile/farmer.js" />
              <option name="updatedContent" value="&quot;use client&quot;;&#10;&#10;import { useState, useEffect } from &quot;react&quot;;&#10;import { useAuth } from &quot;../../contexts/AuthContext&quot;;&#10;import { useRouter } from &quot;next/navigation&quot;;&#10;import { useTheme } from &quot;../../contexts/ThemeContext&quot;;&#10;&#10;export default function FarmerProfilePage() {&#10;  const { user, isAuthenticated, updateUser } = useAuth();&#10;  const { isDarkMode } = useTheme();&#10;  const router = useRouter();&#10;&#10;  const [activeTab, setActiveTab] = useState(&quot;personal&quot;);&#10;  const [loading, setLoading] = useState(false);&#10;  const [message, setMessage] = useState({ type: &quot;&quot;, text: &quot;&quot; });&#10;  const [profileData, setProfileData] = useState({&#10;    name: &quot;&quot;,&#10;    email: &quot;&quot;,&#10;    phone: &quot;&quot;,&#10;    farmInfo: {&#10;      farmName: &quot;&quot;,&#10;      farmDescription: &quot;&quot;,&#10;      farmSize: &quot;&quot;,&#10;      farmType: &quot;&quot;,&#10;      certifications: [],&#10;      establishedYear: &quot;&quot;,&#10;      farmingMethods: [],&#10;    },&#10;    address: {&#10;      street: &quot;&quot;,&#10;      city: &quot;&quot;,&#10;      state: &quot;&quot;,&#10;      zipCode: &quot;&quot;,&#10;      country: &quot;&quot;,&#10;    },&#10;    businessInfo: {&#10;      businessLicense: &quot;&quot;,&#10;      taxId: &quot;&quot;,&#10;      deliveryRadius: &quot;&quot;,&#10;      minimumOrder: &quot;&quot;,&#10;      website: &quot;&quot;,&#10;      socialMedia: {&#10;        facebook: &quot;&quot;,&#10;        instagram: &quot;&quot;,&#10;        twitter: &quot;&quot;,&#10;      },&#10;    },&#10;    preferences: {&#10;      notifications: {&#10;        email: true,&#10;        sms: false,&#10;        orderUpdates: true,&#10;        lowStockAlerts: true,&#10;        customerMessages: true,&#10;        marketingUpdates: false,&#10;      },&#10;      language: &quot;en&quot;,&#10;      currency: &quot;USD&quot;,&#10;      autoAcceptOrders: false,&#10;      showFarmLocation: true,&#10;    },&#10;    security: {&#10;      currentPassword: &quot;&quot;,&#10;      newPassword: &quot;&quot;,&#10;      confirmPassword: &quot;&quot;,&#10;    },&#10;  });&#10;&#10;  // Redirect if not authenticated or not a farmer&#10;  useEffect(() =&gt; {&#10;    if (!isAuthenticated) {&#10;      router.push(&quot;/login&quot;);&#10;      return;&#10;    }&#10;&#10;    // Check if user is a farmer, if not redirect to regular profile&#10;    if (user &amp;&amp; user.role !== &quot;farmer&quot;) {&#10;      router.push(&quot;/profile&quot;);&#10;      return;&#10;    }&#10;&#10;    // Initialize profile data with user data&#10;    if (user) {&#10;      setProfileData((prev) =&gt; ({&#10;        ...prev,&#10;        name: user.name || &quot;&quot;,&#10;        email: user.email || &quot;&quot;,&#10;        phone: user.phone || &quot;&quot;,&#10;        address: user.address || prev.address,&#10;        farmInfo: user.farmInfo || prev.farmInfo,&#10;        businessInfo: user.businessInfo || prev.businessInfo,&#10;        preferences: user.preferences || prev.preferences,&#10;      }));&#10;    }&#10;  }, [user, isAuthenticated, router]);&#10;&#10;  const handleInputChange = (field, value) =&gt; {&#10;    setProfileData((prev) =&gt; ({&#10;      ...prev,&#10;      [field]: value,&#10;    }));&#10;  };&#10;&#10;  const handleNestedChange = (section, subsection, field, value) =&gt; {&#10;    if (subsection) {&#10;      setProfileData((prev) =&gt; ({&#10;        ...prev,&#10;        [section]: {&#10;          ...prev[section],&#10;          [subsection]: {&#10;            ...prev[section][subsection],&#10;            [field]: value,&#10;          },&#10;        },&#10;      }));&#10;    } else {&#10;      setProfileData((prev) =&gt; ({&#10;        ...prev,&#10;        [section]: {&#10;          ...prev[section],&#10;          [field]: value,&#10;        },&#10;      }));&#10;    }&#10;  };&#10;&#10;  const handleArrayChange = (section, field, value) =&gt; {&#10;    const arrayValue = value.split(&quot;,&quot;).map(item =&gt; item.trim()).filter(item =&gt; item);&#10;    setProfileData((prev) =&gt; ({&#10;      ...prev,&#10;      [section]: {&#10;        ...prev[section],&#10;        [field]: arrayValue,&#10;      },&#10;    }));&#10;  };&#10;&#10;  const handlePersonalInfoUpdate = async () =&gt; {&#10;    try {&#10;      setLoading(true);&#10;      setMessage({ type: &quot;&quot;, text: &quot;&quot; });&#10;&#10;      const response = await fetch(&quot;/api/auth/users&quot;, {&#10;        method: &quot;PUT&quot;,&#10;        headers: { &quot;Content-Type&quot;: &quot;application/json&quot; },&#10;        body: JSON.stringify({&#10;          name: profileData.name,&#10;          phone: profileData.phone,&#10;          address: profileData.address,&#10;          farmInfo: profileData.farmInfo,&#10;          businessInfo: profileData.businessInfo,&#10;          preferences: profileData.preferences,&#10;        }),&#10;      });&#10;&#10;      if (response.ok) {&#10;        const updatedUser = await response.json();&#10;        updateUser(updatedUser.user);&#10;        setMessage({ type: &quot;success&quot;, text: &quot;Profile updated successfully!&quot; });&#10;&#10;        // Also update localStorage to persist data&#10;        localStorage.setItem(&#10;          &quot;farmfresh_user&quot;,&#10;          JSON.stringify(updatedUser.user),&#10;        );&#10;      } else {&#10;        const errorData = await response.json();&#10;        setMessage({&#10;          type: &quot;error&quot;,&#10;          text: errorData.error || &quot;Failed to update profile&quot;,&#10;        });&#10;      }&#10;    } catch (error) {&#10;      setMessage({&#10;        type: &quot;error&quot;,&#10;        text: &quot;An error occurred while updating profile&quot;,&#10;      });&#10;    } finally {&#10;      setLoading(false);&#10;    }&#10;  };&#10;&#10;  const handlePasswordChange = async () =&gt; {&#10;    try {&#10;      setLoading(true);&#10;      setMessage({ type: &quot;&quot;, text: &quot;&quot; });&#10;&#10;      if (&#10;        profileData.security.newPassword !==&#10;        profileData.security.confirmPassword&#10;      ) {&#10;        setMessage({ type: &quot;error&quot;, text: &quot;New passwords don't match&quot; });&#10;        return;&#10;      }&#10;&#10;      if (profileData.security.newPassword.length &lt; 6) {&#10;        setMessage({&#10;          type: &quot;error&quot;,&#10;          text: &quot;Password must be at least 6 characters long&quot;,&#10;        });&#10;        return;&#10;      }&#10;&#10;      const response = await fetch(&quot;/api/auth/users&quot;, {&#10;        method: &quot;PUT&quot;,&#10;        headers: { &quot;Content-Type&quot;: &quot;application/json&quot; },&#10;        body: JSON.stringify({&#10;          currentPassword: profileData.security.currentPassword,&#10;          newPassword: profileData.security.newPassword,&#10;        }),&#10;      });&#10;&#10;      if (response.ok) {&#10;        setMessage({ type: &quot;success&quot;, text: &quot;Password updated successfully!&quot; });&#10;        setProfileData((prev) =&gt; ({&#10;          ...prev,&#10;          security: {&#10;            currentPassword: &quot;&quot;,&#10;            newPassword: &quot;&quot;,&#10;            confirmPassword: &quot;&quot;,&#10;          },&#10;        }));&#10;      } else {&#10;        const errorData = await response.json();&#10;        setMessage({&#10;          type: &quot;error&quot;,&#10;          text: errorData.error || &quot;Failed to update password&quot;,&#10;        });&#10;      }&#10;    } catch (error) {&#10;      setMessage({&#10;        type: &quot;error&quot;,&#10;        text: &quot;An error occurred while updating password&quot;,&#10;      });&#10;    } finally {&#10;      setLoading(false);&#10;    }&#10;  };&#10;&#10;  const tabs = [&#10;    { id: &quot;personal&quot;, label: &quot;Personal Info&quot;, icon: &quot;fas fa-user&quot; },&#10;    { id: &quot;farm&quot;, label: &quot;Farm Info&quot;, icon: &quot;fas fa-seedling&quot; },&#10;    { id: &quot;business&quot;, label: &quot;Business&quot;, icon: &quot;fas fa-building&quot; },&#10;    { id: &quot;address&quot;, label: &quot;Address&quot;, icon: &quot;fas fa-map-marker-alt&quot; },&#10;    { id: &quot;preferences&quot;, label: &quot;Preferences&quot;, icon: &quot;fas fa-cog&quot; },&#10;    { id: &quot;security&quot;, label: &quot;Security&quot;, icon: &quot;fas fa-shield-alt&quot; },&#10;  ];&#10;&#10;  if (!isAuthenticated) {&#10;    return (&#10;      &lt;div className=&quot;min-h-screen flex items-center justify-center&quot;&gt;&#10;        &lt;div className=&quot;animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600&quot;&gt;&lt;/div&gt;&#10;      &lt;/div&gt;&#10;    );&#10;  }&#10;&#10;  return (&#10;    &lt;div className=&quot;min-h-screen bg-gray-50 dark:bg-gray-900 py-8&quot;&gt;&#10;      &lt;div className=&quot;max-w-7xl mx-auto px-4 sm:px-6 lg:px-8&quot;&gt;&#10;        {/* Header */}&#10;        &lt;div className=&quot;mb-8&quot;&gt;&#10;          &lt;h1 className=&quot;text-3xl font-bold text-gray-900 dark:text-white&quot;&gt;&#10;            Farmer Profile Settings&#10;          &lt;/h1&gt;&#10;          &lt;p className=&quot;mt-2 text-gray-600 dark:text-gray-400&quot;&gt;&#10;            Manage your farmer account settings and farm information&#10;          &lt;/p&gt;&#10;        &lt;/div&gt;&#10;&#10;        &lt;div className=&quot;bg-white dark:bg-gray-800 rounded-lg shadow-sm&quot;&gt;&#10;          {/* Tab Navigation */}&#10;          &lt;div className=&quot;border-b border-gray-200 dark:border-gray-700&quot;&gt;&#10;            &lt;nav className=&quot;flex space-x-8 px-6 overflow-x-auto&quot;&gt;&#10;              {tabs.map((tab) =&gt; (&#10;                &lt;button&#10;                  key={tab.id}&#10;                  onClick={() =&gt; setActiveTab(tab.id)}&#10;                  className={`py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 whitespace-nowrap ${&#10;                    activeTab === tab.id&#10;                      ? &quot;border-primary-500 text-primary-600 dark:text-primary-400&quot;&#10;                      : &quot;border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300&quot;&#10;                  }`}&#10;                &gt;&#10;                  &lt;i className={tab.icon}&gt;&lt;/i&gt;&#10;                  &lt;span&gt;{tab.label}&lt;/span&gt;&#10;                &lt;/button&gt;&#10;              ))}&#10;            &lt;/nav&gt;&#10;          &lt;/div&gt;&#10;&#10;          {/* Tab Content */}&#10;          &lt;div className=&quot;p-6&quot;&gt;&#10;            {message.text &amp;&amp; (&#10;              &lt;div&#10;                className={`mb-4 p-4 rounded-md ${&#10;                  message.type === &quot;success&quot;&#10;                    ? &quot;bg-green-50 dark:bg-green-900 text-green-700 dark:text-green-300 border border-green-200 dark:border-green-800&quot;&#10;                    : &quot;bg-red-50 dark:bg-red-900 text-red-700 dark:text-red-300 border border-red-200 dark:border-red-800&quot;&#10;                }`}&#10;              &gt;&#10;                {message.text}&#10;              &lt;/div&gt;&#10;            )}&#10;&#10;            {/* Personal Information Tab */}&#10;            {activeTab === &quot;personal&quot; &amp;&amp; (&#10;              &lt;div className=&quot;space-y-6&quot;&gt;&#10;                &lt;h3 className=&quot;text-lg font-medium text-gray-900 dark:text-white&quot;&gt;&#10;                  Personal Information&#10;                &lt;/h3&gt;&#10;&#10;                &lt;div className=&quot;grid grid-cols-1 md:grid-cols-2 gap-6&quot;&gt;&#10;                  &lt;div&gt;&#10;                    &lt;label className=&quot;block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2&quot;&gt;&#10;                      Full Name&#10;                    &lt;/label&gt;&#10;                    &lt;input&#10;                      type=&quot;text&quot;&#10;                      value={profileData.name}&#10;                      onChange={(e) =&gt;&#10;                        handleInputChange(&quot;name&quot;, e.target.value)&#10;                      }&#10;                      className=&quot;w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white&quot;&#10;                    /&gt;&#10;                  &lt;/div&gt;&#10;&#10;                  &lt;div&gt;&#10;                    &lt;label className=&quot;block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2&quot;&gt;&#10;                      Email Address&#10;                    &lt;/label&gt;&#10;                    &lt;input&#10;                      type=&quot;email&quot;&#10;                      value={profileData.email}&#10;                      disabled&#10;                      className=&quot;w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-gray-50 dark:bg-gray-600 text-gray-500 dark:text-gray-400&quot;&#10;                    /&gt;&#10;                    &lt;p className=&quot;mt-1 text-xs text-gray-500 dark:text-gray-400&quot;&gt;&#10;                      Email cannot be changed&#10;                    &lt;/p&gt;&#10;                  &lt;/div&gt;&#10;&#10;                  &lt;div&gt;&#10;                    &lt;label className=&quot;block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2&quot;&gt;&#10;                      Phone Number&#10;                    &lt;/label&gt;&#10;                    &lt;input&#10;                      type=&quot;tel&quot;&#10;                      value={profileData.phone}&#10;                      onChange={(e) =&gt;&#10;                        handleInputChange(&quot;phone&quot;, e.target.value)&#10;                      }&#10;                      className=&quot;w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white&quot;&#10;                    /&gt;&#10;                  &lt;/div&gt;&#10;                &lt;/div&gt;&#10;&#10;                &lt;button&#10;                  onClick={handlePersonalInfoUpdate}&#10;                  disabled={loading}&#10;                  className=&quot;bg-primary-600 text-white px-6 py-2 rounded-md hover:bg-primary-700 focus:ring-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed&quot;&#10;                &gt;&#10;                  {loading ? &quot;Saving...&quot; : &quot;Save Changes&quot;}&#10;                &lt;/button&gt;&#10;              &lt;/div&gt;&#10;            )}&#10;&#10;            {/* Farm Information Tab */}&#10;            {activeTab === &quot;farm&quot; &amp;&amp; (&#10;              &lt;div className=&quot;space-y-6&quot;&gt;&#10;                &lt;h3 className=&quot;text-lg font-medium text-gray-900 dark:text-white&quot;&gt;&#10;                  Farm Information&#10;                &lt;/h3&gt;&#10;&#10;                &lt;div className=&quot;grid grid-cols-1 md:grid-cols-2 gap-6&quot;&gt;&#10;                  &lt;div&gt;&#10;                    &lt;label className=&quot;block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2&quot;&gt;&#10;                      Farm Name *&#10;                    &lt;/label&gt;&#10;                    &lt;input&#10;                      type=&quot;text&quot;&#10;                      value={profileData.farmInfo.farmName}&#10;                      onChange={(e) =&gt;&#10;                        handleNestedChange(&quot;farmInfo&quot;, &quot;&quot;, &quot;farmName&quot;, e.target.value)&#10;                      }&#10;                      className=&quot;w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white&quot;&#10;                      placeholder=&quot;Green Valley Farm&quot;&#10;                    /&gt;&#10;                  &lt;/div&gt;&#10;&#10;                  &lt;div&gt;&#10;                    &lt;label className=&quot;block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2&quot;&gt;&#10;                      Farm Type&#10;                    &lt;/label&gt;&#10;                    &lt;select&#10;                      value={profileData.farmInfo.farmType}&#10;                      onChange={(e) =&gt;&#10;                        handleNestedChange(&quot;farmInfo&quot;, &quot;&quot;, &quot;farmType&quot;, e.target.value)&#10;                      }&#10;                      className=&quot;w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white&quot;&#10;                    &gt;&#10;                      &lt;option value=&quot;&quot;&gt;Select Farm Type&lt;/option&gt;&#10;                      &lt;option value=&quot;organic&quot;&gt;Organic Farm&lt;/option&gt;&#10;                      &lt;option value=&quot;conventional&quot;&gt;Conventional Farm&lt;/option&gt;&#10;                      &lt;option value=&quot;hydroponic&quot;&gt;Hydroponic Farm&lt;/option&gt;&#10;                      &lt;option value=&quot;greenhouse&quot;&gt;Greenhouse Farm&lt;/option&gt;&#10;                      &lt;option value=&quot;mixed&quot;&gt;Mixed Farm&lt;/option&gt;&#10;                    &lt;/select&gt;&#10;                  &lt;/div&gt;&#10;&#10;                  &lt;div&gt;&#10;                    &lt;label className=&quot;block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2&quot;&gt;&#10;                      Farm Size (acres)&#10;                    &lt;/label&gt;&#10;                    &lt;input&#10;                      type=&quot;number&quot;&#10;                      value={profileData.farmInfo.farmSize}&#10;                      onChange={(e) =&gt;&#10;                        handleNestedChange(&quot;farmInfo&quot;, &quot;&quot;, &quot;farmSize&quot;, e.target.value)&#10;                      }&#10;                      className=&quot;w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white&quot;&#10;                      placeholder=&quot;10&quot;&#10;                    /&gt;&#10;                  &lt;/div&gt;&#10;&#10;                  &lt;div&gt;&#10;                    &lt;label className=&quot;block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2&quot;&gt;&#10;                      Established Year&#10;                    &lt;/label&gt;&#10;                    &lt;input&#10;                      type=&quot;number&quot;&#10;                      value={profileData.farmInfo.establishedYear}&#10;                      onChange={(e) =&gt;&#10;                        handleNestedChange(&quot;farmInfo&quot;, &quot;&quot;, &quot;establishedYear&quot;, e.target.value)&#10;                      }&#10;                      className=&quot;w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white&quot;&#10;                      placeholder=&quot;2020&quot;&#10;                    /&gt;&#10;                  &lt;/div&gt;&#10;&#10;                  &lt;div className=&quot;md:col-span-2&quot;&gt;&#10;                    &lt;label className=&quot;block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2&quot;&gt;&#10;                      Farm Description&#10;                    &lt;/label&gt;&#10;                    &lt;textarea&#10;                      value={profileData.farmInfo.farmDescription}&#10;                      onChange={(e) =&gt;&#10;                        handleNestedChange(&quot;farmInfo&quot;, &quot;&quot;, &quot;farmDescription&quot;, e.target.value)&#10;                      }&#10;                      rows={4}&#10;                      className=&quot;w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white&quot;&#10;                      placeholder=&quot;Tell customers about your farm, your farming philosophy, and what makes your products special...&quot;&#10;                    /&gt;&#10;                  &lt;/div&gt;&#10;&#10;                  &lt;div&gt;&#10;                    &lt;label className=&quot;block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2&quot;&gt;&#10;                      Certifications (comma-separated)&#10;                    &lt;/label&gt;&#10;                    &lt;input&#10;                      type=&quot;text&quot;&#10;                      value={profileData.farmInfo.certifications.join(&quot;, &quot;)}&#10;                      onChange={(e) =&gt;&#10;                        handleArrayChange(&quot;farmInfo&quot;, &quot;certifications&quot;, e.target.value)&#10;                      }&#10;                      className=&quot;w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white&quot;&#10;                      placeholder=&quot;Organic Certified, Non-GMO, USDA Organic&quot;&#10;                    /&gt;&#10;                  &lt;/div&gt;&#10;&#10;                  &lt;div&gt;&#10;                    &lt;label className=&quot;block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2&quot;&gt;&#10;                      Farming Methods (comma-separated)&#10;                    &lt;/label&gt;&#10;                    &lt;input&#10;                      type=&quot;text&quot;&#10;                      value={profileData.farmInfo.farmingMethods.join(&quot;, &quot;)}&#10;                      onChange={(e) =&gt;&#10;                        handleArrayChange(&quot;farmInfo&quot;, &quot;farmingMethods&quot;, e.target.value)&#10;                      }&#10;                      className=&quot;w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white&quot;&#10;                      placeholder=&quot;Sustainable, Pesticide-free, Crop Rotation&quot;&#10;                    /&gt;&#10;                  &lt;/div&gt;&#10;                &lt;/div&gt;&#10;&#10;                &lt;button&#10;                  onClick={handlePersonalInfoUpdate}&#10;                  disabled={loading}&#10;                  className=&quot;bg-primary-600 text-white px-6 py-2 rounded-md hover:bg-primary-700 focus:ring-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed&quot;&#10;                &gt;&#10;                  {loading ? &quot;Saving...&quot; : &quot;Save Farm Information&quot;}&#10;                &lt;/button&gt;&#10;              &lt;/div&gt;&#10;            )}&#10;&#10;            {/* Business Information Tab */}&#10;            {activeTab === &quot;business&quot; &amp;&amp; (&#10;              &lt;div className=&quot;space-y-6&quot;&gt;&#10;                &lt;h3 className=&quot;text-lg font-medium text-gray-900 dark:text-white&quot;&gt;&#10;                  Business Information&#10;                &lt;/h3&gt;&#10;&#10;                &lt;div className=&quot;grid grid-cols-1 md:grid-cols-2 gap-6&quot;&gt;&#10;                  &lt;div&gt;&#10;                    &lt;label className=&quot;block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2&quot;&gt;&#10;                      Business License&#10;                    &lt;/label&gt;&#10;                    &lt;input&#10;                      type=&quot;text&quot;&#10;                      value={profileData.businessInfo.businessLicense}&#10;                      onChange={(e) =&gt;&#10;                        handleNestedChange(&quot;businessInfo&quot;, &quot;&quot;, &quot;businessLicense&quot;, e.target.value)&#10;                      }&#10;                      className=&quot;w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white&quot;&#10;                    /&gt;&#10;                  &lt;/div&gt;&#10;&#10;                  &lt;div&gt;&#10;                    &lt;label className=&quot;block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2&quot;&gt;&#10;                      Tax ID&#10;                    &lt;/label&gt;&#10;                    &lt;input&#10;                      type=&quot;text&quot;&#10;                      value={profileData.businessInfo.taxId}&#10;                      onChange={(e) =&gt;&#10;                        handleNestedChange(&quot;businessInfo&quot;, &quot;&quot;, &quot;taxId&quot;, e.target.value)&#10;                      }&#10;                      className=&quot;w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white&quot;&#10;                    /&gt;&#10;                  &lt;/div&gt;&#10;&#10;                  &lt;div&gt;&#10;                    &lt;label className=&quot;block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2&quot;&gt;&#10;                      Delivery Radius (miles)&#10;                    &lt;/label&gt;&#10;                    &lt;input&#10;                      type=&quot;number&quot;&#10;                      value={profileData.businessInfo.deliveryRadius}&#10;                      onChange={(e) =&gt;&#10;                        handleNestedChange(&quot;businessInfo&quot;, &quot;&quot;, &quot;deliveryRadius&quot;, e.target.value)&#10;                      }&#10;                      className=&quot;w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white&quot;&#10;                      placeholder=&quot;25&quot;&#10;                    /&gt;&#10;                  &lt;/div&gt;&#10;&#10;                  &lt;div&gt;&#10;                    &lt;label className=&quot;block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2&quot;&gt;&#10;                      Minimum Order ($)&#10;                    &lt;/label&gt;&#10;                    &lt;input&#10;                      type=&quot;number&quot;&#10;                      value={profileData.businessInfo.minimumOrder}&#10;                      onChange={(e) =&gt;&#10;                        handleNestedChange(&quot;businessInfo&quot;, &quot;&quot;, &quot;minimumOrder&quot;, e.target.value)&#10;                      }&#10;                      className=&quot;w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white&quot;&#10;                      placeholder=&quot;25&quot;&#10;                    /&gt;&#10;                  &lt;/div&gt;&#10;&#10;                  &lt;div&gt;&#10;                    &lt;label className=&quot;block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2&quot;&gt;&#10;                      Website&#10;                    &lt;/label&gt;&#10;                    &lt;input&#10;                      type=&quot;url&quot;&#10;                      value={profileData.businessInfo.website}&#10;                      onChange={(e) =&gt;&#10;                        handleNestedChange(&quot;businessInfo&quot;, &quot;&quot;, &quot;website&quot;, e.target.value)&#10;                      }&#10;                      className=&quot;w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white&quot;&#10;                      placeholder=&quot;https://yourfarm.com&quot;&#10;                    /&gt;&#10;                  &lt;/div&gt;&#10;&#10;                  {/* Social Media */}&#10;                  &lt;div&gt;&#10;                    &lt;label className=&quot;block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2&quot;&gt;&#10;                      Facebook&#10;                    &lt;/label&gt;&#10;                    &lt;input&#10;                      type=&quot;url&quot;&#10;                      value={profileData.businessInfo.socialMedia.facebook}&#10;                      onChange={(e) =&gt;&#10;                        handleNestedChange(&quot;businessInfo&quot;, &quot;socialMedia&quot;, &quot;facebook&quot;, e.target.value)&#10;                      }&#10;                      className=&quot;w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white&quot;&#10;                      placeholder=&quot;https://facebook.com/yourfarm&quot;&#10;                    /&gt;&#10;                  &lt;/div&gt;&#10;&#10;                  &lt;div&gt;&#10;                    &lt;label className=&quot;block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2&quot;&gt;&#10;                      Instagram&#10;                    &lt;/label&gt;&#10;                    &lt;input&#10;                      type=&quot;url&quot;&#10;                      value={profileData.businessInfo.socialMedia.instagram}&#10;                      onChange={(e) =&gt;&#10;                        handleNestedChange(&quot;businessInfo&quot;, &quot;socialMedia&quot;, &quot;instagram&quot;, e.target.value)&#10;                      }&#10;                      className=&quot;w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white&quot;&#10;                      placeholder=&quot;https://instagram.com/yourfarm&quot;&#10;                    /&gt;&#10;                  &lt;/div&gt;&#10;&#10;                  &lt;div&gt;&#10;                    &lt;label className=&quot;block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2&quot;&gt;&#10;                      Twitter&#10;                    &lt;/label&gt;&#10;                    &lt;input&#10;                      type=&quot;url&quot;&#10;                      value={profileData.businessInfo.socialMedia.twitter}&#10;                      onChange={(e) =&gt;&#10;                        handleNestedChange(&quot;businessInfo&quot;, &quot;socialMedia&quot;, &quot;twitter&quot;, e.target.value)&#10;                      }&#10;                      className=&quot;w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white&quot;&#10;                      placeholder=&quot;https://twitter.com/yourfarm&quot;&#10;                    /&gt;&#10;                  &lt;/div&gt;&#10;                &lt;/div&gt;&#10;&#10;                &lt;button&#10;                  onClick={handlePersonalInfoUpdate}&#10;                  disabled={loading}&#10;                  className=&quot;bg-primary-600 text-white px-6 py-2 rounded-md hover:bg-primary-700 focus:ring-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed&quot;&#10;                &gt;&#10;                  {loading ? &quot;Saving...&quot; : &quot;Save Business Information&quot;}&#10;                &lt;/button&gt;&#10;              &lt;/div&gt;&#10;            )}&#10;&#10;            {/* Address Tab */}&#10;            {activeTab === &quot;address&quot; &amp;&amp; (&#10;              &lt;div className=&quot;space-y-6&quot;&gt;&#10;                &lt;h3 className=&quot;text-lg font-medium text-gray-900 dark:text-white&quot;&gt;&#10;                  Farm Address&#10;                &lt;/h3&gt;&#10;&#10;                &lt;div className=&quot;grid grid-cols-1 md:grid-cols-2 gap-6&quot;&gt;&#10;                  &lt;div className=&quot;md:col-span-2&quot;&gt;&#10;                    &lt;label className=&quot;block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2&quot;&gt;&#10;                      Street Address&#10;                    &lt;/label&gt;&#10;                    &lt;input&#10;                      type=&quot;text&quot;&#10;                      value={profileData.address.street}&#10;                      onChange={(e) =&gt;&#10;                        handleNestedChange(&quot;address&quot;, &quot;&quot;, &quot;street&quot;, e.target.value)&#10;                      }&#10;                      className=&quot;w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white&quot;&#10;                    /&gt;&#10;                  &lt;/div&gt;&#10;&#10;                  &lt;div&gt;&#10;                    &lt;label className=&quot;block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2&quot;&gt;&#10;                      City&#10;                    &lt;/label&gt;&#10;                    &lt;input&#10;                      type=&quot;text&quot;&#10;                      value={profileData.address.city}&#10;                      onChange={(e) =&gt;&#10;                        handleNestedChange(&quot;address&quot;, &quot;&quot;, &quot;city&quot;, e.target.value)&#10;                      }&#10;                      className=&quot;w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white&quot;&#10;                    /&gt;&#10;                  &lt;/div&gt;&#10;&#10;                  &lt;div&gt;&#10;                    &lt;label className=&quot;block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2&quot;&gt;&#10;                      State/Province&#10;                    &lt;/label&gt;&#10;                    &lt;input&#10;                      type=&quot;text&quot;&#10;                      value={profileData.address.state}&#10;                      onChange={(e) =&gt;&#10;                        handleNestedChange(&quot;address&quot;, &quot;&quot;, &quot;state&quot;, e.target.value)&#10;                      }&#10;                      className=&quot;w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white&quot;&#10;                    /&gt;&#10;                  &lt;/div&gt;&#10;&#10;                  &lt;div&gt;&#10;                    &lt;label className=&quot;block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2&quot;&gt;&#10;                      ZIP/Postal Code&#10;                    &lt;/label&gt;&#10;                    &lt;input&#10;                      type=&quot;text&quot;&#10;                      value={profileData.address.zipCode}&#10;                      onChange={(e) =&gt;&#10;                        handleNestedChange(&quot;address&quot;, &quot;&quot;, &quot;zipCode&quot;, e.target.value)&#10;                      }&#10;                      className=&quot;w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white&quot;&#10;                    /&gt;&#10;                  &lt;/div&gt;&#10;&#10;                  &lt;div&gt;&#10;                    &lt;label className=&quot;block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2&quot;&gt;&#10;                      Country&#10;                    &lt;/label&gt;&#10;                    &lt;select&#10;                      value={profileData.address.country}&#10;                      onChange={(e) =&gt;&#10;                        handleNestedChange(&quot;address&quot;, &quot;&quot;, &quot;country&quot;, e.target.value)&#10;                      }&#10;                      className=&quot;w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white&quot;&#10;                    &gt;&#10;                      &lt;option value=&quot;&quot;&gt;Select Country&lt;/option&gt;&#10;                      &lt;option value=&quot;US&quot;&gt;United States&lt;/option&gt;&#10;                      &lt;option value=&quot;CA&quot;&gt;Canada&lt;/option&gt;&#10;                      &lt;option value=&quot;UK&quot;&gt;United Kingdom&lt;/option&gt;&#10;                      &lt;option value=&quot;AU&quot;&gt;Australia&lt;/option&gt;&#10;                      &lt;option value=&quot;DE&quot;&gt;Germany&lt;/option&gt;&#10;                      &lt;option value=&quot;FR&quot;&gt;France&lt;/option&gt;&#10;                    &lt;/select&gt;&#10;                  &lt;/div&gt;&#10;                &lt;/div&gt;&#10;&#10;                &lt;button&#10;                  onClick={handlePersonalInfoUpdate}&#10;                  disabled={loading}&#10;                  className=&quot;bg-primary-600 text-white px-6 py-2 rounded-md hover:bg-primary-700 focus:ring-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed&quot;&#10;                &gt;&#10;                  {loading ? &quot;Saving...&quot; : &quot;Save Address&quot;}&#10;                &lt;/button&gt;&#10;              &lt;/div&gt;&#10;            )}&#10;&#10;            {/* Preferences Tab */}&#10;            {activeTab === &quot;preferences&quot; &amp;&amp; (&#10;              &lt;div className=&quot;space-y-6&quot;&gt;&#10;                &lt;h3 className=&quot;text-lg font-medium text-gray-900 dark:text-white&quot;&gt;&#10;                  Preferences&#10;                &lt;/h3&gt;&#10;&#10;                &lt;div className=&quot;space-y-6&quot;&gt;&#10;                  &lt;div&gt;&#10;                    &lt;h4 className=&quot;text-md font-medium text-gray-900 dark:text-white mb-4&quot;&gt;&#10;                      Notification Preferences&#10;                    &lt;/h4&gt;&#10;                    &lt;div className=&quot;space-y-3&quot;&gt;&#10;                      &lt;label className=&quot;flex items-center&quot;&gt;&#10;                        &lt;input&#10;                          type=&quot;checkbox&quot;&#10;                          checked={profileData.preferences.notifications.email}&#10;                          onChange={(e) =&gt;&#10;                            handleNestedChange(&quot;preferences&quot;, &quot;notifications&quot;, &quot;email&quot;, e.target.checked)&#10;                          }&#10;                          className=&quot;rounded border-gray-300 text-primary-600 shadow-sm focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50&quot;&#10;                        /&gt;&#10;                        &lt;span className=&quot;ml-2 text-sm text-gray-700 dark:text-gray-300&quot;&gt;&#10;                          Email notifications&#10;                        &lt;/span&gt;&#10;                      &lt;/label&gt;&#10;&#10;                      &lt;label className=&quot;flex items-center&quot;&gt;&#10;                        &lt;input&#10;                          type=&quot;checkbox&quot;&#10;                          checked={profileData.preferences.notifications.sms}&#10;                          onChange={(e) =&gt;&#10;                            handleNestedChange(&quot;preferences&quot;, &quot;notifications&quot;, &quot;sms&quot;, e.target.checked)&#10;                          }&#10;                          className=&quot;rounded border-gray-300 text-primary-600 shadow-sm focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50&quot;&#10;                        /&gt;&#10;                        &lt;span className=&quot;ml-2 text-sm text-gray-700 dark:text-gray-300&quot;&gt;&#10;                          SMS notifications&#10;                        &lt;/span&gt;&#10;                      &lt;/label&gt;&#10;&#10;                      &lt;label className=&quot;flex items-center&quot;&gt;&#10;                        &lt;input&#10;                          type=&quot;checkbox&quot;&#10;                          checked={profileData.preferences.notifications.orderUpdates}&#10;                          onChange={(e) =&gt;&#10;                            handleNestedChange(&quot;preferences&quot;, &quot;notifications&quot;, &quot;orderUpdates&quot;, e.target.checked)&#10;                          }&#10;                          className=&quot;rounded border-gray-300 text-primary-600 shadow-sm focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50&quot;&#10;                        /&gt;&#10;                        &lt;span className=&quot;ml-2 text-sm text-gray-700 dark:text-gray-300&quot;&gt;&#10;                          Order status updates&#10;                        &lt;/span&gt;&#10;                      &lt;/label&gt;&#10;&#10;                      &lt;label className=&quot;flex items-center&quot;&gt;&#10;                        &lt;input&#10;                          type=&quot;checkbox&quot;&#10;                          checked={profileData.preferences.notifications.lowStockAlerts}&#10;                          onChange={(e) =&gt;&#10;                            handleNestedChange(&quot;preferences&quot;, &quot;notifications&quot;, &quot;lowStockAlerts&quot;, e.target.checked)&#10;                          }&#10;                          className=&quot;rounded border-gray-300 text-primary-600 shadow-sm focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50&quot;&#10;                        /&gt;&#10;                        &lt;span className=&quot;ml-2 text-sm text-gray-700 dark:text-gray-300&quot;&gt;&#10;                          Low stock alerts&#10;                        &lt;/span&gt;&#10;                      &lt;/label&gt;&#10;&#10;                      &lt;label className=&quot;flex items-center&quot;&gt;&#10;                        &lt;input&#10;                          type=&quot;checkbox&quot;&#10;                          checked={profileData.preferences.notifications.customerMessages}&#10;                          onChange={(e) =&gt;&#10;                            handleNestedChange(&quot;preferences&quot;, &quot;notifications&quot;, &quot;customerMessages&quot;, e.target.checked)&#10;                          }&#10;                          className=&quot;rounded border-gray-300 text-primary-600 shadow-sm focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50&quot;&#10;                        /&gt;&#10;                        &lt;span className=&quot;ml-2 text-sm text-gray-700 dark:text-gray-300&quot;&gt;&#10;                          Customer messages&#10;                        &lt;/span&gt;&#10;                      &lt;/label&gt;&#10;&#10;                      &lt;label className=&quot;flex items-center&quot;&gt;&#10;                        &lt;input&#10;                          type=&quot;checkbox&quot;&#10;                          checked={profileData.preferences.notifications.marketingUpdates}&#10;                          onChange={(e) =&gt;&#10;                            handleNestedChange(&quot;preferences&quot;, &quot;notifications&quot;, &quot;marketingUpdates&quot;, e.target.checked)&#10;                          }&#10;                          className=&quot;rounded border-gray-300 text-primary-600 shadow-sm focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50&quot;&#10;                        /&gt;&#10;                        &lt;span className=&quot;ml-2 text-sm text-gray-700 dark:text-gray-300&quot;&gt;&#10;                          Marketing updates&#10;                        &lt;/span&gt;&#10;                      &lt;/label&gt;&#10;                    &lt;/div&gt;&#10;                  &lt;/div&gt;&#10;&#10;                  &lt;div&gt;&#10;                    &lt;h4 className=&quot;text-md font-medium text-gray-900 dark:text-white mb-4&quot;&gt;&#10;                      Business Preferences&#10;                    &lt;/h4&gt;&#10;                    &lt;div className=&quot;space-y-3&quot;&gt;&#10;                      &lt;label className=&quot;flex items-center&quot;&gt;&#10;                        &lt;input&#10;                          type=&quot;checkbox&quot;&#10;                          checked={profileData.preferences.autoAcceptOrders}&#10;                          onChange={(e) =&gt;&#10;                            handleNestedChange(&quot;preferences&quot;, &quot;&quot;, &quot;autoAcceptOrders&quot;, e.target.checked)&#10;                          }&#10;                          className=&quot;rounded border-gray-300 text-primary-600 shadow-sm focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50&quot;&#10;                        /&gt;&#10;                        &lt;span className=&quot;ml-2 text-sm text-gray-700 dark:text-gray-300&quot;&gt;&#10;                          Auto-accept orders&#10;                        &lt;/span&gt;&#10;                      &lt;/label&gt;&#10;&#10;                      &lt;label className=&quot;flex items-center&quot;&gt;&#10;                        &lt;input&#10;                          type=&quot;checkbox&quot;&#10;                          checked={profileData.preferences.showFarmLocation}&#10;                          onChange={(e) =&gt;&#10;                            handleNestedChange(&quot;preferences&quot;, &quot;&quot;, &quot;showFarmLocation&quot;, e.target.checked)&#10;                          }&#10;                          className=&quot;rounded border-gray-300 text-primary-600 shadow-sm focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50&quot;&#10;                        /&gt;&#10;                        &lt;span className=&quot;ml-2 text-sm text-gray-700 dark:text-gray-300&quot;&gt;&#10;                          Show farm location to customers&#10;                        &lt;/span&gt;&#10;                      &lt;/label&gt;&#10;                    &lt;/div&gt;&#10;                  &lt;/div&gt;&#10;&#10;                  &lt;div className=&quot;grid grid-cols-1 md:grid-cols-2 gap-6&quot;&gt;&#10;                    &lt;div&gt;&#10;                      &lt;label className=&quot;block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2&quot;&gt;&#10;                        Language&#10;                      &lt;/label&gt;&#10;                      &lt;select&#10;                        value={profileData.preferences.language}&#10;                        onChange={(e) =&gt;&#10;                          handleNestedChange(&quot;preferences&quot;, &quot;&quot;, &quot;language&quot;, e.target.value)&#10;                        }&#10;                        className=&quot;w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white&quot;&#10;                      &gt;&#10;                        &lt;option value=&quot;en&quot;&gt;English&lt;/option&gt;&#10;                        &lt;option value=&quot;es&quot;&gt;Spanish&lt;/option&gt;&#10;                        &lt;option value=&quot;fr&quot;&gt;French&lt;/option&gt;&#10;                        &lt;option value=&quot;de&quot;&gt;German&lt;/option&gt;&#10;                      &lt;/select&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    &lt;div&gt;&#10;                      &lt;label className=&quot;block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2&quot;&gt;&#10;                        Currency&#10;                      &lt;/label&gt;&#10;                      &lt;select&#10;                        value={profileData.preferences.currency}&#10;                        onChange={(e) =&gt;&#10;                          handleNestedChange(&quot;preferences&quot;, &quot;&quot;, &quot;currency&quot;, e.target.value)&#10;                        }&#10;                        className=&quot;w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white&quot;&#10;                      &gt;&#10;                        &lt;option value=&quot;USD&quot;&gt;USD ($)&lt;/option&gt;&#10;                        &lt;option value=&quot;EUR&quot;&gt;EUR (€)&lt;/option&gt;&#10;                        &lt;option value=&quot;GBP&quot;&gt;GBP (£)&lt;/option&gt;&#10;                        &lt;option value=&quot;CAD&quot;&gt;CAD ($)&lt;/option&gt;&#10;                      &lt;/select&gt;&#10;                    &lt;/div&gt;&#10;                  &lt;/div&gt;&#10;                &lt;/div&gt;&#10;&#10;                &lt;button&#10;                  onClick={handlePersonalInfoUpdate}&#10;                  disabled={loading}&#10;                  className=&quot;bg-primary-600 text-white px-6 py-2 rounded-md hover:bg-primary-700 focus:ring-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed&quot;&#10;                &gt;&#10;                  {loading ? &quot;Saving...&quot; : &quot;Save Preferences&quot;}&#10;                &lt;/button&gt;&#10;              &lt;/div&gt;&#10;            )}&#10;&#10;            {/* Security Tab */}&#10;            {activeTab === &quot;security&quot; &amp;&amp; (&#10;              &lt;div className=&quot;space-y-6&quot;&gt;&#10;                &lt;h3 className=&quot;text-lg font-medium text-gray-900 dark:text-white&quot;&gt;&#10;                  Security Settings&#10;                &lt;/h3&gt;&#10;&#10;                &lt;div className=&quot;max-w-md space-y-6&quot;&gt;&#10;                  &lt;div&gt;&#10;                    &lt;label className=&quot;block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2&quot;&gt;&#10;                      Current Password&#10;                    &lt;/label&gt;&#10;                    &lt;input&#10;                      type=&quot;password&quot;&#10;                      value={profileData.security.currentPassword}&#10;                      onChange={(e) =&gt;&#10;                        handleNestedChange(&quot;security&quot;, &quot;&quot;, &quot;currentPassword&quot;, e.target.value)&#10;                      }&#10;                      className=&quot;w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white&quot;&#10;                    /&gt;&#10;                  &lt;/div&gt;&#10;&#10;                  &lt;div&gt;&#10;                    &lt;label className=&quot;block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2&quot;&gt;&#10;                      New Password&#10;                    &lt;/label&gt;&#10;                    &lt;input&#10;                      type=&quot;password&quot;&#10;                      value={profileData.security.newPassword}&#10;                      onChange={(e) =&gt;&#10;                        handleNestedChange(&quot;security&quot;, &quot;&quot;, &quot;newPassword&quot;, e.target.value)&#10;                      }&#10;                      className=&quot;w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white&quot;&#10;                    /&gt;&#10;                  &lt;/div&gt;&#10;&#10;                  &lt;div&gt;&#10;                    &lt;label className=&quot;block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2&quot;&gt;&#10;                      Confirm New Password&#10;                    &lt;/label&gt;&#10;                    &lt;input&#10;                      type=&quot;password&quot;&#10;                      value={profileData.security.confirmPassword}&#10;                      onChange={(e) =&gt;&#10;                        handleNestedChange(&quot;security&quot;, &quot;&quot;, &quot;confirmPassword&quot;, e.target.value)&#10;                      }&#10;                      className=&quot;w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white&quot;&#10;                    /&gt;&#10;                  &lt;/div&gt;&#10;&#10;                  &lt;button&#10;                    onClick={handlePasswordChange}&#10;                    disabled={loading}&#10;                    className=&quot;bg-primary-600 text-white px-6 py-2 rounded-md hover:bg-primary-700 focus:ring-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed&quot;&#10;                  &gt;&#10;                    {loading ? &quot;Updating...&quot; : &quot;Update Password&quot;}&#10;                  &lt;/button&gt;&#10;                &lt;/div&gt;&#10;              &lt;/div&gt;&#10;            )}&#10;          &lt;/div&gt;&#10;        &lt;/div&gt;&#10;      &lt;/div&gt;&#10;    &lt;/div&gt;&#10;  );&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/check-mismatch.js">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/check-mismatch.js" />
              <option name="updatedContent" value="// Simple script to check the review-product mismatch&#10;const { MongoClient } = require('mongodb');&#10;&#10;async function checkMismatch() {&#10;  const client = new MongoClient('mongodb://localhost:27017');&#10;  await client.connect();&#10;  const db = client.db('farmfresh');&#10;  &#10;  console.log(' Checking product-review mismatch...\n');&#10;  &#10;  // Get all products&#10;  const products = await db.collection('products').find({}).toArray();&#10;  console.log(` Total products: ${products.length}`);&#10;  console.log('Product IDs:', products.slice(0, 5).map(p =&gt; p._id.toString()));&#10;  &#10;  // Get all reviews  &#10;  const reviews = await db.collection('reviews').find({}).toArray();&#10;  console.log(`\n Total reviews: ${reviews.length}`);&#10;  console.log('Review product IDs:', reviews.map(r =&gt; r.productId));&#10;  &#10;  // Check for matches&#10;  const productIds = products.map(p =&gt; p._id.toString());&#10;  const reviewProductIds = reviews.map(r =&gt; r.productId);&#10;  &#10;  const matches = productIds.filter(pid =&gt; reviewProductIds.includes(pid));&#10;  console.log(`\n✅ Matching product-review pairs: ${matches.length}`);&#10;  &#10;  if (matches.length &gt; 0) {&#10;    console.log('Matched IDs:', matches);&#10;    &#10;    // Show which products have reviews&#10;    for (const matchId of matches) {&#10;      const product = products.find(p =&gt; p._id.toString() === matchId);&#10;      const productReviews = reviews.filter(r =&gt; r.productId === matchId);&#10;      console.log(`- ${product.name}: ${productReviews.length} reviews`);&#10;    }&#10;  } else {&#10;    console.log('\n❌ No matches found!');&#10;    console.log('This means the existing reviews belong to products that no longer exist');&#10;    console.log('or have different IDs than the current products in the database');&#10;  }&#10;  &#10;  await client.close();&#10;}&#10;&#10;checkMismatch().catch(console.error);" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/debug-old-reviews.js">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/debug-old-reviews.js" />
              <option name="updatedContent" value="// Debug why old products with reviews aren't showing ratings on products page&#10;const { MongoClient, ObjectId } = require('mongodb');&#10;&#10;async function debugOldProductReviews() {&#10;  const client = new MongoClient('mongodb://localhost:27017');&#10;  await client.connect();&#10;  const db = client.db('farmfresh');&#10;  &#10;  console.log(' Debugging old product reviews...\n');&#10;  &#10;  // Get all reviews&#10;  const allReviews = await db.collection('reviews').find({}).toArray();&#10;  console.log(` Total reviews in database: ${allReviews.length}`);&#10;  &#10;  // Get sample of old products (first 5)&#10;  const oldProducts = await db.collection('products').find({}).limit(5).toArray();&#10;  console.log(` Checking first 5 products:\n`);&#10;  &#10;  for (const product of oldProducts) {&#10;    const productId = product._id.toString();&#10;    const productReviews = allReviews.filter(review =&gt; review.productId === productId);&#10;    &#10;    console.log(`Product: ${product.name} (ID: ${productId})`);&#10;    console.log(`  Reviews found: ${productReviews.length}`);&#10;    if (productReviews.length &gt; 0) {&#10;      console.log(`  Sample review: ${productReviews[0].comment?.substring(0, 50)}...`);&#10;      console.log(`  Review rating: ${productReviews[0].rating}`);&#10;    }&#10;    console.log('');&#10;  }&#10;  &#10;  // Check the structure of all reviews&#10;  console.log(' All review product IDs:');&#10;  const reviewProductIds = [...new Set(allReviews.map(r =&gt; r.productId))];&#10;  reviewProductIds.forEach(id =&gt; {&#10;    const count = allReviews.filter(r =&gt; r.productId === id).length;&#10;    console.log(`  ${id}: ${count} reviews`);&#10;  });&#10;  &#10;  await client.close();&#10;}&#10;&#10;debugOldProductReviews().catch(console.error);" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/debug-reviews.js">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/debug-reviews.js" />
              <option name="updatedContent" value="// Quick debug script to check reviews and products&#10;const { MongoClient } = require('mongodb');&#10;&#10;async function debugReviews() {&#10;  const client = new MongoClient('mongodb://localhost:27017');&#10;  await client.connect();&#10;  const db = client.db('farmfresh');&#10;  &#10;  // Get sample products&#10;  const products = await db.collection('products').find({}).limit(3).toArray();&#10;  console.log('Sample products:');&#10;  products.forEach(p =&gt; console.log(`- ${p.name} (ID: ${p._id})`));&#10;  &#10;  console.log('\n');&#10;  &#10;  // Get sample reviews&#10;  const reviews = await db.collection('reviews').find({}).limit(5).toArray();&#10;  console.log('Sample reviews:');&#10;  reviews.forEach(r =&gt; console.log(`- Product ID: ${r.productId}, Rating: ${r.rating}, Comment: ${r.comment?.substring(0, 30)}...`));&#10;  &#10;  console.log('\n');&#10;  &#10;  // Check for ID matches&#10;  const productIds = products.map(p =&gt; p._id.toString());&#10;  const reviewProductIds = reviews.map(r =&gt; r.productId);&#10;  console.log('Product IDs:', productIds);&#10;  console.log('Review Product IDs:', reviewProductIds);&#10;  &#10;  const matches = productIds.filter(pid =&gt; reviewProductIds.includes(pid));&#10;  console.log('Matching IDs:', matches);&#10;  &#10;  await client.close();&#10;}&#10;&#10;debugReviews().catch(console.error);" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/fix-reviews.js">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/fix-reviews.js" />
              <option name="originalContent" value="  const client = new MongoClient(&quot;mongodb://localhost:27017&quot;);&#10;  });&#10;&#10;  console.log(`✅ Removed ${result.deletedCount} recent reviews`);&#10;  await client.close();&#10;}&#10;&#10;async function showReviewTimeline() {&#10;  const client = new MongoClient(&quot;mongodb://localhost:27017&quot;);&#10;  await client.connect();&#10;  const db = client.db(&quot;farmfresh&quot;);&#10;&#10;  const reviews = await db&#10;    .collection(&quot;reviews&quot;)&#10;    .find({})&#10;    .sort({ createdAt: 1 })&#10;    .toArray();&#10;&#10;  console.log(&quot;\n Review timeline (oldest to newest):&quot;);&#10;  reviews.forEach((review, index) =&gt; {&#10;    console.log(&#10;      `${index + 1}. ${review.createdAt.toISOString()} - ${review.reviewer} - ${review.comment?.substring(0, 50)}...`,&#10;    );&#10;  });&#10;&#10;  await client.close();&#10;}&#10;" />
              <option name="updatedContent" value="// Check and fix review mess - remove duplicate reviews added by mistake&#10;const { MongoClient, ObjectId } = require(&quot;mongodb&quot;);&#10;&#10;async function fixReviewMess() {&#10;  const client = new MongoClient(&quot;mongodb://localhost:27017&quot;);&#10;  await client.connect();&#10;  const db = client.db(&quot;farmfresh&quot;);&#10;&#10;  console.log(&quot; Analyzing review situation...&quot;);&#10;&#10;  // Get all reviews&#10;  const allReviews = await db.collection(&quot;reviews&quot;).find({}).toArray();&#10;  console.log(`Total reviews in database: ${allReviews.length}`);&#10;&#10;  // Group reviews by product ID&#10;  const reviewsByProduct = {};&#10;  allReviews.forEach((review) =&gt; {&#10;    if (!reviewsByProduct[review.productId]) {&#10;      reviewsByProduct[review.productId] = [];&#10;    }&#10;    reviewsByProduct[review.productId].push(review);&#10;  });&#10;&#10;  console.log(&quot;\n Reviews per product:&quot;);&#10;  Object.entries(reviewsByProduct).forEach(([productId, reviews]) =&gt; {&#10;    const product = reviews[0]; // Just to get some context&#10;    console.log(`Product ID ${productId}: ${reviews.length} reviews`);&#10;&#10;    // Show reviewers to identify duplicates&#10;    const reviewers = reviews.map((r) =&gt; r.reviewer).join(&quot;, &quot;);&#10;    console.log(`  Reviewers: ${reviewers}`);&#10;&#10;    // Check for suspicious patterns (our sample review names)&#10;    const sampleReviewers = [&#10;      &quot;John Doe&quot;,&#10;      &quot;Jane Smith&quot;,&#10;      &quot;Mike Johnson&quot;,&#10;      &quot;Sarah Wilson&quot;,&#10;      &quot;David Brown&quot;,&#10;    ];&#10;    const hasSampleReviews = reviews.some((r) =&gt;&#10;      sampleReviewers.includes(r.reviewer),&#10;    );&#10;    if (hasSampleReviews) {&#10;      console.log(&#10;        `  ⚠️ This product has sample reviews that might need removal`,&#10;      );&#10;    }&#10;    console.log(&quot;&quot;);&#10;  });&#10;&#10;  // Ask what to do&#10;  console.log(&quot;\n What would you like to do?&quot;);&#10;  console.log(&#10;    &quot;1. Remove all reviews with sample reviewer names (John Doe, Jane Smith, etc.)&quot;,&#10;  );&#10;  console.log(&quot;2. Remove reviews created in the last hour (recent additions)&quot;);&#10;  console.log(&#10;    &quot;3. Show me the oldest vs newest reviews to identify which are original&quot;,&#10;  );&#10;  console.log(&quot;\nRun with parameter: node fix-reviews.js [1|2|3]&quot;);&#10;&#10;  await client.close();&#10;}&#10;&#10;// Handle command line arguments&#10;const action = process.argv[2];&#10;&#10;if (action === &quot;1&quot;) {&#10;  removeSampleReviews();&#10;} else if (action === &quot;2&quot;) {&#10;  removeRecentReviews();&#10;} else if (action === &quot;3&quot;) {&#10;  showReviewTimeline();&#10;} else {&#10;  fixReviewMess().catch(console.error);&#10;}&#10;&#10;async function removeSampleReviews() {&#10;  const client = new MongoClient(&quot;mongodb://localhost:27017&quot;);&#10;  await client.connect();&#10;  const db = client.db(&quot;farmfresh&quot;);&#10;&#10;  const sampleReviewers = [&#10;    &quot;John Doe&quot;,&#10;    &quot;Jane Smith&quot;,&#10;    &quot;Mike Johnson&quot;,&#10;    &quot;Sarah Wilson&quot;,&#10;    &quot;David Brown&quot;,&#10;  ];&#10;&#10;  console.log(&quot;️ Removing sample reviews...&quot;);&#10;  const result = await db.collection(&quot;reviews&quot;).deleteMany({&#10;    reviewer: { $in: sampleReviewers },&#10;  });&#10;&#10;  console.log(`✅ Removed ${result.deletedCount} sample reviews`);&#10;&#10;  // Check what's left&#10;  const remainingReviews = await db.collection(&quot;reviews&quot;).find({}).toArray();&#10;  console.log(` Remaining reviews: ${remainingReviews.length}`);&#10;  console.log(&quot;Your original reviews:&quot;);&#10;  remainingReviews.forEach((r) =&gt;&#10;    console.log(`- ${r.reviewer || &quot;Anonymous&quot;}: ${r.comment?.substring(0, 50)}...`),&#10;  );&#10;&#10;  await client.close();&#10;}&#10;&#10;async function removeRecentReviews() {&#10;  const client = new MongoClient(&quot;mongodb://localhost:27017&quot;);&#10;  await client.connect();&#10;  const db = client.db(&quot;farmfresh&quot;);&#10;&#10;  const oneHourAgo = new Date(Date.now() - 60 * 60 * 1000);&#10;&#10;  console.log(&quot;️ Removing reviews created in the last hour...&quot;);&#10;  const result = await db.collection(&quot;reviews&quot;).deleteMany({&#10;    createdAt: { $gte: oneHourAgo },&#10;  });&#10;&#10;  console.log(`✅ Removed ${result.deletedCount} recent reviews`);&#10;  await client.close();&#10;}&#10;&#10;async function showReviewTimeline() {&#10;  const client = new MongoClient(&quot;mongodb://localhost:27017&quot;);&#10;  await client.connect();&#10;  const db = client.db(&quot;farmfresh&quot;);&#10;&#10;  const reviews = await db&#10;    .collection(&quot;reviews&quot;)&#10;    .find({})&#10;    .sort({ createdAt: 1 })&#10;    .toArray();&#10;&#10;  console.log(&quot;\n Review timeline (oldest to newest):&quot;);&#10;  reviews.forEach((review, index) =&gt; {&#10;    console.log(&#10;      `${index + 1}. ${review.createdAt.toISOString()} - ${review.reviewer} - ${review.comment?.substring(0, 50)}...`,&#10;    );&#10;  });&#10;&#10;  await client.close();&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/make-visible.js">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/make-visible.js" />
              <option name="updatedContent" value="// Make the products with reviews visible by marking them as featured&#10;const { MongoClient, ObjectId } = require('mongodb');&#10;&#10;async function makeReviewedProductsVisible() {&#10;  const client = new MongoClient('mongodb://localhost:27017');&#10;  await client.connect();&#10;  const db = client.db('farmfresh');&#10;  &#10;  const productIdsWithReviews = ['6889cb7ab6d22dd651140bee', '688affa63c35c3c0ff9c4925'];&#10;  &#10;  console.log(' Making products with reviews visible...\n');&#10;  &#10;  for (const productId of productIdsWithReviews) {&#10;    try {&#10;      const result = await db.collection('products').updateOne(&#10;        { _id: new ObjectId(productId) },&#10;        { &#10;          $set: { &#10;            featured: true,&#10;            status: 'active',&#10;            stock: Math.max(10, 0) // Ensure they have stock&#10;          } &#10;        }&#10;      );&#10;      &#10;      if (result.matchedCount &gt; 0) {&#10;        console.log(`✅ Updated product ${productId} to be featured and active`);&#10;      } else {&#10;        console.log(`❌ Product ${productId} not found`);&#10;      }&#10;    } catch (error) {&#10;      console.log(`❌ Error updating product ${productId}: ${error.message}`);&#10;    }&#10;  }&#10;  &#10;  console.log('\n Now check your homepage - the products with reviews should appear in the featured section with star ratings!');&#10;  &#10;  await client.close();&#10;}&#10;&#10;makeReviewedProductsVisible().catch(console.error);" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/scripts/migrate-farmers.js">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/scripts/migrate-farmers.js" />
              <option name="updatedContent" value="// Script to migrate farmers from users collection to farmers collection&#10;import clientPromise from &quot;../lib/mongodb.js&quot;;&#10;&#10;async function migrateFarmers() {&#10;  try {&#10;    const client = await clientPromise;&#10;    const db = client.db(&quot;farmfresh&quot;);&#10;    const usersCollection = db.collection(&quot;users&quot;);&#10;    const farmersCollection = db.collection(&quot;farmers&quot;);&#10;&#10;    // Find all users with userType &quot;farmer&quot;&#10;    const farmerUsers = await usersCollection.find({ userType: &quot;farmer&quot; }).toArray();&#10;    &#10;    console.log(`Found ${farmerUsers.length} farmer users to migrate`);&#10;&#10;    for (const user of farmerUsers) {&#10;      // Check if farmer already exists in farmers collection&#10;      const existingFarmer = await farmersCollection.findOne({ _id: user._id });&#10;      &#10;      if (!existingFarmer) {&#10;        // Create farmer document&#10;        const farmerData = {&#10;          _id: user._id,&#10;          name: user.name || `${user.firstName} ${user.lastName}`,&#10;          email: user.email,&#10;          phone: user.phone || &quot;&quot;,&#10;          location: user.address || &quot;&quot;,&#10;          farmName: user.farmDetails?.farmName || `${user.name}'s Farm`,&#10;          specializations: user.farmDetails?.specialization ? &#10;            Array.isArray(user.farmDetails.specialization) ? &#10;              user.farmDetails.specialization : &#10;              [user.farmDetails.specialization] : &#10;            [&quot;General Farming&quot;],&#10;          farmSize: user.farmDetails?.farmSize || null,&#10;          farmSizeUnit: user.farmDetails?.farmSizeUnit || &quot;acres&quot;,&#10;          bio: user.bio || &quot;&quot;,&#10;          profilePicture: user.profilePicture || null,&#10;          rating: 0,&#10;          totalReviews: 0,&#10;          verified: false,&#10;          joinedDate: user.createdAt || new Date(),&#10;          products: [],&#10;          orders: [],&#10;          availability: {&#10;            status: &quot;available&quot;,&#10;            schedule: {&#10;              monday: { start: &quot;09:00&quot;, end: &quot;17:00&quot;, available: true },&#10;              tuesday: { start: &quot;09:00&quot;, end: &quot;17:00&quot;, available: true },&#10;              wednesday: { start: &quot;09:00&quot;, end: &quot;17:00&quot;, available: true },&#10;              thursday: { start: &quot;09:00&quot;, end: &quot;17:00&quot;, available: true },&#10;              friday: { start: &quot;09:00&quot;, end: &quot;17:00&quot;, available: true },&#10;              saturday: { start: &quot;09:00&quot;, end: &quot;15:00&quot;, available: true },&#10;              sunday: { start: &quot;10:00&quot;, end: &quot;14:00&quot;, available: false }&#10;            }&#10;          },&#10;          socialMedia: {&#10;            facebook: &quot;&quot;,&#10;            instagram: &quot;&quot;,&#10;            twitter: &quot;&quot;,&#10;            website: &quot;&quot;&#10;          },&#10;          certifications: [],&#10;          deliveryOptions: {&#10;            farmPickup: true,&#10;            localDelivery: false,&#10;            shipping: false,&#10;            deliveryRadius: 0&#10;          },&#10;          createdAt: user.createdAt || new Date(),&#10;          updatedAt: new Date()&#10;        };&#10;&#10;        // Insert farmer&#10;        await farmersCollection.insertOne(farmerData);&#10;        console.log(`✅ Migrated farmer: ${farmerData.name}`);&#10;      } else {&#10;        console.log(`⚠️  Farmer ${user.name} already exists in farmers collection`);&#10;      }&#10;    }&#10;&#10;    console.log(&quot;✅ Migration completed!&quot;);&#10;    &#10;    // Show final count&#10;    const totalFarmers = await farmersCollection.countDocuments();&#10;    console.log(` Total farmers in collection: ${totalFarmers}`);&#10;    &#10;  } catch (error) {&#10;    console.error(&quot;❌ Migration error:&quot;, error);&#10;  }&#10;}&#10;&#10;migrateFarmers();" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/scripts/optimize-atlas-indexes.js">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/scripts/optimize-atlas-indexes.js" />
              <option name="updatedContent" value="// MongoDB Atlas Performance Optimization Script&#10;// Run this script to create optimized indexes for better Atlas performance&#10;&#10;import clientPromise from &quot;../lib/mongodb.js&quot;;&#10;&#10;async function createAtlasOptimizedIndexes() {&#10;  try {&#10;    const client = await clientPromise;&#10;    const db = client.db(&quot;farmfresh&quot;);&#10;    &#10;    console.log(&quot; Starting MongoDB Atlas index optimization...&quot;);&#10;&#10;    // Products Collection - Optimized for products page performance&#10;    const productsCollection = db.collection(&quot;products&quot;);&#10;    console.log(&quot; Optimizing products collection indexes...&quot;);&#10;    &#10;    await productsCollection.createIndex(&#10;      { status: 1, category: 1, featured: 1, createdAt: -1 },&#10;      { name: &quot;products_main_query_idx&quot;, background: true }&#10;    );&#10;    &#10;    await productsCollection.createIndex(&#10;      { status: 1, featured: 1, averageRating: -1 },&#10;      { name: &quot;products_featured_rating_idx&quot;, background: true }&#10;    );&#10;    &#10;    await productsCollection.createIndex(&#10;      { status: 1, price: 1 },&#10;      { name: &quot;products_price_filter_idx&quot;, background: true }&#10;    );&#10;    &#10;    await productsCollection.createIndex(&#10;      { status: 1, purchaseCount: -1 },&#10;      { name: &quot;products_popularity_idx&quot;, background: true }&#10;    );&#10;&#10;    // Orders Collection - Optimized for farmer dashboard and orders pages&#10;    const ordersCollection = db.collection(&quot;orders&quot;);&#10;    console.log(&quot; Optimizing orders collection indexes...&quot;);&#10;    &#10;    // Critical farmer query indexes&#10;    await ordersCollection.createIndex(&#10;      { &quot;items.farmerId&quot;: 1, status: 1, createdAt: -1 },&#10;      { name: &quot;farmer_orders_main_idx&quot;, background: true }&#10;    );&#10;    &#10;    await ordersCollection.createIndex(&#10;      { &quot;items.farmerEmail&quot;: 1, status: 1, createdAt: -1 },&#10;      { name: &quot;farmer_email_orders_idx&quot;, background: true }&#10;    );&#10;    &#10;    // Customer order indexes&#10;    await ordersCollection.createIndex(&#10;      { userId: 1, createdAt: -1 },&#10;      { name: &quot;customer_orders_idx&quot;, background: true }&#10;    );&#10;    &#10;    // Status filtering&#10;    await ordersCollection.createIndex(&#10;      { status: 1, createdAt: -1 },&#10;      { name: &quot;status_date_idx&quot;, background: true }&#10;    );&#10;&#10;    // Reviews Collection - For faster review loading&#10;    const reviewsCollection = db.collection(&quot;reviews&quot;);&#10;    console.log(&quot;⭐ Optimizing reviews collection indexes...&quot;);&#10;    &#10;    await reviewsCollection.createIndex(&#10;      { productId: 1, createdAt: -1 },&#10;      { name: &quot;product_reviews_idx&quot;, background: true }&#10;    );&#10;    &#10;    await reviewsCollection.createIndex(&#10;      { userId: 1, productId: 1 },&#10;      { name: &quot;user_product_review_idx&quot;, background: true, unique: true }&#10;    );&#10;&#10;    // Favorites Collection - For user favorites&#10;    const favoritesCollection = db.collection(&quot;favorites&quot;);&#10;    console.log(&quot;❤️ Optimizing favorites collection indexes...&quot;);&#10;    &#10;    await favoritesCollection.createIndex(&#10;      { userId: 1, productId: 1 },&#10;      { name: &quot;user_favorites_idx&quot;, background: true, unique: true }&#10;    );&#10;    &#10;    await favoritesCollection.createIndex(&#10;      { userId: 1, createdAt: -1 },&#10;      { name: &quot;user_favorites_date_idx&quot;, background: true }&#10;    );&#10;&#10;    // Carts Collection - For cart operations&#10;    const cartsCollection = db.collection(&quot;carts&quot;);&#10;    console.log(&quot; Optimizing carts collection indexes...&quot;);&#10;    &#10;    await cartsCollection.createIndex(&#10;      { userId: 1 },&#10;      { name: &quot;user_cart_idx&quot;, background: true, unique: true }&#10;    );&#10;&#10;    console.log(&quot;✅ Atlas optimization complete!&quot;);&#10;    console.log(&quot; Performance improvements applied for:&quot;);&#10;    console.log(&quot;   • Products page - faster filtering and sorting&quot;);&#10;    console.log(&quot;   • Farmer dashboard - optimized order queries&quot;);&#10;    console.log(&quot;   • Farmer orders page - improved farmer-specific queries&quot;);&#10;    console.log(&quot;   • Reviews and favorites - faster user interactions&quot;);&#10;    &#10;    return true;&#10;  } catch (error) {&#10;    console.error(&quot;❌ Error optimizing indexes:&quot;, error);&#10;    return false;&#10;  }&#10;}&#10;&#10;// Atlas-specific query optimization hints&#10;async function optimizeAtlasQueries() {&#10;  console.log(&quot; Applying Atlas-specific optimizations...&quot;);&#10;  &#10;  const client = await clientPromise;&#10;  const db = client.db(&quot;farmfresh&quot;);&#10;  &#10;  // Enable collection-level read preferences for better performance&#10;  const collections = ['products', 'orders', 'reviews', 'favorites', 'carts'];&#10;  &#10;  for (const collectionName of collections) {&#10;    const collection = db.collection(collectionName);&#10;    &#10;    // Set read preference to secondary for read-heavy operations&#10;    collection.readPreference = 'secondaryPreferred';&#10;    &#10;    console.log(` Optimized read preference for ${collectionName}`);&#10;  }&#10;  &#10;  console.log(&quot;✅ Query optimizations applied!&quot;);&#10;}&#10;&#10;// Main execution function&#10;async function main() {&#10;  console.log(&quot; MongoDB Atlas Performance Optimization&quot;);&#10;  console.log(&quot;=========================================&quot;);&#10;  &#10;  const indexSuccess = await createAtlasOptimizedIndexes();&#10;  &#10;  if (indexSuccess) {&#10;    await optimizeAtlasQueries();&#10;    console.log(&quot; Your FarmFresh app is now optimized for Atlas!&quot;);&#10;    console.log(&quot; Expected performance improvements:&quot;);&#10;    console.log(&quot;   • Products page: 60-80% faster&quot;);&#10;    console.log(&quot;   • Farmer dashboard: 70-90% faster&quot;); &#10;    console.log(&quot;   • Order queries: 50-70% faster&quot;);&#10;  } else {&#10;    console.log(&quot;❌ Optimization failed. Check your MongoDB connection.&quot;);&#10;  }&#10;}&#10;&#10;// Run if called directly&#10;if (import.meta.url === `file://${process.argv[1]}`) {&#10;  main().catch(console.error);&#10;}&#10;&#10;export { createAtlasOptimizedIndexes, optimizeAtlasQueries };" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/specialization-card.txt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/specialization-card.txt" />
              <option name="updatedContent" value="{/* Dynamic Farm Specializations Card */}&#10;&lt;div className=&quot;group relative overflow-hidden rounded-3xl bg-gradient-to-br from-emerald-50 via-teal-50 to-cyan-50 dark:from-emerald-900/20 dark:via-teal-900/20 dark:to-cyan-900/20 p-8 hover:shadow-2xl transition-all duration-700 border border-emerald-200 dark:border-emerald-800&quot;&gt;&#10;  &lt;div className=&quot;absolute inset-0 bg-gradient-to-br from-emerald-400/10 to-teal-400/10 opacity-0 group-hover:opacity-100 transition-opacity duration-500&quot;&gt;&lt;/div&gt;&#10;  &lt;div className=&quot;absolute top-4 right-4 w-16 h-16 bg-emerald-100 dark:bg-emerald-800/30 rounded-full opacity-20 group-hover:scale-150 group-hover:rotate-180 transition-all duration-700&quot;&gt;&lt;/div&gt;&#10;  &lt;div className=&quot;relative z-10&quot;&gt;&#10;    &lt;div className=&quot;flex items-center justify-between mb-6&quot;&gt;&#10;      &lt;div className=&quot;w-16 h-16 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-2xl flex items-center justify-center transform group-hover:rotate-12 transition-transform duration-500 shadow-lg&quot;&gt;&#10;        &lt;i className=&quot;fas fa-spa text-2xl text-white&quot;&gt;&lt;/i&gt;&#10;      &lt;/div&gt;&#10;      &lt;div className=&quot;text-right&quot;&gt;&#10;        &lt;div className=&quot;text-4xl font-bold text-emerald-600 dark:text-emerald-400 mb-1&quot;&gt;&#10;          {farmer.specializations?.length || stats.categories?.length || 3}&#10;        &lt;/div&gt;&#10;        &lt;div className=&quot;text-emerald-500 dark:text-emerald-300 text-sm font-medium&quot;&gt;&#10;          Specializations&#10;        &lt;/div&gt;&#10;      &lt;/div&gt;&#10;    &lt;/div&gt;&#10;    &lt;div className=&quot;space-y-3&quot;&gt;&#10;      &lt;div className=&quot;text-center&quot;&gt;&#10;        &lt;div className=&quot;flex flex-wrap gap-1 justify-center mb-3&quot;&gt;&#10;          {(farmer.specializations?.slice(0, 3) || stats.categories?.slice(0, 3) || ['Organic', 'Fresh', 'Quality']).map((spec, index) =&gt; {&#10;            const icons = {&#10;              'Grains': 'fas fa-seedling',&#10;              'Fruits': 'fas fa-apple-alt',&#10;              'Vegetables': 'fas fa-carrot',&#10;              'Herbs': 'fas fa-leaf',&#10;              'Honey': 'fas fa-bug',&#10;              'Dairy': 'fas fa-glass-whiskey',&#10;              'Organic': 'fas fa-leaf',&#10;              'Fresh': 'fas fa-sun',&#10;              'Quality': 'fas fa-star'&#10;            };&#10;            const colors = ['text-emerald-500', 'text-teal-500', 'text-cyan-500'];&#10;            return (&#10;              &lt;div key={index} className=&quot;flex items-center bg-white/70 dark:bg-emerald-900/30 rounded-full px-2 py-1&quot;&gt;&#10;                &lt;i className={`${icons[spec] || 'fas fa-spa'} ${colors[index % 3]} text-xs mr-1`}&gt;&lt;/i&gt;&#10;                &lt;span className=&quot;text-xs font-medium text-gray-700 dark:text-gray-300&quot;&gt;{spec}&lt;/span&gt;&#10;              &lt;/div&gt;&#10;            );&#10;          })}&#10;        &lt;/div&gt;&#10;      &lt;/div&gt;&#10;      &lt;div className=&quot;flex items-center space-x-2&quot;&gt;&#10;        &lt;div className=&quot;flex-1 h-2 bg-emerald-100 dark:bg-emerald-900/30 rounded-full overflow-hidden&quot;&gt;&#10;          &lt;div&#10;            className=&quot;h-full bg-gradient-to-r from-emerald-500 to-teal-500 rounded-full animate-pulse&quot;&#10;            style={{ width: &quot;90%&quot; }}&#10;          &gt;&lt;/div&gt;&#10;        &lt;/div&gt;&#10;        &lt;span className=&quot;text-xs text-emerald-600 dark:text-emerald-400 font-medium&quot;&gt;&#10;          Expert&#10;        &lt;/span&gt;&#10;      &lt;/div&gt;&#10;      &lt;div className=&quot;text-center text-xs text-gray-500 dark:text-gray-400&quot;&gt;&#10;        Premium farm specialties&#10;      &lt;/div&gt;&#10;    &lt;/div&gt;&#10;  &lt;/div&gt;&#10;&lt;/div&gt;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>